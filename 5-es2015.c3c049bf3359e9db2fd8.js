(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{E5tf:function(e,t,r){"use strict";r.r(t),r.d(t,"ChildRoutesModule",function(){return Gn});var n=r("tyNb"),i=r("Akov"),s=r("fXoL"),c=r("l7P3"),o=r("ofXK");function a(e,t){if(1&e&&(s.Sb(0,"h2",14),s.Ob(1,"i",15),s.Ac(2),s.Rb()),2&e){const e=s.fc();s.Ab(1),s.lc("ngClass",null==e.titlePageHeader?null:e.titlePageHeader.icon),s.Ab(1),s.Cc(" ",e.titlePageHeader.title," ")}}function l(e,t){1&e&&(s.Sb(0,"div",4),s.Sb(1,"div",5),s.Sb(2,"div",6),s.Ob(3,"i",16),s.Sb(4,"span",8),s.Ac(5,"CAPTURA"),s.Rb(),s.Rb(),s.Sb(6,"div",9),s.Sb(7,"a",17),s.Ob(8,"i",11),s.Rb(),s.Rb(),s.Rb(),s.Sb(9,"div",12),s.Sb(10,"p",13),s.Ac(11,"Captura de expediente de ingreso."),s.Rb(),s.Rb(),s.Rb())}function b(e,t){1&e&&(s.Sb(0,"div",4),s.Sb(1,"div",5),s.Sb(2,"div",6),s.Ob(3,"i",18),s.Sb(4,"span",8),s.Ac(5,"CONSULTA"),s.Rb(),s.Rb(),s.Sb(6,"div",9),s.Sb(7,"a",19),s.Ob(8,"i",11),s.Rb(),s.Rb(),s.Rb(),s.Sb(9,"div",12),s.Sb(10,"p",13),s.Ac(11,"Consulta de expedientes."),s.Rb(),s.Rb(),s.Rb())}function d(e,t){1&e&&(s.Sb(0,"div",4),s.Sb(1,"div",5),s.Sb(2,"div",6),s.Ob(3,"i",20),s.Sb(4,"span",8),s.Ac(5,"CONSTANCIA"),s.Rb(),s.Rb(),s.Sb(6,"div",9),s.Sb(7,"a",21),s.Ob(8,"i",11),s.Rb(),s.Rb(),s.Rb(),s.Sb(9,"div",12),s.Sb(10,"p",13),s.Ac(11,"Imprimir constancia de no antecedente penal."),s.Rb(),s.Rb(),s.Rb())}function u(e,t){1&e&&(s.Sb(0,"div",4),s.Sb(1,"div",5),s.Sb(2,"div",6),s.Ob(3,"i",22),s.Sb(4,"span",8),s.Ac(5,"CAT\xc1LOGOS"),s.Rb(),s.Rb(),s.Rb(),s.Sb(6,"div",12),s.Sb(7,"a",23),s.Ob(8,"i",24),s.Ac(9," PERSONAS"),s.Rb(),s.Sb(10,"a",25),s.Ob(11,"i",24),s.Ac(12," USUARIOS"),s.Rb(),s.Sb(13,"a",26),s.Ob(14,"i",24),s.Ac(15," DELITOS"),s.Rb(),s.Sb(16,"a",27),s.Ob(17,"i",24),s.Ac(18," JUZGADOS"),s.Rb(),s.Sb(19,"a",28),s.Ob(20,"i",24),s.Ac(21," LIBERTAD"),s.Rb(),s.Sb(22,"a",29),s.Ob(23,"i",24),s.Ac(24," SALAS"),s.Rb(),s.Rb(),s.Rb())}function f(e,t){1&e&&(s.Sb(0,"div",4),s.Sb(1,"div",5),s.Sb(2,"div",6),s.Ob(3,"i",30),s.Sb(4,"span",8),s.Ac(5,"BIT\xc1CORA"),s.Rb(),s.Rb(),s.Sb(6,"div",9),s.Sb(7,"a",31),s.Ob(8,"i",11),s.Rb(),s.Rb(),s.Rb(),s.Sb(9,"div",12),s.Sb(10,"p",13),s.Ac(11,"Registros de movimientos."),s.Rb(),s.Rb(),s.Rb())}let h=(()=>{class e{constructor(e,t){this.store=e,this.router=t,this._subs$=[],this.sessData=null,this._subs$.push(this.store.select("currentPage").subscribe(e=>{this.titlePageHeader=e})),this.store.dispatch(i.a({current:{icon:"fa-link",title:"Panel principal",description:"Tablero de opciones del sistema",url:this.router.url}}))}ngOnInit(){this._subs$.push(this.store.select("sess").subscribe(e=>this.sessData=e))}ngOnDestroy(){this._subs$.forEach(e=>{try{e.unsubscribe()}catch(t){}})}}return e.\u0275fac=function(t){return new(t||e)(s.Nb(c.h),s.Nb(n.b))},e.\u0275cmp=s.Hb({type:e,selectors:[["app-dashboard"]],decls:20,vars:6,consts:[[1,"container","extendWorkJob","d-flex","flex-column","justify-content-center"],["class","pageHeader",4,"ngIf"],[1,"card-columns"],["class","card border-secondary bg-t",4,"ngIf"],[1,"card","border-secondary","bg-t"],[1,"card-header","h4","row","m-0"],[1,"col"],["aria-hidden","true",1,"fa","fa-user-circle-o","fa-fw","fa-align-center"],[1,"pl-2"],[1,"col-auto","ml-auto"],["routerLink","usuario/info","title","Captura de expedientes",1,""],["aria-hidden","true",1,"fa","fa-external-link"],[1,"card-body","text-white","text-justify"],[1,"card-text"],[1,"pageHeader"],["aria-hidden","true",1,"fa",3,"ngClass"],["aria-hidden","true",1,"fa","fa-folder-o"],["routerLink","captura","title","Captura de expedientes",1,""],["aria-hidden","true",1,"fa","fa-search"],["routerLink","consultas","title","Captura de expedientes",1,""],["aria-hidden","true",1,"fa","fa-file-text-o"],["routerLink","constancias","title","Captura de expedientes",1,""],["aria-hidden","true",1,"fa","fa-table"],["routerLink","catalogo/personas","title","Cat\xe1logo de personas",1,"dropdown-item"],["aria-hidden","true",1,"fa","fa-minus","pr-2"],["routerLink","catalogo/usuarios","title","Cat\xe1logo de usuarios",1,"dropdown-item"],["routerLink","catalogo/delitos","title","Cat\xe1logo de delitos",1,"dropdown-item"],["routerLink","catalogo/juzgados","title","Cat\xe1logo de juzgados",1,"dropdown-item"],["routerLink","catalogo/libertades","title","Cat\xe1logo de libertades",1,"dropdown-item"],["routerLink","catalogo/salas","title","Cat\xe1logo de salas",1,"dropdown-item"],["aria-hidden","true",1,"fa","fa-binoculars"],["routerLink","bitacora","title","Captura de expedientes",1,""]],template:function(e,t){1&e&&(s.Sb(0,"div",0),s.yc(1,a,3,2,"h2",1),s.Sb(2,"div",2),s.yc(3,l,12,0,"div",3),s.yc(4,b,12,0,"div",3),s.yc(5,d,12,0,"div",3),s.yc(6,u,25,0,"div",3),s.yc(7,f,12,0,"div",3),s.Sb(8,"div",4),s.Sb(9,"div",5),s.Sb(10,"div",6),s.Ob(11,"i",7),s.Sb(12,"span",8),s.Ac(13,"USUARIO"),s.Rb(),s.Rb(),s.Sb(14,"div",9),s.Sb(15,"a",10),s.Ob(16,"i",11),s.Rb(),s.Rb(),s.Rb(),s.Sb(17,"div",12),s.Sb(18,"p",13),s.Ac(19,"Informaci\xf3n de usuario, cambio de contrase\xf1a y configuraciones del sistema."),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&e&&(s.Ab(1),s.lc("ngIf",t.titlePageHeader),s.Ab(2),s.lc("ngIf",t.sessData.roles.includes(1)||t.sessData.roles.includes(2)||t.sessData.roles.includes(4)||t.sessData.roles.includes(5)),s.Ab(1),s.lc("ngIf",t.sessData.roles.includes(1)||t.sessData.roles.includes(2)||t.sessData.roles.includes(6)),s.Ab(1),s.lc("ngIf",t.sessData.roles.includes(1)||t.sessData.roles.includes(2)||t.sessData.roles.includes(7)),s.Ab(1),s.lc("ngIf",t.sessData.roles.includes(1)||t.sessData.roles.includes(2)||t.sessData.roles.includes(3)),s.Ab(1),s.lc("ngIf",t.sessData.roles.includes(1)||t.sessData.roles.includes(2)))},directives:[o.n,n.d,o.l],styles:[".dropdown-item[_ngcontent-%COMP%]{color:#fff}.dropdown-item[_ngcontent-%COMP%]:hover{color:#000}.card-header[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.050980392156862744)}"]}),e})(),p=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Hb({type:e,selectors:[["app-capture"]],decls:3,vars:0,consts:[[1,"container","extendWorkJob","d-flex","flex-column","justify-content-center"]],template:function(e,t){1&e&&(s.Sb(0,"div",0),s.Sb(1,"h1"),s.Ac(2,"Ok"),s.Rb(),s.Rb())},styles:[""]}),e})(),g=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Hb({type:e,selectors:[["app-queryes"]],decls:2,vars:0,template:function(e,t){1&e&&(s.Sb(0,"p"),s.Ac(1,"queryes works!"),s.Rb())},styles:[""]}),e})(),m=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Hb({type:e,selectors:[["app-proof"]],decls:2,vars:0,template:function(e,t){1&e&&(s.Sb(0,"p"),s.Ac(1,"proof works!"),s.Rb())},styles:[""]}),e})();var S=r("1kSV"),A=r("XNiG"),v=r("wDfv"),R=r("3Pt+"),y=r("lJxs"),w=r("vkgz"),I=r("AytR"),O=r("tk/3");let M=(()=>{class e{constructor(e){this.http=e}data(e="",t="",r=""){return this.http.get(`${I.a.apis.recon.url}/admin/persons?skip=${e}&take=${t}&filter=${r}`).pipe(Object(y.a)(e=>{if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(w.a)(e=>{}))}add(e){return this.http.post(`${I.a.apis.recon.url}/admin/person`,e).pipe(Object(y.a)(e=>{if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(w.a)(e=>{}))}edit(e){return this.http.patch(`${I.a.apis.recon.url}/admin/person`,e).pipe(Object(y.a)(e=>{if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(w.a)(e=>{}))}}return e.\u0275fac=function(t){return new(t||e)(s.Zb(O.b))},e.\u0275prov=s.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var C=r("fVQW");function x(e,t){if(1&e&&s.Ob(0,"i",24),2&e){const e=s.fc(2);s.Db("fa ",e.alertMsg.icon," mr-2")}}function _(e,t){if(1&e&&(s.Sb(0,"span"),s.Ac(1),s.Rb()),2&e){const e=s.fc(2);s.Ab(1),s.Bc(e.alertMsg.title)}}function E(e,t){if(1&e&&(s.Sb(0,"p",25),s.Ac(1),s.Rb()),2&e){const e=s.fc(2);s.Ab(1),s.Bc(e.alertMsg.message)}}function k(e,t){if(1&e&&(s.Sb(0,"ngb-alert",19),s.Sb(1,"h5",20),s.yc(2,x,1,3,"i",21),s.yc(3,_,2,1,"span",22),s.Rb(),s.yc(4,E,2,1,"p",23),s.Rb()),2&e){const e=s.fc();s.lc("type",e.alertMsg.type)("dismissible",!1),s.Ab(2),s.lc("ngIf",e.alertMsg.icon),s.Ab(1),s.lc("ngIf",e.alertMsg.title),s.Ab(1),s.lc("ngIf",e.alertMsg.message)}}function P(e,t){if(1&e&&(s.Sb(0,"div",4),s.Sb(1,"label"),s.Ac(2,"Nombre"),s.Rb(),s.Sb(3,"div",5),s.Sb(4,"h4"),s.Ac(5),s.Rb(),s.Rb(),s.Rb()),2&e){const e=s.fc();s.Ab(5),s.Cc(" ",(null==e.editModel?null:e.editModel.nombres)+" "+(null==e.editModel?null:e.editModel.primerApellido)+" "+(null==e.editModel?null:e.editModel.segundoApellido)," ")}}function D(e,t){1&e&&s.Ob(0,"i",26)}function T(e,t){1&e&&s.Ob(0,"i",27)}function L(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"Informaci\xf3n requerida"),s.Rb())}function j(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"La longitud m\xe1xima es de 50 caracteres"),s.Rb())}function z(e,t){if(1&e&&(s.Sb(0,"div",28),s.Ob(1,"i",29),s.yc(2,L,2,0,"span",22),s.yc(3,j,2,0,"span",22),s.Rb()),2&e){const e=s.fc();s.Ab(2),s.lc("ngIf",e.f.noCtrl.errors.required),s.Ab(1),s.lc("ngIf",e.f.noCtrl.errors.maxlength)}}function N(e,t){1&e&&s.Ob(0,"i",26)}function H(e,t){1&e&&s.Ob(0,"i",27)}function B(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"Informaci\xf3n requerida"),s.Rb())}function q(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"La longitud m\xednima es de 18 caracteres"),s.Rb())}function V(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"La longitud m\xe1xima es de 18 caracteres"),s.Rb())}function F(e,t){if(1&e&&(s.Sb(0,"div",28),s.Ob(1,"i",29),s.yc(2,B,2,0,"span",22),s.yc(3,q,2,0,"span",22),s.yc(4,V,2,0,"span",22),s.Rb()),2&e){const e=s.fc(2);s.Ab(2),s.lc("ngIf",e.f.curp.errors.required),s.Ab(1),s.lc("ngIf",e.f.curp.errors.minlength),s.Ab(1),s.lc("ngIf",e.f.curp.errors.maxlength)}}const J=function(e){return{errBorder:e}};function U(e,t){if(1&e&&(s.Sb(0,"div",4),s.Sb(1,"label"),s.Ac(2,"CURP"),s.Rb(),s.Sb(3,"div",5),s.yc(4,N,1,0,"i",6),s.yc(5,H,1,0,"i",7),s.Ob(6,"input",30),s.Rb(),s.yc(7,F,5,3,"div",9),s.Rb()),2&e){const e=s.fc();s.Ab(4),s.lc("ngIf",e.formSubmitted&&e.f.curp.valid),s.Ab(1),s.lc("ngIf",e.formSubmitted&&e.f.curp.invalid),s.Ab(1),s.lc("ngClass",s.pc(4,J,e.formSubmitted&&e.f.curp.invalid)),s.Ab(1),s.lc("ngIf",e.formSubmitted&&e.f.curp.invalid)}}function G(e,t){1&e&&s.Ob(0,"i",26)}function W(e,t){1&e&&s.Ob(0,"i",27)}function Z(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"Informaci\xf3n requerida"),s.Rb())}function Q(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"La longitud m\xednima es de 10 caracteres"),s.Rb())}function K(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"La longitud m\xe1xima es de 100 caracteres"),s.Rb())}function X(e,t){if(1&e&&(s.Sb(0,"div",28),s.Ob(1,"i",29),s.yc(2,Z,2,0,"span",22),s.yc(3,Q,2,0,"span",22),s.yc(4,K,2,0,"span",22),s.Rb()),2&e){const e=s.fc();s.Ab(2),s.lc("ngIf",e.f.tel.errors.required),s.Ab(1),s.lc("ngIf",e.f.tel.errors.minlength),s.Ab(1),s.lc("ngIf",e.f.tel.errors.maxlength)}}function Y(e,t){1&e&&s.Ob(0,"i",26)}function ee(e,t){1&e&&s.Ob(0,"i",27)}function te(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"Informaci\xf3n requerida"),s.Rb())}function re(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"La longitud m\xednima es de 10 caracteres"),s.Rb())}function ne(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"La longitud m\xe1xima es de 100 caracteres"),s.Rb())}function ie(e,t){if(1&e&&(s.Sb(0,"div",28),s.Ob(1,"i",29),s.yc(2,te,2,0,"span",22),s.yc(3,re,2,0,"span",22),s.yc(4,ne,2,0,"span",22),s.Rb()),2&e){const e=s.fc();s.Ab(2),s.lc("ngIf",e.f.cel.errors.required),s.Ab(1),s.lc("ngIf",e.f.cel.errors.minlength),s.Ab(1),s.lc("ngIf",e.f.cel.errors.maxlength)}}function se(e,t){1&e&&s.Ob(0,"i",26)}function ce(e,t){1&e&&s.Ob(0,"i",27)}function oe(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"Informaci\xf3n requerida"),s.Rb())}function ae(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"La longitud m\xednima es de 3 caracteres"),s.Rb())}function le(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"La longitud m\xe1xima es de 50 caracteres"),s.Rb())}function be(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"Formato de correo electr\xf3nico inv\xe1lido"),s.Rb())}function de(e,t){if(1&e&&(s.Sb(0,"div",28),s.Ob(1,"i",29),s.yc(2,oe,2,0,"span",22),s.yc(3,ae,2,0,"span",22),s.yc(4,le,2,0,"span",22),s.yc(5,be,2,0,"span",22),s.Rb()),2&e){const e=s.fc();s.Ab(2),s.lc("ngIf",e.f.mail.errors.required),s.Ab(1),s.lc("ngIf",e.f.mail.errors.minlength),s.Ab(1),s.lc("ngIf",e.f.mail.errors.maxlength),s.Ab(1),s.lc("ngIf",e.f.mail.errors.pattern)}}function ue(e,t){1&e&&s.Ob(0,"i",31)}function fe(e,t){1&e&&s.Ob(0,"span",32)}let he=(()=>{class e{constructor(e,t,r,n){this.fb=e,this.store=t,this.personsService=r,this.handlerErrorsService=n,this._subs$=[],this.onAddorEdit=new s.n,this.frmgp=this.fb.group({id:[""],noCtrl:["",[R.p.required,R.p.maxLength(50)]],curp:["",[R.p.required,R.p.minLength(18),R.p.maxLength(18)]],tel:["",[R.p.minLength(10),R.p.maxLength(100)]],cel:["",[R.p.minLength(10),R.p.maxLength(100)]],mail:["",[R.p.required,R.p.minLength(3),R.p.maxLength(50),R.p.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]]}),this.formSubmitted=!1,this.withErr=!1,this.alertMsg=null}ngOnInit(){this._subs$.push(this.store.select("catalogPersons").subscribe(e=>this.editModel=e.selected)),this._subs$.push(this.editMode.subscribe(e=>{this._populateFormEditMode(e)}))}ngOnDestroy(){this._subs$.forEach(e=>{try{e.unsubscribe()}catch(t){}})}get f(){return this.frmgp.controls}_populateFormEditMode(e){var t,r,n,i,s,c;this.withErr=!1,this.formSubmitted=!1,this.alertMsg=null,this.f.id.patchValue(null===(t=this.editModel)||void 0===t?void 0:t.id),this.f.noCtrl.patchValue(null===(r=this.editModel)||void 0===r?void 0:r.noCtrl),this.f.curp.patchValue(null===(n=this.editModel)||void 0===n?void 0:n.curp),this.f.tel.patchValue(null===(i=this.editModel)||void 0===i?void 0:i.tel),this.f.cel.patchValue(null===(s=this.editModel)||void 0===s?void 0:s.cel),this.f.mail.patchValue(null===(c=this.editModel)||void 0===c?void 0:c.mail),$("form input:first").select()}onSubmit(){this.withErr=!1,this.formSubmitted=!0,this.alertMsg=null;try{if(!this.frmgp.valid)throw new Error("Se encontraron errores de formulario");this.editModel?this.editAction():this.addAction()}catch(e){this.showAlert(e.message,"danger","fa-times-circle-o","Error"),this.withErr=!0}}showAlert(e,t,r,n){this.alertMsg={type:t,icon:r,title:n,message:e}}addAction(){try{this._subs$.push(this.personsService.add(this.frmgp.value).subscribe(e=>{this.onAddorEdit.emit({status:!0,action:"add"})},e=>{this.showAlert(this.handlerErrorsService.parseMsgError(e),"danger","fa-times-circle-o","Error"),this.withErr=!0}))}catch(e){this.showAlert(this.handlerErrorsService.parseMsgError(e),"danger","fa-times-circle-o","Error"),this.withErr=!0}}editAction(){try{this._subs$.push(this.personsService.edit(this.frmgp.value).subscribe(e=>{this.onAddorEdit.emit({status:!0,action:"update"})},e=>{this.showAlert(this.handlerErrorsService.parseMsgError(e),"danger","fa-times-circle-o","Error"),this.withErr=!0}))}catch(e){this.showAlert(this.handlerErrorsService.parseMsgError(e),"danger","fa-times-circle-o","Error"),this.withErr=!0}}}return e.\u0275fac=function(t){return new(t||e)(s.Nb(R.c),s.Nb(c.h),s.Nb(M),s.Nb(C.a))},e.\u0275cmp=s.Hb({type:e,selectors:[["app-form-persons"]],inputs:{editMode:"editMode"},outputs:{onAddorEdit:"onAddorEdit"},decls:46,vars:36,consts:[["autocomplete","off",3,"formGroup","ngSubmit"],[3,"type","dismissible",4,"ngIf"],[1,"form-row"],["class","col-12 col-md-4 py-2",4,"ngIf"],[1,"col-12","col-md-4","py-2"],[1,"inner-addon","right-addon"],["class","fa fa-check-circle-o text-success","aria-hidden","true",4,"ngIf"],["class","fa fa-times-circle-o text-danger","aria-hidden","true",4,"ngIf"],["id","noctrl","type","text","placeholder","N\xfamero de control","formControlName","noCtrl",1,"form-control",3,"ngClass"],["class","text-danger",4,"ngIf"],["id","tel","type","text","placeholder","Tel\xe9fono fijo","formControlName","tel",1,"form-control",3,"ngClass"],["id","cel","type","text","placeholder","Celular","formControlName","cel",1,"form-control",3,"ngClass"],["id","mail","type","text","placeholder","Correo electr\xf3nico","formControlName","mail",1,"form-control",3,"ngClass"],[1,"text-right"],["ngClass","btn-outline-success",1,"btn",3,"disabled"],["class","fa fa-pencil-square-o","aria-hidden","true","type","submit",4,"ngIf"],["class","spinner-grow spinner-grow-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"ml-2"],["type","hidden","id","id","name","id","formControlName","id"],[3,"type","dismissible"],[1,"font-weight-bold"],["aria-hidden","true",3,"class",4,"ngIf"],[4,"ngIf"],["class","m-0 p-0",4,"ngIf"],["aria-hidden","true"],[1,"m-0","p-0"],["aria-hidden","true",1,"fa","fa-check-circle-o","text-success"],["aria-hidden","true",1,"fa","fa-times-circle-o","text-danger"],[1,"text-danger"],["aria-hidden","true",1,"fa","fa-exclamation-triangle","mr-2"],["id","curp","type","text","placeholder","CURP","formControlName","curp",1,"form-control",3,"ngClass"],["aria-hidden","true","type","submit",1,"fa","fa-pencil-square-o"],["role","status","aria-hidden","true",1,"spinner-grow","spinner-grow-sm"]],template:function(e,t){1&e&&(s.Sb(0,"form",0),s.cc("ngSubmit",function(){return t.onSubmit()}),s.yc(1,k,5,5,"ngb-alert",1),s.Sb(2,"div",2),s.yc(3,P,6,1,"div",3),s.gc(4,"async"),s.Sb(5,"div",4),s.Sb(6,"label"),s.Ac(7,"N\xfamero de control"),s.Rb(),s.Sb(8,"div",5),s.yc(9,D,1,0,"i",6),s.yc(10,T,1,0,"i",7),s.Ob(11,"input",8),s.Rb(),s.yc(12,z,4,2,"div",9),s.Rb(),s.yc(13,U,8,6,"div",3),s.gc(14,"async"),s.Sb(15,"div",4),s.Sb(16,"label"),s.Ac(17,"Tel\xe9fono fijo"),s.Rb(),s.Sb(18,"div",5),s.yc(19,G,1,0,"i",6),s.yc(20,W,1,0,"i",7),s.Ob(21,"input",10),s.Rb(),s.yc(22,X,5,3,"div",9),s.Rb(),s.Sb(23,"div",4),s.Sb(24,"label"),s.Ac(25,"Celular"),s.Rb(),s.Sb(26,"div",5),s.yc(27,Y,1,0,"i",6),s.yc(28,ee,1,0,"i",7),s.Ob(29,"input",11),s.Rb(),s.yc(30,ie,5,3,"div",9),s.Rb(),s.Sb(31,"div",4),s.Sb(32,"label"),s.Ac(33,"Correo electr\xf3nico"),s.Rb(),s.Sb(34,"div",5),s.yc(35,se,1,0,"i",6),s.yc(36,ce,1,0,"i",7),s.Ob(37,"input",12),s.Rb(),s.yc(38,de,6,4,"div",9),s.Rb(),s.Rb(),s.Sb(39,"div",13),s.Sb(40,"button",14),s.yc(41,ue,1,0,"i",15),s.yc(42,fe,1,0,"span",16),s.Sb(43,"span",17),s.Ac(44),s.Rb(),s.Rb(),s.Rb(),s.Ob(45,"input",18),s.Rb()),2&e&&(s.lc("formGroup",t.frmgp),s.Ab(1),s.lc("ngIf",t.alertMsg),s.Ab(2),s.lc("ngIf",1==s.hc(4,24,t.editMode)),s.Ab(6),s.lc("ngIf",t.formSubmitted&&t.f.noCtrl.valid),s.Ab(1),s.lc("ngIf",t.formSubmitted&&t.f.noCtrl.invalid),s.Ab(1),s.lc("ngClass",s.pc(28,J,t.formSubmitted&&t.f.noCtrl.invalid)),s.Ab(1),s.lc("ngIf",t.formSubmitted&&t.f.noCtrl.invalid),s.Ab(1),s.lc("ngIf",1!=s.hc(14,26,t.editMode)),s.Ab(6),s.lc("ngIf",t.formSubmitted&&t.f.tel.valid),s.Ab(1),s.lc("ngIf",t.formSubmitted&&t.f.tel.invalid),s.Ab(1),s.lc("ngClass",s.pc(30,J,t.formSubmitted&&t.f.tel.invalid)),s.Ab(1),s.lc("ngIf",t.formSubmitted&&t.f.tel.invalid),s.Ab(5),s.lc("ngIf",t.formSubmitted&&t.f.cel.valid),s.Ab(1),s.lc("ngIf",t.formSubmitted&&t.f.cel.invalid),s.Ab(1),s.lc("ngClass",s.pc(32,J,t.formSubmitted&&t.f.cel.invalid)),s.Ab(1),s.lc("ngIf",t.formSubmitted&&t.f.cel.invalid),s.Ab(5),s.lc("ngIf",t.formSubmitted&&t.f.mail.valid),s.Ab(1),s.lc("ngIf",t.formSubmitted&&t.f.mail.invalid),s.Ab(1),s.lc("ngClass",s.pc(34,J,t.formSubmitted&&t.f.mail.invalid)),s.Ab(1),s.lc("ngIf",t.formSubmitted&&t.f.mail.invalid),s.Ab(2),s.lc("disabled",t.formSubmitted&&!t.withErr),s.Ab(1),s.lc("ngIf",!t.formSubmitted||t.withErr),s.Ab(1),s.lc("ngIf",t.formSubmitted&&!t.withErr),s.Ab(2),s.Cc(" ",!t.formSubmitted||t.withErr?t.editModel?"Editar":"Registrar":"Procesando..."," "))},directives:[R.r,R.j,R.e,o.n,R.b,R.i,R.d,o.l,S.b],pipes:[o.b],styles:[""]}),e})();var pe=r("Kj3r"),ge=r("2Vo4"),me=r("LRne"),Se=r("eIep"),Ae=r("JIr8");let ve=(()=>{class e{constructor(e,t,r){this.pipe=e,this.personsService=t,this.store=r,this._subs$=[],this._loading$=new ge.a(!0),this._err$=new ge.a(null),this._search$=new A.a,this._persons$=new ge.a([]),this._total$=new ge.a(0),this._state={page:1,pageSize:10,searchTerm:"",sortColumn:"",sortDirection:""},this._subs$.push(this._search$.pipe(Object(w.a)(()=>{this._err$.next(null),this._loading$.next(!0)}),Object(pe.a)(500),Object(Se.a)(()=>this._dataList()),Object(y.a)(e=>this._formating(e)),Object(w.a)(()=>this._loading$.next(!1))).subscribe(e=>{this._persons$.next(e.data),this._total$.next(e.total)})),this._search$.next()}ngOnDestroy(){this._subs$.forEach(e=>{try{e.unsubscribe()}catch(t){}})}get persons$(){return this._persons$.asObservable()}get total$(){return this._total$.asObservable()}get loading$(){return this._loading$.asObservable()}get err$(){return this._err$.asObservable()}get page(){return this._state.page}get pageSize(){return this._state.pageSize}get searchTerm(){return this._state.searchTerm}set page(e){this._set({page:e})}set pageSize(e){this._set({pageSize:e})}set searchTerm(e){this._set({searchTerm:e})}set sortColumn(e){this._set({sortColumn:e})}set sortDirection(e){this._set({sortDirection:e})}refreshTable(){this._search$.next()}_set(e){Object.assign(this._state,e),this._search$.next()}_dataList(){const{searchTerm:e}=this._state;return this.personsService.data(null,null,e).pipe(Object(Ae.a)(e=>(this._err$.next(e),Object(me.a)([]))))}_formating(e){const{searchTerm:t,sortColumn:r,sortDirection:n,pageSize:i,page:s}=this._state;let c=e;var o,a,l;(r||n)&&(o=c,a=r,c=""===(l=n)||""===a?o:[...o].sort((e,t)=>{const r=(n=e[a])<(i=t[a])?-1:n>i?1:0;var n,i;return"asc"===l?r:-r})),t&&(c=c.filter(e=>function(e,t,r){return e.noCtrl.toLowerCase().includes(t.toLowerCase())||e.curp.toLowerCase().includes(t.toLowerCase())||e.primerApellido.toLowerCase().includes(t.toLowerCase())||e.segundoApellido.toLowerCase().includes(t.toLowerCase())||e.nombres.toLowerCase().includes(t.toLowerCase())||e.tel.toLowerCase().includes(t.toLowerCase())||e.cel.toLowerCase().includes(t.toLowerCase())||e.mail.toLowerCase().includes(t.toLowerCase())}(e,t)));const b=c.length;return c=c.slice((s-1)*i,(s-1)*i+i),this.store.dispatch(v.a({data:c})),{data:c,total:b}}}return e.\u0275fac=function(t){return new(t||e)(s.Zb(o.f),s.Zb(M),s.Zb(c.h))},e.\u0275prov=s.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Re={asc:"desc",desc:"","":"asc"};let ye=(()=>{class e{constructor(){this.sortable="",this.direction="",this.sort=new s.n}rotate(){this.direction=Re[this.direction],this.sort.emit({column:this.sortable,direction:this.direction})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.Ib({type:e,selectors:[["th","sortable",""]],hostVars:4,hostBindings:function(e,t){1&e&&s.cc("click",function(){return t.rotate()}),2&e&&s.Fb("asc","asc"===t.direction)("desc","desc"===t.direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sort:"sort"}}),e})();function we(e,t){if(1&e&&s.Ob(0,"i",32),2&e){const e=s.fc(2);s.Db("fa ",e.alertMsg.icon," mr-2")}}function Ie(e,t){if(1&e&&(s.Sb(0,"span"),s.Ac(1),s.Rb()),2&e){const e=s.fc(2);s.Ab(1),s.Bc(e.alertMsg.title)}}function Oe(e,t){if(1&e&&(s.Sb(0,"p",33),s.Ac(1),s.Rb()),2&e){const e=s.fc(2);s.Ab(1),s.Bc(e.alertMsg.message)}}function Me(e,t){if(1&e&&(s.Sb(0,"ngb-alert",27),s.Sb(1,"h5",28),s.yc(2,we,1,3,"i",29),s.yc(3,Ie,2,1,"span",30),s.Rb(),s.yc(4,Oe,2,1,"p",31),s.Rb()),2&e){const e=s.fc();s.lc("type","danger")("dismissible",!1),s.Ab(2),s.lc("ngIf",e.alertMsg.icon),s.Ab(1),s.lc("ngIf",e.alertMsg.title),s.Ab(1),s.lc("ngIf",e.alertMsg.message)}}function Ce(e,t){if(1&e&&s.Ob(0,"i",32),2&e){const e=s.fc(2);s.Db("fa ",e.alertMsg.icon," mr-2")}}function xe(e,t){if(1&e&&(s.Sb(0,"span"),s.Ac(1),s.Rb()),2&e){const e=s.fc(2);s.Ab(1),s.Bc(e.alertMsg.title)}}function $e(e,t){if(1&e&&(s.Sb(0,"p",33),s.Ac(1),s.Rb()),2&e){const e=s.fc(2);s.Ab(1),s.Bc(e.alertMsg.message)}}function _e(e,t){if(1&e){const e=s.Tb();s.Sb(0,"ngb-alert",34),s.cc("closed",function(){return s.uc(e),s.fc().alertMsg=null}),s.Sb(1,"h5",28),s.yc(2,Ce,1,3,"i",29),s.yc(3,xe,2,1,"span",30),s.Rb(),s.yc(4,$e,2,1,"p",31),s.Rb()}if(2&e){const e=s.fc();s.lc("type",e.alertMsg.type),s.Ab(2),s.lc("ngIf",e.alertMsg.icon),s.Ab(1),s.lc("ngIf",e.alertMsg.title),s.Ab(1),s.lc("ngIf",e.alertMsg.message)}}function Ee(e,t){1&e&&s.Ob(0,"i",35)}function ke(e,t){1&e&&(s.Sb(0,"tbody"),s.Sb(1,"tr"),s.Sb(2,"th",36),s.Ob(3,"i",37),s.Sb(4,"span"),s.Ac(5,"Actualizndo informaci\xf3n..."),s.Rb(),s.Rb(),s.Rb(),s.Rb())}function Pe(e,t){if(1&e){const e=s.Tb();s.Qb(0),s.Sb(1,"tr"),s.Sb(2,"td",39),s.Sb(3,"button",40),s.cc("click",function(r){s.uc(e);const n=t.$implicit;return s.fc(3).toggleTableDetail(n.id,r)}),s.Ob(4,"i",41),s.Rb(),s.Rb(),s.Sb(5,"th",42),s.Ac(6),s.Rb(),s.Sb(7,"td"),s.Ob(8,"ngb-highlight",43),s.Rb(),s.Sb(9,"td"),s.Ob(10,"ngb-highlight",43),s.Rb(),s.Sb(11,"td"),s.Ob(12,"ngb-highlight",43),s.Rb(),s.Sb(13,"td"),s.Ob(14,"ngb-highlight",43),s.Rb(),s.Sb(15,"td"),s.Ob(16,"ngb-highlight",43),s.Rb(),s.Sb(17,"td",39),s.Sb(18,"div",44),s.Sb(19,"button",45),s.cc("click",function(){s.uc(e);const r=t.$implicit;return s.fc(3).editRecord(r)}),s.Ob(20,"i",46),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(21,"tr",47),s.Sb(22,"td",48),s.Sb(23,"div",3),s.Sb(24,"div",49),s.Sb(25,"h6",50),s.Ac(26,"Tel\xe9fono"),s.Rb(),s.Sb(27,"p",51),s.Ac(28),s.Rb(),s.Rb(),s.Sb(29,"div",49),s.Sb(30,"h6",50),s.Ac(31,"Celular"),s.Rb(),s.Sb(32,"p",51),s.Ac(33),s.Rb(),s.Rb(),s.Sb(34,"div",49),s.Sb(35,"h6",50),s.Ac(36,"Correo electr\xf3nico"),s.Rb(),s.Sb(37,"p",52),s.Ac(38),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Pb()}if(2&e){const e=t.$implicit,r=s.fc(3);s.Ab(6),s.Bc(e.id),s.Ab(2),s.lc("result",e.noCtrl)("term",r.service.searchTerm),s.Ab(2),s.lc("result",e.curp)("term",r.service.searchTerm),s.Ab(2),s.lc("result",e.primerApellido)("term",r.service.searchTerm),s.Ab(2),s.lc("result",e.segundoApellido)("term",r.service.searchTerm),s.Ab(2),s.lc("result",e.nombres)("term",r.service.searchTerm),s.Ab(5),s.lc("ngClass","id_"+e.id),s.Ab(7),s.Bc(e.tel),s.Ab(5),s.Bc(e.cel),s.Ab(5),s.Bc(e.mail)}}function De(e,t){if(1&e&&(s.Sb(0,"tbody"),s.yc(1,Pe,39,15,"ng-container",38),s.gc(2,"async"),s.Rb()),2&e){const e=s.fc(2);s.Ab(1),s.lc("ngForOf",s.hc(2,1,e.persons$))}}function Te(e,t){if(1&e&&(s.yc(0,De,3,3,"tbody",23),s.gc(1,"async")),2&e){const e=s.fc(),t=s.tc(53);s.lc("ngIf",s.hc(1,2,e.total$))("ngIfElse",t)}}function Le(e,t){1&e&&(s.Sb(0,"tbody"),s.Sb(1,"tr"),s.Sb(2,"th",53),s.Ob(3,"i",54),s.Ac(4," No se encontr\xf3 informaci\xf3n "),s.Rb(),s.Rb(),s.Rb())}function je(e,t){if(1&e){const e=s.Tb();s.Sb(0,"div",2),s.Sb(1,"ngb-pagination",55),s.cc("pageChange",function(t){return s.uc(e),s.fc().service.page=t}),s.gc(2,"async"),s.Rb(),s.Sb(3,"span",56),s.Ac(4),s.gc(5,"async"),s.gc(6,"async"),s.gc(7,"async"),s.Rb(),s.Rb()}if(2&e){const e=s.fc();s.Ab(1),s.lc("collectionSize",s.hc(2,6,e.total$))("page",e.service.page)("pageSize",e.service.pageSize),s.Ab(3),s.Ec(" Mostrando ",e.service.page*e.service.pageSize-e.service.pageSize+1," al ",e.service.page*e.service.pageSize<=s.hc(5,8,e.total$)?e.service.page*e.service.pageSize:s.hc(6,10,e.total$)," de ",s.hc(7,12,e.total$)," registros")}}let ze=(()=>{class e{constructor(e,t,r){this.service=e,this.store=t,this.handlerErrorsService=r,this._subs$=[],this.onSelected=new s.n,this.forceRefreshData=new A.a,this._autoCloseAlert=new A.a,this.alertMsg=null,this.persons$=e.persons$,this.total$=e.total$}ngOnInit(){this._subs$.push(this._autoCloseAlert.pipe(Object(pe.a)(1e4)).subscribe(()=>{this.alertMsg=null})),this._subs$.push(this.forceRefreshData.subscribe(e=>this.refreshTable(e))),this._subs$.push(this.service.err$.subscribe(e=>{this.alertMsg=e?{type:"error",icon:"fa-info-circle",title:"Error",message:` ${this.handlerErrorsService.parseMsgError(e)} </br> favor de intentarlo de nuevo. `}:null}))}ngOnDestroy(){this._subs$.forEach(e=>{try{e.unsubscribe()}catch(t){}})}onSort({column:e,direction:t}){this.headers.forEach(t=>{t.sortable!==e&&(t.direction="")}),this.service.sortColumn=e,this.service.sortDirection=t}toggleTableDetail(e,t){const r=$(`.tableDetail.id_${e}`),n=$(t.currentTarget);r.hasClass("d-none")?(r.removeClass("d-none"),n.html('<i class="fa fa-minus-circle" aria-hidden="true"></i>'),n.removeClass("text-success"),n.addClass("text-warning")):(r.addClass("d-none"),n.html('<i class="fa fa-plus-circle" aria-hidden="true"></i>'),n.removeClass("text-warning"),n.addClass("text-success"))}editRecord(e){this.store.dispatch(v.b({dataModel:e})),this.onSelected.emit(e)}refreshTable(e){if(e.status){this.service.refreshTable();let t="Registro ";switch(e.action){case"add":t+="agregado";break;case"update":t+="actualizado"}t+=" correctamente",this.alertMsg={type:"success",icon:"fa-info-circle",title:"Acci\xf3n",message:t},this._autoCloseAlert.next(!0)}}}return e.\u0275fac=function(t){return new(t||e)(s.Nb(ve),s.Nb(c.h),s.Nb(C.a))},e.\u0275cmp=s.Hb({type:e,selectors:[["app-table-persons"]],viewQuery:function(e,t){if(1&e&&s.Fc(ye,1),2&e){let e;s.sc(e=s.dc())&&(t.headers=e)}},inputs:{forceRefreshData:"forceRefreshData"},outputs:{onSelected:"onSelected"},features:[s.zb([ve,o.f])],decls:57,vars:24,consts:[[3,"type","dismissible",4,"ngIf"],[3,"type","closed",4,"ngIf"],[1,"d-flex","justify-content-between","p-2"],[1,"row"],[1,"col-"],["type","button","ngbTooltip","Actualizar lista de registros",1,"btn","btn-outline-primary",3,"click"],["aria-hidden","true",1,"fa","fa-refresh"],[1,"col-auto","form-group","form-inline","d-none","d-sm-inline"],[1,"d-none","d-sm-inline"],["name","pageSize",1,"custom-select","mx-2",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],[1,"col-auto","form-group","form-inline"],[1,"inner-addon","right-addon"],["class","fa fa-refresh fa-spin fa-fw text-warning p-0",4,"ngIf"],["type","text","name","searchTerm","placeholder","Buscar en la lista",1,"form-control","ml-2",3,"ngModel","ngModelChange"],[1,"table","table-striped","text-white"],["scope","col"],["scope","col","sortable","id",3,"sort"],["scope","col","sortable","noCtrl",3,"sort"],["scope","col","sortable","curp",3,"sort"],["scope","col","sortable","primerApellido",3,"sort"],["scope","col","sortable","segundoApellido",3,"sort"],["scope","col","sortable","nombres",3,"sort"],[4,"ngIf","ngIfElse"],["renderData",""],["nodataResult",""],["class","d-flex justify-content-between p-2",4,"ngIf"],[3,"type","dismissible"],[1,"font-weight-bold"],["aria-hidden","true",3,"class",4,"ngIf"],[4,"ngIf"],["class","m-0 p-0",4,"ngIf"],["aria-hidden","true"],[1,"m-0","p-0"],[3,"type","closed"],[1,"fa","fa-refresh","fa-spin","fa-fw","text-warning","p-0"],["scope","row","colspan","8",1,"text-center"],[1,"fa","fa-cog","fa-spin","fa-3x","fa-fw",2,"vertical-align","middle"],[4,"ngFor","ngForOf"],[2,"width","1px"],["type","button","ngbTooltip","Mostrar detalle del registro",1,"btn","btn-link","text-success",3,"click"],["aria-hidden","true",1,"fa","fa-plus-circle"],["scope","row"],[3,"result","term"],["role","group","aria-label","",1,"btn-group"],["type","button","ngbTooltip","Editar registro",1,"btn","btn-secondary",3,"click"],["aria-hidden","true",1,"fa","fa-pencil-square-o"],[1,"tableDetail","d-none",3,"ngClass"],["colspan","8",1,"_d-none"],[1,"col-12","col-md-4"],[1,"tableDetailSccionTitle"],[1,"m-0","p-0","pl-2"],[1,"m-0","p-0","pl-2","text-lowercase"],["scope","row","colspan","8",1,"text-center","text-danger"],["aria-hidden","true",1,"fa","fa-info-circle","pr-2"],[3,"collectionSize","page","pageSize","pageChange"],[1,"font-weight-bold","pl-2"]],template:function(e,t){if(1&e&&(s.yc(0,Me,5,5,"ngb-alert",0),s.gc(1,"async"),s.yc(2,_e,5,4,"ngb-alert",1),s.gc(3,"async"),s.Sb(4,"form"),s.Sb(5,"div",2),s.Sb(6,"div",3),s.Sb(7,"div",4),s.Sb(8,"button",5),s.cc("click",function(){return t.service.refreshTable()}),s.Ob(9,"i",6),s.Rb(),s.Rb(),s.Sb(10,"div",7),s.Sb(11,"span",8),s.Ac(12,"Mostrar"),s.Rb(),s.Sb(13,"select",9),s.cc("ngModelChange",function(e){return t.service.pageSize=e}),s.Sb(14,"option",10),s.Ac(15,"10"),s.Rb(),s.Sb(16,"option",10),s.Ac(17,"30"),s.Rb(),s.Sb(18,"option",10),s.Ac(19,"50"),s.Rb(),s.Sb(20,"option",10),s.Ac(21,"100"),s.Rb(),s.Rb(),s.Sb(22,"span",8),s.Ac(23,"registros"),s.Rb(),s.Rb(),s.Rb(),s.Sb(24,"div",11),s.Sb(25,"div",12),s.yc(26,Ee,1,0,"i",13),s.gc(27,"async"),s.Sb(28,"input",14),s.cc("ngModelChange",function(e){return t.service.searchTerm=e}),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(29,"table",15),s.Sb(30,"thead"),s.Sb(31,"tr"),s.Sb(32,"th",16),s.Ac(33,"\xa0"),s.Rb(),s.Sb(34,"th",17),s.cc("sort",function(e){return t.onSort(e)}),s.Ac(35,"#"),s.Rb(),s.Sb(36,"th",18),s.cc("sort",function(e){return t.onSort(e)}),s.Ac(37,"N\xfamero de control"),s.Rb(),s.Sb(38,"th",19),s.cc("sort",function(e){return t.onSort(e)}),s.Ac(39,"CURP"),s.Rb(),s.Sb(40,"th",20),s.cc("sort",function(e){return t.onSort(e)}),s.Ac(41,"Primer apellido"),s.Rb(),s.Sb(42,"th",21),s.cc("sort",function(e){return t.onSort(e)}),s.Ac(43,"Segundo apellido"),s.Rb(),s.Sb(44,"th",22),s.cc("sort",function(e){return t.onSort(e)}),s.Ac(45,"Nombre(s)"),s.Rb(),s.Sb(46,"th",16),s.Ac(47,"\xa0"),s.Rb(),s.Rb(),s.Rb(),s.yc(48,ke,6,0,"tbody",23),s.gc(49,"async"),s.yc(50,Te,2,4,"ng-template",null,24,s.zc),s.yc(52,Le,5,0,"ng-template",null,25,s.zc),s.Rb(),s.yc(54,je,8,14,"div",26),s.gc(55,"async"),s.gc(56,"async"),s.Rb()),2&e){const e=s.tc(51);s.lc("ngIf",s.hc(1,12,t.service.err$)),s.Ab(2),s.lc("ngIf",t.alertMsg&&!s.hc(3,14,t.service.err$)),s.Ab(11),s.lc("ngModel",t.service.pageSize),s.Ab(1),s.lc("ngValue",10),s.Ab(2),s.lc("ngValue",30),s.Ab(2),s.lc("ngValue",50),s.Ab(2),s.lc("ngValue",100),s.Ab(6),s.lc("ngIf",s.hc(27,16,t.service.loading$)),s.Ab(2),s.lc("ngModel",t.service.searchTerm),s.Ab(20),s.lc("ngIf",s.hc(49,18,t.service.loading$))("ngIfElse",e),s.Ab(6),s.lc("ngIf",0==s.hc(55,20,t.service.loading$)&&s.hc(56,22,t.total$)>0)}},directives:[o.n,R.r,R.j,R.k,S.n,R.o,R.i,R.l,R.m,R.q,R.b,ye,S.b,o.m,S.d,o.l,S.g],pipes:[o.b],styles:['th[sortable][_ngcontent-%COMP%]{cursor:pointer;-moz-user-select:none;user-select:none;-webkit-user-select:none}th[sortable].asc[_ngcontent-%COMP%]:before, th[sortable].desc[_ngcontent-%COMP%]:before{font-family:FontAwesome;font-weight:900;content:"\\f063";display:block;float:left;margin-left:-30px;color:#fff}th[sortable].desc[_ngcontent-%COMP%]:before{transform:rotate(180deg);-ms-transform:rotate(180deg)}ngbd-table-complete[_ngcontent-%COMP%]   span.ngb-highlight[_ngcontent-%COMP%], ngbd-table-filtering[_ngcontent-%COMP%]   span.ngb-highlight[_ngcontent-%COMP%]{background-color:#ff0}.inner-addon[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin:12px 0 0!important}  body:not(.om) .table.text-white{color:#333!important}  body.om .table-striped tbody tr:nth-of-type(odd){background-color:hsla(0,0%,100%,.11)}']}),e})();function Ne(e,t){if(1&e&&(s.Sb(0,"h2",8),s.Ob(1,"i",9),s.Ac(2),s.Rb()),2&e){const e=s.fc();s.Ab(1),s.lc("ngClass",null==e.titlePageHeader?null:e.titlePageHeader.icon),s.Ab(1),s.Cc(" ",e.titlePageHeader.title," ")}}function He(e,t){if(1&e){const e=s.Tb();s.Sb(0,"div"),s.Sb(1,"button",14),s.cc("click",function(){return s.uc(e),s.fc(2).newRecord()}),s.Ob(2,"i",15),s.Ac(3," Nuevo"),s.Rb(),s.Rb()}}function Be(e,t){if(1&e&&(s.Sb(0,"div",10),s.Sb(1,"button",11),s.Sb(2,"h5"),s.Ob(3,"i",12),s.Ac(4," Formulario de registro"),s.Rb(),s.Rb(),s.yc(5,He,4,0,"div",13),s.gc(6,"async"),s.Rb()),2&e){const e=s.fc();s.Ab(5),s.lc("ngIf",s.hc(6,1,e.editMode))}}function qe(e,t){if(1&e){const e=s.Tb();s.Sb(0,"app-form-persons",16),s.cc("onAddorEdit",function(t){return s.uc(e),s.fc().refreshControls(t)}),s.Rb()}if(2&e){const e=s.fc();s.lc("editMode",e.editMode)}}function Ve(e,t){1&e&&(s.Sb(0,"h5"),s.Ob(1,"i",17),s.Ac(2," Lista de registros"),s.Rb())}function Fe(e,t){if(1&e){const e=s.Tb();s.Sb(0,"app-table-persons",18),s.cc("onSelected",function(t){return s.uc(e),s.fc().recordSelected(t)}),s.Rb()}if(2&e){const e=s.fc();s.lc("forceRefreshData",e.refreshData)}}let Je=(()=>{class e{constructor(e,t){this.store=e,this.router=t,this._subs$=[],this.activeIds="",this.editMode=new A.a,this.refreshData=new A.a,this._subs$.push(this.store.select("currentPage").subscribe(e=>{this.titlePageHeader=e})),this.activeIds="static-2",this.store.dispatch(i.a({current:{icon:"fa-table",title:"Cat\xe1logo de Personas",description:"",url:this.router.url}}))}ngOnInit(){}ngOnDestroy(){this._subs$.forEach(e=>{try{e.unsubscribe()}catch(t){}})}newRecord(){this.store.dispatch(v.b({dataModel:null})),this.editMode.next(!1)}recordSelected(e){this.store.dispatch(v.b({dataModel:e})),this.dtElement.expand("static-1"),this.editMode.next(!0)}refreshControls(e){this.store.dispatch(v.b({dataModel:null})),this.dtElement.expand("static-2"),this.editMode.next(!1),this.refreshData.next(e)}}return e.\u0275fac=function(t){return new(t||e)(s.Nb(c.h),s.Nb(n.b))},e.\u0275cmp=s.Hb({type:e,selectors:[["app-persons"]],viewQuery:function(e,t){if(1&e&&s.Fc(S.a,1),2&e){let e;s.sc(e=s.dc())&&(t.dtElement=e.first)}},decls:9,vars:4,consts:[[1,"extendWorkJob","d-flex","flex-column","justify-content-center","px-lg-5","px-1"],["class","pageHeader",4,"ngIf"],["ngbAccordion","",3,"closeOthers","activeIds","destroyOnHide"],["id","static-1"],["ngbPanelHeader",""],["ngbPanelContent",""],["id","static-2"],["ngbPanelTitle",""],[1,"pageHeader"],["aria-hidden","true",1,"fa",3,"ngClass"],[1,"d-flex","align-items-center","justify-content-between"],["ngbPanelToggle","",1,"btn","btn-link"],["aria-hidden","true",1,"fa","fa-newspaper-o"],[4,"ngIf"],[1,"btn","btn-sm","btn-outline-primary","ml-2",3,"click"],["aria-hidden","true",1,"fa","fa-plus"],[3,"editMode","onAddorEdit"],["aria-hidden","true",1,"fa","fa-th"],[3,"forceRefreshData","onSelected"]],template:function(e,t){1&e&&(s.Sb(0,"div",0),s.yc(1,Ne,3,2,"h2",1),s.Sb(2,"ngb-accordion",2),s.Sb(3,"ngb-panel",3),s.yc(4,Be,7,3,"ng-template",4),s.yc(5,qe,1,1,"ng-template",5),s.Rb(),s.Sb(6,"ngb-panel",6),s.yc(7,Ve,3,0,"ng-template",7),s.yc(8,Fe,1,1,"ng-template",5),s.Rb(),s.Rb(),s.Rb()),2&e&&(s.Ab(1),s.lc("ngIf",t.titlePageHeader),s.Ab(1),s.lc("closeOthers",!0)("activeIds",t.activeIds)("destroyOnHide",!1))},directives:[o.n,S.a,S.h,S.j,S.i,S.k,o.l,S.l,he,ze],pipes:[o.b],styles:[".card{background-color:transparent!important}  .card .card-header{background-color:hsla(0,0%,100%,.050980392156862744)}  .card .card-header button{width:100%;text-align:left}  .btn-link{color:#fff;text-decoration:none!important}  .btn-link:hover,   body:not(.om) .btn-link:hover{color:#0056b3;text-decoration:none!important}  body:not(.om) .btn-link{color:#333;text-decoration:none!important}"]}),e})();var Ue=r("qvEf");let Ge=(()=>{class e{constructor(e){this.http=e}data(e=null,t=null,r=null){return this.http.get(`${I.a.apis.recon.url}/admin/users?skip=${e}&take=${t}&filter=${r}`).pipe(Object(y.a)(e=>{if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(w.a)(e=>{}))}byId(e){return this.http.get(`${I.a.apis.recon.url}/admin/user?id=${e}`).pipe(Object(y.a)(e=>{if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(w.a)(e=>{}))}add(e){return this.http.post(`${I.a.apis.recon.url}/admin/user`,e).pipe(Object(y.a)(e=>{if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(w.a)(e=>{}))}edit(e){return this.http.patch(`${I.a.apis.recon.url}/admin/user`,e).pipe(Object(y.a)(e=>{if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(w.a)(e=>{}))}}return e.\u0275fac=function(t){return new(t||e)(s.Zb(O.b))},e.\u0275prov=s.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),We=(()=>{class e{constructor(e){this.http=e}data(e="",t="",r=""){return this.http.get(`${I.a.apis.recon.url}/admin/roles?skip=${e}&take=${t}&filter=${r}`).pipe(Object(y.a)(e=>{if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(w.a)(e=>{}))}}return e.\u0275fac=function(t){return new(t||e)(s.Zb(O.b))},e.\u0275prov=s.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Ze=r("eACs");function Qe(e,t){if(1&e&&s.Ob(0,"i",22),2&e){const e=s.fc(2);s.Db("fa ",e.alertMsg.icon," mr-2")}}function Ke(e,t){if(1&e&&(s.Sb(0,"span"),s.Ac(1),s.Rb()),2&e){const e=s.fc(2);s.Ab(1),s.Bc(e.alertMsg.title)}}function Xe(e,t){if(1&e&&(s.Sb(0,"p",23),s.Ac(1),s.Rb()),2&e){const e=s.fc(2);s.Ab(1),s.Bc(e.alertMsg.message)}}function Ye(e,t){if(1&e&&(s.Sb(0,"ngb-alert",17),s.Sb(1,"h5",18),s.yc(2,Qe,1,3,"i",19),s.yc(3,Ke,2,1,"span",20),s.Rb(),s.yc(4,Xe,2,1,"p",21),s.Rb()),2&e){const e=s.fc();s.lc("type",e.alertMsg.type)("dismissible",!1),s.Ab(2),s.lc("ngIf",e.alertMsg.icon),s.Ab(1),s.lc("ngIf",e.alertMsg.title),s.Ab(1),s.lc("ngIf",e.alertMsg.message)}}function et(e,t){1&e&&s.Ob(0,"i",25)}function tt(e,t){1&e&&s.Ob(0,"i",26)}function rt(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"Informaci\xf3n requerida"),s.Rb())}function nt(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"La longitud m\xednima es de 4 caracteres"),s.Rb())}function it(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"La longitud m\xe1xima es de 50 caracteres"),s.Rb())}function st(e,t){if(1&e&&(s.Sb(0,"div",27),s.Ob(1,"i",28),s.yc(2,rt,2,0,"span",20),s.yc(3,nt,2,0,"span",20),s.yc(4,it,2,0,"span",20),s.Rb()),2&e){const e=s.fc(2);s.Ab(2),s.lc("ngIf",e.f.username.errors.required),s.Ab(1),s.lc("ngIf",e.f.username.errors.minlength),s.Ab(1),s.lc("ngIf",e.f.username.errors.maxlength)}}const ct=function(e){return{errBorder:e}};function ot(e,t){if(1&e&&(s.Sb(0,"div",4),s.Sb(1,"label"),s.Ac(2,"Nombre de usuario"),s.Rb(),s.Sb(3,"div",5),s.yc(4,et,1,0,"i",6),s.yc(5,tt,1,0,"i",7),s.Ob(6,"input",24),s.Rb(),s.yc(7,st,5,3,"div",9),s.Rb()),2&e){const e=s.fc();s.Ab(4),s.lc("ngIf",e.formSubmitted&&e.f.username.valid),s.Ab(1),s.lc("ngIf",e.formSubmitted&&e.f.username.invalid),s.Ab(1),s.lc("ngClass",s.pc(4,ct,e.formSubmitted&&e.f.username.invalid)),s.Ab(1),s.lc("ngIf",e.formSubmitted&&e.f.username.invalid)}}function at(e,t){if(1&e&&(s.Sb(0,"div",4),s.Sb(1,"label"),s.Ac(2,"Nombre de usuario"),s.Rb(),s.Sb(3,"div",29),s.Sb(4,"h4"),s.Ac(5),s.Rb(),s.Rb(),s.Rb()),2&e){const e=s.fc();s.Ab(5),s.Bc(e.f.username.value)}}function lt(e,t){1&e&&s.Ob(0,"i",25)}function bt(e,t){1&e&&s.Ob(0,"i",26)}function dt(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"Informaci\xf3n requerida"),s.Rb())}function ut(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"La longitud m\xednima es de 6 caracteres"),s.Rb())}function ft(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"La longitud m\xe1xima es de 50 caracteres"),s.Rb())}function ht(e,t){if(1&e&&(s.Sb(0,"div",27),s.Ob(1,"i",28),s.yc(2,dt,2,0,"span",20),s.yc(3,ut,2,0,"span",20),s.yc(4,ft,2,0,"span",20),s.Rb()),2&e){const e=s.fc(2);s.Ab(2),s.lc("ngIf",e.f.password.errors.required),s.Ab(1),s.lc("ngIf",e.f.password.errors.minlength),s.Ab(1),s.lc("ngIf",e.f.password.errors.maxlength)}}function pt(e,t){if(1&e&&(s.Sb(0,"div",4),s.Sb(1,"label"),s.Ac(2,"Contrase\xf1a"),s.Rb(),s.Sb(3,"div",5),s.yc(4,lt,1,0,"i",6),s.yc(5,bt,1,0,"i",7),s.Ob(6,"input",30),s.Rb(),s.yc(7,ht,5,3,"div",9),s.Rb()),2&e){const e=s.fc();s.Ab(4),s.lc("ngIf",e.formSubmitted&&e.f.password.valid),s.Ab(1),s.lc("ngIf",e.formSubmitted&&e.f.password.invalid),s.Ab(1),s.lc("ngClass",s.pc(4,ct,e.formSubmitted&&e.f.password.invalid)),s.Ab(1),s.lc("ngIf",e.formSubmitted&&e.f.password.invalid)}}function gt(e,t){1&e&&s.Ob(0,"i",25)}function mt(e,t){1&e&&s.Ob(0,"i",26)}function St(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"Informaci\xf3n requerida"),s.Rb())}function At(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"La longitud m\xednima es de 6 caracteres"),s.Rb())}function vt(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"La longitud m\xe1xima es de 50 caracteres"),s.Rb())}function Rt(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"La contrase\xf1a y confirmaci\xf3n no coinciden"),s.Rb())}function yt(e,t){if(1&e&&(s.Sb(0,"div",27),s.Ob(1,"i",28),s.yc(2,St,2,0,"span",20),s.yc(3,At,2,0,"span",20),s.yc(4,vt,2,0,"span",20),s.yc(5,Rt,2,0,"span",20),s.Rb()),2&e){const e=s.fc(2);s.Ab(2),s.lc("ngIf",null==e.f.confPwd.errors?null:e.f.confPwd.errors.required),s.Ab(1),s.lc("ngIf",null==e.f.confPwd.errors?null:e.f.confPwd.errors.minlength),s.Ab(1),s.lc("ngIf",null==e.f.confPwd.errors?null:e.f.confPwd.errors.maxlength),s.Ab(1),s.lc("ngIf",(null==e.frmgp.errors?null:e.frmgp.errors.confirm)&&e.f.confPwd.valid)}}function wt(e,t){if(1&e&&(s.Sb(0,"div",4),s.Sb(1,"label"),s.Ac(2,"Confirmar contrase\xf1a"),s.Rb(),s.Sb(3,"div",5),s.yc(4,gt,1,0,"i",6),s.yc(5,mt,1,0,"i",7),s.Ob(6,"input",31),s.Rb(),s.yc(7,yt,6,4,"div",9),s.Rb()),2&e){const e=s.fc();s.Ab(4),s.lc("ngIf",e.formSubmitted&&e.f.confPwd.valid),s.Ab(1),s.lc("ngIf",e.formSubmitted&&e.f.confPwd.invalid),s.Ab(1),s.lc("ngClass",s.pc(4,ct,e.formSubmitted&&e.f.confPwd.invalid)),s.Ab(1),s.lc("ngIf",e.formSubmitted&&(e.f.confPwd.invalid||(null==e.frmgp.errors?null:e.frmgp.errors.confirm)))}}function It(e,t){1&e&&s.Ob(0,"i",25)}function Ot(e,t){1&e&&s.Ob(0,"i",26)}function Mt(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"Informaci\xf3n requerida"),s.Rb())}function Ct(e,t){if(1&e&&(s.Sb(0,"div",27),s.Ob(1,"i",28),s.yc(2,Mt,2,0,"span",20),s.Rb()),2&e){const e=s.fc();s.Ab(2),s.lc("ngIf",e.f.idPerson.errors.required)}}function xt(e,t){1&e&&s.Ob(0,"i",25)}function $t(e,t){1&e&&s.Ob(0,"i",26)}function _t(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"Debe seleccionar al menos un rol"),s.Rb())}function Et(e,t){if(1&e&&(s.Sb(0,"div",27),s.Ob(1,"i",28),s.yc(2,_t,2,0,"span",20),s.Rb()),2&e){const e=s.fc();s.Ab(2),s.lc("ngIf",e.f.idRoles.errors.required)}}function kt(e,t){1&e&&s.Ob(0,"i",32)}function Pt(e,t){1&e&&s.Ob(0,"span",33)}const Dt=function(){return{width:"100%",multiple:!0}};let Tt=(()=>{class e{constructor(e,t,r,n,i,c){this.fb=e,this.store=t,this.usersService=r,this.handlerErrorsService=n,this.rolesService=i,this.personsService=c,this._subs$=[],this.onAddorEdit=new s.n,this.select2Language={noResults:()=>"No se encontraron resultado",searching:()=>"Buscando.."},this.persons=[],this.personsSelect=[],this.roles=[],this.rolesSelect=[],this.frmgp=this.fb.group({id:[""],idPerson:["",[R.p.required]],idDepto:[0,[R.p.required]],username:["",[R.p.required,R.p.minLength(4),R.p.maxLength(50)]],password:["",[R.p.required,R.p.minLength(6),R.p.maxLength(50)]],confPwd:["",[R.p.required,R.p.minLength(6),R.p.maxLength(50)]],idRoles:[null,[R.p.required]]},{validator:this.passwordConfirming}),this.formSubmitted=!1,this.withErr=!1,this.alertMsg=null}ngOnInit(){this._subs$.push(this.store.select("catalogUsers").subscribe(e=>this.editModel=e.selected)),this._subs$.push(this.editMode.subscribe(e=>{this._populateFormEditMode(e)})),this._subs$.push(this.personsService.data().subscribe(e=>{this.persons=e,this.personsSelect=this.persons.sort((e,t)=>{const r=`${e.nombres} ${e.primerApellido} ${e.segundoApellido}`,n=`${t.nombres} ${t.primerApellido} ${t.segundoApellido}`;return r>n?1:r<n?-1:0}).map(e=>({id:e.id.toString(),text:`${e.nombres} ${e.primerApellido} ${e.segundoApellido}`}))})),this._subs$.push(this.rolesService.data().subscribe(e=>{this.roles=e,this.rolesSelect=this.roles.sort((e,t)=>e.role>t.role?1:e.role<t.role?-1:0).map(e=>({id:e.id.toString(),text:e.role}))})),this.personsSelectValue="",this.rolesSelectValue=[],this.personsSelectOptions={width:"100%",multiple:!1,language:this.select2Language},this.rolesSelectOptions={width:"100%",multiple:!0,language:this.select2Language}}ngOnDestroy(){this._subs$.forEach(e=>{try{e.unsubscribe()}catch(t){}})}get f(){return this.frmgp.controls}passwordConfirming(e){if(e.get("password").value!==e.get("confPwd").value)return{confirm:!0}}_populateFormEditMode(e){var t,r,n,i,s,c;this.withErr=!1,this.formSubmitted=!1,this.alertMsg=null,this.f.id.patchValue(null===(t=this.editModel)||void 0===t?void 0:t.id),this.f.idDepto.patchValue(null===(r=this.editModel)||void 0===r?void 0:r.idDepto),this.f.username.patchValue(null===(n=this.editModel)||void 0===n?void 0:n.username),this.personsSelectValue=null===(s=null===(i=this.editModel)||void 0===i?void 0:i.person)||void 0===s?void 0:s.id.toString(),this.f.idPerson.patchValue(this.personsSelectValue),this.rolesSelectValue=null===(c=this.editModel)||void 0===c?void 0:c.roles.map(e=>e.id.toString()),this.f.idRoles.patchValue(this.rolesSelectValue),this.f.password.patchValue(e?"dataPatched":""),this.f.confPwd.patchValue(e?"dataPatched":""),$("form input:first").select()}changedPersonsSelect(e){this.f.idPerson.patchValue(e)}changedRolesSelect(e){this.f.idRoles.patchValue(e)}onSubmit(){this.withErr=!1,this.formSubmitted=!0,this.alertMsg=null;try{if(!this.frmgp.valid)throw new Error("Se encontraron errores de formulario");this.editModel?this.editAction():this.addAction()}catch(e){this.showAlert(e.message,"danger","fa-times-circle-o","Error"),this.withErr=!0}}showAlert(e,t,r,n){this.alertMsg={type:t,icon:r,title:n,message:e}}addAction(){try{this._subs$.push(this.usersService.add(this.frmgp.value).subscribe(e=>{this.onAddorEdit.emit({status:!0,action:"add"})},e=>{this.showAlert(this.handlerErrorsService.parseMsgError(e),"danger","fa-times-circle-o","Error"),this.withErr=!0}))}catch(e){this.showAlert(this.handlerErrorsService.parseMsgError(e),"danger","fa-times-circle-o","Error"),this.withErr=!0}}editAction(){try{this.f.password.patchValue(null),this.f.confPwd.patchValue(null),this._subs$.push(this.usersService.edit(this.frmgp.value).subscribe(e=>{this.onAddorEdit.emit({status:!0,action:"update"})},e=>{this.showAlert(this.handlerErrorsService.parseMsgError(e),"danger","fa-times-circle-o","Error"),this.withErr=!0}))}catch(e){this.showAlert(this.handlerErrorsService.parseMsgError(e),"danger","fa-times-circle-o","Error"),this.withErr=!0}}}return e.\u0275fac=function(t){return new(t||e)(s.Nb(R.c),s.Nb(c.h),s.Nb(Ge),s.Nb(C.a),s.Nb(We),s.Nb(M))},e.\u0275cmp=s.Hb({type:e,selectors:[["app-form-users"]],inputs:{editMode:"editMode"},outputs:{onAddorEdit:"onAddorEdit"},decls:34,vars:31,consts:[["autocomplete","off",3,"formGroup","ngSubmit"],[3,"type","dismissible",4,"ngIf"],[1,"form-row"],["class","col-12 col-md-4 py-2",4,"ngIf"],[1,"col-12","col-md-4","py-2"],[1,"inner-addon","right-addon"],["class","fa fa-check-circle-o text-success","aria-hidden","true",4,"ngIf"],["class","fa fa-times-circle-o text-danger","aria-hidden","true",4,"ngIf"],["placeholder","Persona",3,"data","options","value","valueChanged"],["class","text-danger",4,"ngIf"],["placeholder","Selecciona al menos 1 rol",3,"data","options","value","valueChanged"],[1,"text-right"],["ngClass","btn-outline-success",1,"btn",3,"disabled"],["class","fa fa-pencil-square-o","aria-hidden","true","type","submit",4,"ngIf"],["class","spinner-grow spinner-grow-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"ml-2"],["type","hidden","id","id","name","id","formControlName","id"],[3,"type","dismissible"],[1,"font-weight-bold"],["aria-hidden","true",3,"class",4,"ngIf"],[4,"ngIf"],["class","m-0 p-0",4,"ngIf"],["aria-hidden","true"],[1,"m-0","p-0"],["id","noctrl","type","text","placeholder","Nombre de usuario","formControlName","username",1,"form-control",3,"ngClass"],["aria-hidden","true",1,"fa","fa-check-circle-o","text-success"],["aria-hidden","true",1,"fa","fa-times-circle-o","text-danger"],[1,"text-danger"],["aria-hidden","true",1,"fa","fa-exclamation-triangle","mr-2"],[1,"inner-addon","right-addon","text-center"],["id","password","type","password","placeholder","Contrase\xf1a","formControlName","password",1,"form-control",3,"ngClass"],["id","confPwd","type","password","placeholder","Confirmar contrase\xf1a","formControlName","confPwd",1,"form-control",3,"ngClass"],["aria-hidden","true","type","submit",1,"fa","fa-pencil-square-o"],["role","status","aria-hidden","true",1,"spinner-grow","spinner-grow-sm"]],template:function(e,t){1&e&&(s.Sb(0,"form",0),s.cc("ngSubmit",function(){return t.onSubmit()}),s.yc(1,Ye,5,5,"ngb-alert",1),s.Sb(2,"div",2),s.yc(3,ot,8,6,"div",3),s.gc(4,"async"),s.yc(5,at,6,1,"div",3),s.gc(6,"async"),s.yc(7,pt,8,6,"div",3),s.gc(8,"async"),s.yc(9,wt,8,6,"div",3),s.gc(10,"async"),s.Sb(11,"div",4),s.Sb(12,"label"),s.Ac(13,"Persona"),s.Rb(),s.Sb(14,"div",5),s.yc(15,It,1,0,"i",6),s.yc(16,Ot,1,0,"i",7),s.Sb(17,"ng-select2",8),s.cc("valueChanged",function(e){return t.changedPersonsSelect(e)}),s.Rb(),s.Rb(),s.yc(18,Ct,3,1,"div",9),s.Rb(),s.Sb(19,"div",4),s.Sb(20,"label"),s.Ac(21,"Rol(es)"),s.Rb(),s.Sb(22,"div",5),s.yc(23,xt,1,0,"i",6),s.yc(24,$t,1,0,"i",7),s.Sb(25,"ng-select2",10),s.cc("valueChanged",function(e){return t.changedRolesSelect(e)}),s.Rb(),s.Rb(),s.yc(26,Et,3,1,"div",9),s.Rb(),s.Rb(),s.Sb(27,"div",11),s.Sb(28,"button",12),s.yc(29,kt,1,0,"i",13),s.yc(30,Pt,1,0,"span",14),s.Sb(31,"span",15),s.Ac(32),s.Rb(),s.Rb(),s.Rb(),s.Ob(33,"input",16),s.Rb()),2&e&&(s.lc("formGroup",t.frmgp),s.Ab(1),s.lc("ngIf",t.alertMsg),s.Ab(2),s.lc("ngIf",1!=s.hc(4,22,t.editMode)),s.Ab(2),s.lc("ngIf",1==s.hc(6,24,t.editMode)),s.Ab(2),s.lc("ngIf",1!=s.hc(8,26,t.editMode)),s.Ab(2),s.lc("ngIf",1!=s.hc(10,28,t.editMode)),s.Ab(6),s.lc("ngIf",t.formSubmitted&&t.f.idPerson.valid),s.Ab(1),s.lc("ngIf",t.formSubmitted&&t.f.idPerson.invalid),s.Ab(1),s.lc("data",t.personsSelect)("options",t.personsSelectOptions)("value",t.personsSelectValue),s.Ab(1),s.lc("ngIf",t.formSubmitted&&t.f.idPerson.invalid),s.Ab(5),s.lc("ngIf",t.formSubmitted&&t.f.idRoles.valid),s.Ab(1),s.lc("ngIf",t.formSubmitted&&t.f.idRoles.invalid),s.Ab(1),s.lc("data",t.rolesSelect)("options",s.oc(30,Dt))("value",t.rolesSelectValue),s.Ab(1),s.lc("ngIf",t.formSubmitted&&t.f.idRoles.invalid),s.Ab(2),s.lc("disabled",t.formSubmitted&&!t.withErr),s.Ab(1),s.lc("ngIf",!t.formSubmitted||t.withErr),s.Ab(1),s.lc("ngIf",t.formSubmitted&&!t.withErr),s.Ab(2),s.Cc(" ",!t.formSubmitted||t.withErr?t.editModel?"Editar":"Registrar":"Procesando..."," "))},directives:[R.r,R.j,R.e,o.n,Ze.a,o.l,R.b,R.i,R.d,S.b],pipes:[o.b],styles:[".select2-selection{min-height:38px!important}  .select2,   .select2-container{color:#333}  .select2-selection--single .select2-selection__rendered{line-height:36px!important}  .select2-selection--single .select2-selection__arrow{height:36px!important}"]}),e})();var Lt=r("PSD3"),jt=r.n(Lt);let zt=(()=>{class e{constructor(e,t,r){this.pipe=e,this.usersService=t,this.store=r,this._subs$=[],this._loading$=new ge.a(!0),this._err$=new ge.a(null),this._search$=new A.a,this._users$=new ge.a([]),this._total$=new ge.a(0),this._state={page:1,pageSize:10,searchTerm:"",sortColumn:"",sortDirection:""},this._subs$.push(this._search$.pipe(Object(w.a)(()=>{this._err$.next(null),this._loading$.next(!0)}),Object(pe.a)(500),Object(Se.a)(()=>this._dataList()),Object(y.a)(e=>this._formating(e)),Object(w.a)(()=>this._loading$.next(!1))).subscribe(e=>{this._users$.next(e.data),this._total$.next(e.total)})),this._search$.next()}ngOnDestroy(){this._subs$.forEach(e=>{try{e.unsubscribe()}catch(t){}})}get users$(){return this._users$.asObservable()}get total$(){return this._total$.asObservable()}get loading$(){return this._loading$.asObservable()}get err$(){return this._err$.asObservable()}get page(){return this._state.page}get pageSize(){return this._state.pageSize}get searchTerm(){return this._state.searchTerm}set page(e){this._set({page:e})}set pageSize(e){this._set({pageSize:e})}set searchTerm(e){this._set({searchTerm:e})}set sortColumn(e){this._set({sortColumn:e})}set sortDirection(e){this._set({sortDirection:e})}refreshTable(){this._search$.next()}_set(e){Object.assign(this._state,e),this._search$.next()}_dataList(){const{searchTerm:e}=this._state;return this.usersService.data(null,null,e).pipe(Object(Ae.a)(e=>(this._err$.next(e),Object(me.a)([]))))}_formating(e){const{searchTerm:t,sortColumn:r,sortDirection:n,pageSize:i,page:s}=this._state;let c=e;var o,a,l;(r||n)&&(o=c,a=r,c=""===(l=n)||""===a?o:[...o].sort((e,t)=>{const r=(n=e[a])<(i=t[a])?-1:n>i?1:0;var n,i;return"asc"===l?r:-r})),t&&(c=c.filter(e=>function(e,t,r){return e.username.toLowerCase().includes(t.toLowerCase())||(e.active?"activo":"inactivo").includes(t)||e.fIns.toString().includes(t)||e.fAct.toString().includes(t)}(e,t)));const b=c.length;return c=c.slice((s-1)*i,(s-1)*i+i),this.store.dispatch(Ue.a({data:c})),{data:c,total:b}}}return e.\u0275fac=function(t){return new(t||e)(s.Zb(o.f),s.Zb(Ge),s.Zb(c.h))},e.\u0275prov=s.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Nt={asc:"desc",desc:"","":"asc"};let Ht=(()=>{class e{constructor(){this.sortable="",this.direction="",this.sort=new s.n}rotate(){this.direction=Nt[this.direction],this.sort.emit({column:this.sortable,direction:this.direction})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.Ib({type:e,selectors:[["th","sortable",""]],hostVars:4,hostBindings:function(e,t){1&e&&s.cc("click",function(){return t.rotate()}),2&e&&s.Fb("asc","asc"===t.direction)("desc","desc"===t.direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sort:"sort"}}),e})();function Bt(e,t){if(1&e&&s.Ob(0,"i",31),2&e){const e=s.fc(2);s.Db("fa ",e.alertMsg.icon," mr-2")}}function qt(e,t){if(1&e&&(s.Sb(0,"span"),s.Ac(1),s.Rb()),2&e){const e=s.fc(2);s.Ab(1),s.Bc(e.alertMsg.title)}}function Vt(e,t){if(1&e&&(s.Sb(0,"p",32),s.Ac(1),s.Rb()),2&e){const e=s.fc(2);s.Ab(1),s.Bc(e.alertMsg.message)}}function Ft(e,t){if(1&e&&(s.Sb(0,"ngb-alert",26),s.Sb(1,"h5",27),s.yc(2,Bt,1,3,"i",28),s.yc(3,qt,2,1,"span",29),s.Rb(),s.yc(4,Vt,2,1,"p",30),s.Rb()),2&e){const e=s.fc();s.lc("type","danger")("dismissible",!1),s.Ab(2),s.lc("ngIf",e.alertMsg.icon),s.Ab(1),s.lc("ngIf",e.alertMsg.title),s.Ab(1),s.lc("ngIf",e.alertMsg.message)}}function Jt(e,t){if(1&e&&s.Ob(0,"i",31),2&e){const e=s.fc(2);s.Db("fa ",e.alertMsg.icon," mr-2")}}function Ut(e,t){if(1&e&&(s.Sb(0,"span"),s.Ac(1),s.Rb()),2&e){const e=s.fc(2);s.Ab(1),s.Bc(e.alertMsg.title)}}function Gt(e,t){if(1&e&&(s.Sb(0,"p",32),s.Ac(1),s.Rb()),2&e){const e=s.fc(2);s.Ab(1),s.Bc(e.alertMsg.message)}}function Wt(e,t){if(1&e){const e=s.Tb();s.Sb(0,"ngb-alert",33),s.cc("closed",function(){return s.uc(e),s.fc().alertMsg=null}),s.Sb(1,"h5",27),s.yc(2,Jt,1,3,"i",28),s.yc(3,Ut,2,1,"span",29),s.Rb(),s.yc(4,Gt,2,1,"p",30),s.Rb()}if(2&e){const e=s.fc();s.lc("type",e.alertMsg.type),s.Ab(2),s.lc("ngIf",e.alertMsg.icon),s.Ab(1),s.lc("ngIf",e.alertMsg.title),s.Ab(1),s.lc("ngIf",e.alertMsg.message)}}function Zt(e,t){1&e&&s.Ob(0,"i",34)}function Qt(e,t){1&e&&(s.Sb(0,"tbody"),s.Sb(1,"tr"),s.Sb(2,"th",35),s.Ob(3,"i",36),s.Sb(4,"span"),s.Ac(5,"Actualizndo informaci\xf3n..."),s.Rb(),s.Rb(),s.Rb(),s.Rb())}function Kt(e,t){if(1&e){const e=s.Tb();s.Sb(0,"button",54),s.cc("click",function(){s.uc(e);const t=s.fc().$implicit;return s.fc(3).activeInactiveRecord(t.id,!1)}),s.Ob(1,"i",55),s.Rb()}}function Xt(e,t){if(1&e){const e=s.Tb();s.Sb(0,"button",56),s.cc("click",function(){s.uc(e);const t=s.fc().$implicit;return s.fc(3).activeInactiveRecord(t.id,!0)}),s.Ob(1,"i",57),s.Rb()}}function Yt(e,t){if(1&e&&(s.Sb(0,"li"),s.Ac(1),s.Rb()),2&e){const e=t.$implicit;s.Ab(1),s.Bc(e.role)}}function er(e,t){if(1&e){const e=s.Tb();s.Qb(0),s.Sb(1,"tr"),s.Sb(2,"td",38),s.Sb(3,"button",39),s.cc("click",function(r){s.uc(e);const n=t.$implicit;return s.fc(3).toggleTableDetail(n.id,r)}),s.Ob(4,"i",40),s.Rb(),s.Rb(),s.Sb(5,"th",41),s.Ac(6),s.Rb(),s.Sb(7,"td"),s.Ob(8,"ngb-highlight",42),s.Rb(),s.Sb(9,"td"),s.Ob(10,"ngb-highlight",42),s.Rb(),s.Sb(11,"td"),s.Ob(12,"ngb-highlight",42),s.gc(13,"date"),s.Rb(),s.Sb(14,"td"),s.Ob(15,"ngb-highlight",42),s.gc(16,"date"),s.Rb(),s.Sb(17,"td",38),s.Sb(18,"div",43),s.Sb(19,"button",44),s.cc("click",function(){s.uc(e);const r=t.$implicit;return s.fc(3).editRecord(r)}),s.Ob(20,"i",45),s.Rb(),s.yc(21,Kt,2,0,"button",46),s.yc(22,Xt,2,0,"button",47),s.Rb(),s.Rb(),s.Rb(),s.Sb(23,"tr",48),s.Sb(24,"td",49),s.Sb(25,"div",3),s.Sb(26,"div",50),s.Sb(27,"h6",51),s.Ac(28,"N\xfamero de control"),s.Rb(),s.Sb(29,"p",52),s.Ac(30),s.Rb(),s.Rb(),s.Sb(31,"div",50),s.Sb(32,"h6",51),s.Ac(33,"Nombre"),s.Rb(),s.Sb(34,"p",52),s.Ac(35),s.Rb(),s.Rb(),s.Sb(36,"div",50),s.Sb(37,"h6",51),s.Ac(38,"CURP"),s.Rb(),s.Sb(39,"p",52),s.Ac(40),s.Rb(),s.Rb(),s.Sb(41,"div",50),s.Sb(42,"h6",51),s.Ac(43,"Correo electr\xf3nico"),s.Rb(),s.Sb(44,"p",53),s.Ac(45),s.Rb(),s.Rb(),s.Sb(46,"div",50),s.Sb(47,"h6",51),s.Ac(48,"Tel\xe9fono fijo"),s.Rb(),s.Sb(49,"p",53),s.Ac(50),s.Rb(),s.Rb(),s.Sb(51,"div",50),s.Sb(52,"h6",51),s.Ac(53,"Celular"),s.Rb(),s.Sb(54,"p",53),s.Ac(55),s.Rb(),s.Rb(),s.Sb(56,"div",50),s.Sb(57,"h6",51),s.Ac(58,"Roles"),s.Rb(),s.Sb(59,"ul"),s.yc(60,Yt,2,1,"li",37),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Pb()}if(2&e){const e=t.$implicit,r=s.fc(3);s.Ab(6),s.Bc(e.id),s.Ab(2),s.lc("result",e.username)("term",r.service.searchTerm),s.Ab(2),s.lc("result",e.active?"Activo":"Inactivo")("term",r.service.searchTerm),s.Ab(2),s.lc("result",s.ic(13,19,e.fIns,"dd/MM/yyyy HH:mm"))("term",r.service.searchTerm),s.Ab(3),s.lc("result",s.ic(16,22,e.fAct,"dd/MM/yyyy HH:mm"))("term",r.service.searchTerm),s.Ab(6),s.lc("ngIf",e.active),s.Ab(1),s.lc("ngIf",!e.active),s.Ab(1),s.lc("ngClass","id_"+e.id),s.Ab(7),s.Bc(e.person.noCtrl),s.Ab(5),s.Bc(e.person.nombres+" "+e.person.primerApellido+" "+e.person.segundoApellido),s.Ab(5),s.Bc(e.person.curp),s.Ab(5),s.Bc(e.person.mail),s.Ab(5),s.Bc(e.person.tel),s.Ab(5),s.Bc(e.person.cel),s.Ab(5),s.lc("ngForOf",e.roles)}}function tr(e,t){if(1&e&&(s.Sb(0,"tbody"),s.yc(1,er,61,25,"ng-container",37),s.gc(2,"async"),s.Rb()),2&e){const e=s.fc(2);s.Ab(1),s.lc("ngForOf",s.hc(2,1,e.users$))}}function rr(e,t){if(1&e&&(s.yc(0,tr,3,3,"tbody",22),s.gc(1,"async")),2&e){const e=s.fc(),t=s.tc(51);s.lc("ngIf",s.hc(1,2,e.total$))("ngIfElse",t)}}function nr(e,t){1&e&&(s.Sb(0,"tbody"),s.Sb(1,"tr"),s.Sb(2,"th",58),s.Ob(3,"i",59),s.Ac(4," No se encontr\xf3 informaci\xf3n "),s.Rb(),s.Rb(),s.Rb())}function ir(e,t){if(1&e){const e=s.Tb();s.Sb(0,"div",2),s.Sb(1,"ngb-pagination",60),s.cc("pageChange",function(t){return s.uc(e),s.fc().service.page=t}),s.gc(2,"async"),s.Rb(),s.Sb(3,"span",61),s.Ac(4),s.gc(5,"async"),s.gc(6,"async"),s.gc(7,"async"),s.Rb(),s.Rb()}if(2&e){const e=s.fc();s.Ab(1),s.lc("collectionSize",s.hc(2,6,e.total$))("page",e.service.page)("pageSize",e.service.pageSize),s.Ab(3),s.Ec(" Mostrando ",e.service.page*e.service.pageSize-e.service.pageSize+1," al ",e.service.page*e.service.pageSize<=s.hc(5,8,e.total$)?e.service.page*e.service.pageSize:s.hc(6,10,e.total$)," de ",s.hc(7,12,e.total$)," registros")}}let sr=(()=>{class e{constructor(e,t,r,n){this.service=e,this.store=t,this.handlerErrorsService=r,this.usersService=n,this._subs$=[],this.onSelected=new s.n,this.forceRefreshData=new A.a,this._autoCloseAlert=new A.a,this.alertMsg=null,this.users$=e.users$,this.total$=e.total$}ngOnInit(){this._subs$.push(this._autoCloseAlert.pipe(Object(pe.a)(1e4)).subscribe(()=>{this.alertMsg=null})),this._subs$.push(this.forceRefreshData.subscribe(e=>this.refreshTable(e))),this._subs$.push(this.service.err$.subscribe(e=>{this.alertMsg=e?{type:"error",icon:"fa-info-circle",title:"Error",message:` ${this.handlerErrorsService.parseMsgError(e)} </br> favor de intentarlo de nuevo. `}:null}))}ngOnDestroy(){this._subs$.forEach(e=>{try{e.unsubscribe()}catch(t){}})}onSort({column:e,direction:t}){this.headers.forEach(t=>{t.sortable!==e&&(t.direction="")}),this.service.sortColumn=e,this.service.sortDirection=t}toggleTableDetail(e,t){const r=$(`.tableDetail.id_${e}`),n=$(t.currentTarget);r.hasClass("d-none")?(r.removeClass("d-none"),n.html('<i class="fa fa-minus-circle" aria-hidden="true"></i>'),n.removeClass("text-success"),n.addClass("text-warning")):(r.addClass("d-none"),n.html('<i class="fa fa-plus-circle" aria-hidden="true"></i>'),n.removeClass("text-warning"),n.addClass("text-success"))}editRecord(e){this.store.dispatch(Ue.b({dataModel:e})),this.onSelected.emit(e)}refreshTable(e){if(e.status){this.service.refreshTable();let t="Registro ";switch(e.action){case"add":t+="agregado";break;case"update":t+="actualizado"}t+=" correctamente",this.alertMsg={type:"success",icon:"fa-info-circle",title:"Acci\xf3n",message:t},this._autoCloseAlert.next(!0)}}activeInactiveRecord(e,t){this.alertMsg=null,jt.a.fire({title:"Confirmar",text:(t?"Activar":"Desactivar")+" usuario",icon:"question",showCancelButton:!0,confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"}).then(r=>{r.isConfirmed&&this.activeInactiveAction({id:e,active:t})})}activeInactiveAction(e){try{this._subs$.push(this.usersService.edit(e).subscribe(e=>{this.refreshTable({status:!0,action:"update"})},e=>{this.alertMsg={type:"error",icon:"fa-info-circle",title:"Acci\xf3n",message:this.handlerErrorsService.parseMsgError(e)}}))}catch(t){this.alertMsg={type:"error",icon:"fa-info-circle",title:"Acci\xf3n",message:this.handlerErrorsService.parseMsgError(t)}}}}return e.\u0275fac=function(t){return new(t||e)(s.Nb(zt),s.Nb(c.h),s.Nb(C.a),s.Nb(Ge))},e.\u0275cmp=s.Hb({type:e,selectors:[["app-table-users"]],viewQuery:function(e,t){if(1&e&&s.Fc(Ht,1),2&e){let e;s.sc(e=s.dc())&&(t.headers=e)}},inputs:{forceRefreshData:"forceRefreshData"},outputs:{onSelected:"onSelected"},features:[s.zb([zt,o.f])],decls:55,vars:24,consts:[[3,"type","dismissible",4,"ngIf"],[3,"type","closed",4,"ngIf"],[1,"d-flex","justify-content-between","p-2"],[1,"row"],[1,"col-"],["type","button","ngbTooltip","Actualizar lista de registros",1,"btn","btn-outline-primary",3,"click"],["aria-hidden","true",1,"fa","fa-refresh"],[1,"col-auto","form-group","form-inline","d-none","d-sm-inline"],[1,"d-none","d-sm-inline"],["name","pageSize",1,"custom-select","mx-2",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],[1,"col-auto","form-group","form-inline"],[1,"inner-addon","right-addon"],["class","fa fa-refresh fa-spin fa-fw text-warning p-0",4,"ngIf"],["type","text","name","searchTerm","placeholder","Buscar en la lista",1,"form-control","ml-2",3,"ngModel","ngModelChange"],[1,"table","table-striped","text-white"],["scope","col"],["scope","col","sortable","id",3,"sort"],["scope","col","sortable","username",3,"sort"],["scope","col","sortable","active",3,"sort"],["scope","col","sortable","fIns",3,"sort"],["scope","col","sortable","fAct",3,"sort"],[4,"ngIf","ngIfElse"],["renderData",""],["nodataResult",""],["class","d-flex justify-content-between p-2",4,"ngIf"],[3,"type","dismissible"],[1,"font-weight-bold"],["aria-hidden","true",3,"class",4,"ngIf"],[4,"ngIf"],["class","m-0 p-0",4,"ngIf"],["aria-hidden","true"],[1,"m-0","p-0"],[3,"type","closed"],[1,"fa","fa-refresh","fa-spin","fa-fw","text-warning","p-0"],["scope","row","colspan","7",1,"text-center"],[1,"fa","fa-cog","fa-spin","fa-3x","fa-fw",2,"vertical-align","middle"],[4,"ngFor","ngForOf"],[2,"width","1px"],["type","button","ngbTooltip","Mostrar detalle del registro",1,"btn","btn-link","text-success",3,"click"],["aria-hidden","true",1,"fa","fa-plus-circle"],["scope","row"],[3,"result","term"],["role","group","aria-label","",1,"btn-group"],["type","button","ngbTooltip","Editar registro",1,"btn","btn-secondary","w-btn-50px",3,"click"],["aria-hidden","true",1,"fa","fa-pencil-square-o"],["type","button","class","btn btn-danger w-btn-50px","ngbTooltip","Desactivar usuario",3,"click",4,"ngIf"],["type","button","class","btn btn-warning w-btn-50px","ngbTooltip","Desactivar usuario",3,"click",4,"ngIf"],[1,"tableDetail","d-none",3,"ngClass"],["colspan","7",1,"_d-none"],[1,"col-12","col-md-4","py-2"],[1,"tableDetailSccionTitle"],[1,"m-0","p-0","pl-2"],[1,"m-0","p-0","pl-2","text-lowercase"],["type","button","ngbTooltip","Desactivar usuario",1,"btn","btn-danger","w-btn-50px",3,"click"],["aria-hidden","true",1,"fa","fa-lock"],["type","button","ngbTooltip","Desactivar usuario",1,"btn","btn-warning","w-btn-50px",3,"click"],["aria-hidden","true",1,"fa","fa-unlock"],["scope","row","colspan","7",1,"text-center","text-danger"],["aria-hidden","true",1,"fa","fa-info-circle","pr-2"],[3,"collectionSize","page","pageSize","pageChange"],[1,"font-weight-bold","pl-2"]],template:function(e,t){if(1&e&&(s.yc(0,Ft,5,5,"ngb-alert",0),s.gc(1,"async"),s.yc(2,Wt,5,4,"ngb-alert",1),s.gc(3,"async"),s.Sb(4,"form"),s.Sb(5,"div",2),s.Sb(6,"div",3),s.Sb(7,"div",4),s.Sb(8,"button",5),s.cc("click",function(){return t.service.refreshTable()}),s.Ob(9,"i",6),s.Rb(),s.Rb(),s.Sb(10,"div",7),s.Sb(11,"span",8),s.Ac(12,"Mostrar"),s.Rb(),s.Sb(13,"select",9),s.cc("ngModelChange",function(e){return t.service.pageSize=e}),s.Sb(14,"option",10),s.Ac(15,"10"),s.Rb(),s.Sb(16,"option",10),s.Ac(17,"30"),s.Rb(),s.Sb(18,"option",10),s.Ac(19,"50"),s.Rb(),s.Sb(20,"option",10),s.Ac(21,"100"),s.Rb(),s.Rb(),s.Sb(22,"span",8),s.Ac(23,"registros"),s.Rb(),s.Rb(),s.Rb(),s.Sb(24,"div",11),s.Sb(25,"div",12),s.yc(26,Zt,1,0,"i",13),s.gc(27,"async"),s.Sb(28,"input",14),s.cc("ngModelChange",function(e){return t.service.searchTerm=e}),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(29,"table",15),s.Sb(30,"thead"),s.Sb(31,"tr"),s.Sb(32,"th",16),s.Ac(33,"\xa0"),s.Rb(),s.Sb(34,"th",17),s.cc("sort",function(e){return t.onSort(e)}),s.Ac(35,"#"),s.Rb(),s.Sb(36,"th",18),s.cc("sort",function(e){return t.onSort(e)}),s.Ac(37,"Nombre de usuario"),s.Rb(),s.Sb(38,"th",19),s.cc("sort",function(e){return t.onSort(e)}),s.Ac(39,"Activo"),s.Rb(),s.Sb(40,"th",20),s.cc("sort",function(e){return t.onSort(e)}),s.Ac(41,"Fecha de registro"),s.Rb(),s.Sb(42,"th",21),s.cc("sort",function(e){return t.onSort(e)}),s.Ac(43,"Fecha de actualizaci\xf3n"),s.Rb(),s.Sb(44,"th",16),s.Ac(45,"\xa0"),s.Rb(),s.Rb(),s.Rb(),s.yc(46,Qt,6,0,"tbody",22),s.gc(47,"async"),s.yc(48,rr,2,4,"ng-template",null,23,s.zc),s.yc(50,nr,5,0,"ng-template",null,24,s.zc),s.Rb(),s.yc(52,ir,8,14,"div",25),s.gc(53,"async"),s.gc(54,"async"),s.Rb()),2&e){const e=s.tc(49);s.lc("ngIf",s.hc(1,12,t.service.err$)),s.Ab(2),s.lc("ngIf",t.alertMsg&&!s.hc(3,14,t.service.err$)),s.Ab(11),s.lc("ngModel",t.service.pageSize),s.Ab(1),s.lc("ngValue",10),s.Ab(2),s.lc("ngValue",30),s.Ab(2),s.lc("ngValue",50),s.Ab(2),s.lc("ngValue",100),s.Ab(6),s.lc("ngIf",s.hc(27,16,t.service.loading$)),s.Ab(2),s.lc("ngModel",t.service.searchTerm),s.Ab(18),s.lc("ngIf",s.hc(47,18,t.service.loading$))("ngIfElse",e),s.Ab(6),s.lc("ngIf",0==s.hc(53,20,t.service.loading$)&&s.hc(54,22,t.total$)>0)}},directives:[o.n,R.r,R.j,R.k,S.n,R.o,R.i,R.l,R.m,R.q,R.b,Ht,S.b,o.m,S.d,o.l,S.g],pipes:[o.b,o.e],styles:['.w-btn-50px[_ngcontent-%COMP%]{width:50px}th[sortable][_ngcontent-%COMP%]{cursor:pointer;-moz-user-select:none;user-select:none;-webkit-user-select:none}th[sortable].asc[_ngcontent-%COMP%]:before, th[sortable].desc[_ngcontent-%COMP%]:before{font-family:FontAwesome;font-weight:900;content:"\\f063";display:block;float:left;margin-left:-30px;color:#fff}th[sortable].desc[_ngcontent-%COMP%]:before{transform:rotate(180deg);-ms-transform:rotate(180deg)}ngbd-table-complete[_ngcontent-%COMP%]   span.ngb-highlight[_ngcontent-%COMP%], ngbd-table-filtering[_ngcontent-%COMP%]   span.ngb-highlight[_ngcontent-%COMP%]{background-color:#ff0}.inner-addon[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin:12px 0 0!important}  body:not(.om) .table.text-white{color:#333!important}  body.om .table-striped tbody tr:nth-of-type(odd){background-color:hsla(0,0%,100%,.11)}']}),e})();function cr(e,t){if(1&e&&(s.Sb(0,"h2",8),s.Ob(1,"i",9),s.Ac(2),s.Rb()),2&e){const e=s.fc();s.Ab(1),s.lc("ngClass",null==e.titlePageHeader?null:e.titlePageHeader.icon),s.Ab(1),s.Cc(" ",e.titlePageHeader.title," ")}}function or(e,t){if(1&e){const e=s.Tb();s.Sb(0,"div"),s.Sb(1,"button",14),s.cc("click",function(){return s.uc(e),s.fc(2).newRecord()}),s.Ob(2,"i",15),s.Ac(3," Nuevo"),s.Rb(),s.Rb()}}function ar(e,t){if(1&e&&(s.Sb(0,"div",10),s.Sb(1,"button",11),s.Sb(2,"h5"),s.Ob(3,"i",12),s.Ac(4," Formulario de registro"),s.Rb(),s.Rb(),s.yc(5,or,4,0,"div",13),s.gc(6,"async"),s.Rb()),2&e){const e=s.fc();s.Ab(5),s.lc("ngIf",s.hc(6,1,e.editMode))}}function lr(e,t){if(1&e){const e=s.Tb();s.Sb(0,"app-form-users",16),s.cc("onAddorEdit",function(t){return s.uc(e),s.fc().refreshControls(t)}),s.Rb()}if(2&e){const e=s.fc();s.lc("editMode",e.editMode)}}function br(e,t){1&e&&(s.Sb(0,"h5"),s.Ob(1,"i",17),s.Ac(2," Lista de registros"),s.Rb())}function dr(e,t){if(1&e){const e=s.Tb();s.Sb(0,"app-table-users",18),s.cc("onSelected",function(t){return s.uc(e),s.fc().recordSelected(t)}),s.Rb()}if(2&e){const e=s.fc();s.lc("forceRefreshData",e.refreshData)}}let ur=(()=>{class e{constructor(e,t){this.store=e,this.router=t,this._subs$=[],this.activeIds="",this.editMode=new A.a,this.refreshData=new A.a,this._subs$.push(this.store.select("currentPage").subscribe(e=>{this.titlePageHeader=e})),this.activeIds="static-2",this.store.dispatch(i.a({current:{icon:"fa-table",title:"Cat\xe1logo de Usuarios",description:"",url:this.router.url}}))}ngOnInit(){}ngOnDestroy(){this._subs$.forEach(e=>{try{e.unsubscribe()}catch(t){}})}newRecord(){this.store.dispatch(Ue.b({dataModel:null})),this.editMode.next(!1)}recordSelected(e){this.store.dispatch(Ue.b({dataModel:e})),this.dtElement.expand("static-1"),this.editMode.next(!0)}refreshControls(e){this.store.dispatch(Ue.b({dataModel:null})),this.dtElement.expand("static-2"),this.editMode.next(!1),this.refreshData.next(e)}}return e.\u0275fac=function(t){return new(t||e)(s.Nb(c.h),s.Nb(n.b))},e.\u0275cmp=s.Hb({type:e,selectors:[["app-users"]],viewQuery:function(e,t){if(1&e&&s.Fc(S.a,1),2&e){let e;s.sc(e=s.dc())&&(t.dtElement=e.first)}},decls:9,vars:4,consts:[[1,"extendWorkJob","d-flex","flex-column","justify-content-center","px-lg-5","px-1"],["class","pageHeader",4,"ngIf"],["ngbAccordion","",3,"closeOthers","activeIds","destroyOnHide"],["id","static-1"],["ngbPanelHeader",""],["ngbPanelContent",""],["id","static-2"],["ngbPanelTitle",""],[1,"pageHeader"],["aria-hidden","true",1,"fa",3,"ngClass"],[1,"d-flex","align-items-center","justify-content-between"],["ngbPanelToggle","",1,"btn","btn-link"],["aria-hidden","true",1,"fa","fa-newspaper-o"],[4,"ngIf"],[1,"btn","btn-sm","btn-outline-primary","ml-2",3,"click"],["aria-hidden","true",1,"fa","fa-plus"],[3,"editMode","onAddorEdit"],["aria-hidden","true",1,"fa","fa-th"],[3,"forceRefreshData","onSelected"]],template:function(e,t){1&e&&(s.Sb(0,"div",0),s.yc(1,cr,3,2,"h2",1),s.Sb(2,"ngb-accordion",2),s.Sb(3,"ngb-panel",3),s.yc(4,ar,7,3,"ng-template",4),s.yc(5,lr,1,1,"ng-template",5),s.Rb(),s.Sb(6,"ngb-panel",6),s.yc(7,br,3,0,"ng-template",7),s.yc(8,dr,1,1,"ng-template",5),s.Rb(),s.Rb(),s.Rb()),2&e&&(s.Ab(1),s.lc("ngIf",t.titlePageHeader),s.Ab(1),s.lc("closeOthers",!0)("activeIds",t.activeIds)("destroyOnHide",!1))},directives:[o.n,S.a,S.h,S.j,S.i,S.k,o.l,S.l,Tt,sr],pipes:[o.b],styles:[".card{background-color:transparent!important}  .card .card-header{background-color:hsla(0,0%,100%,.050980392156862744)}  .card .card-header button{width:100%;text-align:left}  .btn-link{color:#fff;text-decoration:none!important}  .btn-link:hover,   body:not(.om) .btn-link:hover{color:#0056b3;text-decoration:none!important}  body:not(.om) .btn-link{color:#333;text-decoration:none!important}"]}),e})();var fr=r("cKT1");let hr=(()=>{class e{constructor(e){this.http=e}data(e="",t="",r=""){return this.http.get(`${I.a.apis.recon.url}/admin/crimes?skip=${e}&take=${t}&filter=${r}`).pipe(Object(y.a)(e=>{if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(w.a)(e=>{}))}add(e){return this.http.post(`${I.a.apis.recon.url}/admin/crime`,e).pipe(Object(y.a)(e=>{if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(w.a)(e=>{}))}edit(e){return this.http.patch(`${I.a.apis.recon.url}/admin/crime`,e).pipe(Object(y.a)(e=>{if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(w.a)(e=>{}))}}return e.\u0275fac=function(t){return new(t||e)(s.Zb(O.b))},e.\u0275prov=s.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function pr(e,t){if(1&e&&s.Ob(0,"i",20),2&e){const e=s.fc(2);s.Db("fa ",e.alertMsg.icon," mr-2")}}function gr(e,t){if(1&e&&(s.Sb(0,"span"),s.Ac(1),s.Rb()),2&e){const e=s.fc(2);s.Ab(1),s.Bc(e.alertMsg.title)}}function mr(e,t){if(1&e&&(s.Sb(0,"p",21),s.Ac(1),s.Rb()),2&e){const e=s.fc(2);s.Ab(1),s.Bc(e.alertMsg.message)}}function Sr(e,t){if(1&e&&(s.Sb(0,"ngb-alert",15),s.Sb(1,"h5",16),s.yc(2,pr,1,3,"i",17),s.yc(3,gr,2,1,"span",18),s.Rb(),s.yc(4,mr,2,1,"p",19),s.Rb()),2&e){const e=s.fc();s.lc("type",e.alertMsg.type)("dismissible",!1),s.Ab(2),s.lc("ngIf",e.alertMsg.icon),s.Ab(1),s.lc("ngIf",e.alertMsg.title),s.Ab(1),s.lc("ngIf",e.alertMsg.message)}}function Ar(e,t){1&e&&s.Ob(0,"i",22)}function vr(e,t){1&e&&s.Ob(0,"i",23)}function Rr(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"Informaci\xf3n requerida"),s.Rb())}function yr(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"La longitud m\xednima es de 4 caracteres"),s.Rb())}function wr(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"La longitud m\xe1xima es de 100 caracteres"),s.Rb())}function Ir(e,t){if(1&e&&(s.Sb(0,"div",24),s.Ob(1,"i",25),s.yc(2,Rr,2,0,"span",18),s.yc(3,yr,2,0,"span",18),s.yc(4,wr,2,0,"span",18),s.Rb()),2&e){const e=s.fc();s.Ab(2),s.lc("ngIf",e.f.descrip.errors.required),s.Ab(1),s.lc("ngIf",e.f.descrip.errors.minlength),s.Ab(1),s.lc("ngIf",e.f.descrip.errors.maxlength)}}function Or(e,t){1&e&&s.Ob(0,"i",26)}function Mr(e,t){1&e&&s.Ob(0,"span",27)}const Cr=function(e){return{errBorder:e}};let xr=(()=>{class e{constructor(e,t,r,n){this.fb=e,this.store=t,this.crimesService=r,this.handlerErrorsService=n,this._subs$=[],this.onAddorEdit=new s.n,this.frmgp=this.fb.group({id:[""],descrip:["",[R.p.required,R.p.minLength(4),R.p.maxLength(100)]]}),this.formSubmitted=!1,this.withErr=!1,this.alertMsg=null}ngOnInit(){this._subs$.push(this.store.select("catalogCrimes").subscribe(e=>this.editModel=e.selected)),this._subs$.push(this.editMode.subscribe(e=>{this._populateFormEditMode(e)}))}ngOnDestroy(){this._subs$.forEach(e=>{try{e.unsubscribe()}catch(t){}})}get f(){return this.frmgp.controls}_populateFormEditMode(e){var t,r;this.withErr=!1,this.formSubmitted=!1,this.alertMsg=null,this.f.id.patchValue(null===(t=this.editModel)||void 0===t?void 0:t.id),this.f.descrip.patchValue(null===(r=this.editModel)||void 0===r?void 0:r.descrip),$("form input:first").select()}onSubmit(){this.withErr=!1,this.formSubmitted=!0,this.alertMsg=null;try{if(!this.frmgp.valid)throw new Error("Se encontraron errores de formulario");this.editModel?this.editAction():this.addAction()}catch(e){this.showAlert(e.message,"danger","fa-times-circle-o","Error"),this.withErr=!0}}showAlert(e,t,r,n){this.alertMsg={type:t,icon:r,title:n,message:e}}addAction(){try{this._subs$.push(this.crimesService.add(this.frmgp.value).subscribe(e=>{this.onAddorEdit.emit({status:!0,action:"add"})},e=>{this.showAlert(this.handlerErrorsService.parseMsgError(e),"danger","fa-times-circle-o","Error"),this.withErr=!0}))}catch(e){this.showAlert(this.handlerErrorsService.parseMsgError(e),"danger","fa-times-circle-o","Error"),this.withErr=!0}}editAction(){try{this._subs$.push(this.crimesService.edit(this.frmgp.value).subscribe(e=>{this.onAddorEdit.emit({status:!0,action:"update"})},e=>{this.showAlert(this.handlerErrorsService.parseMsgError(e),"danger","fa-times-circle-o","Error"),this.withErr=!0}))}catch(e){this.showAlert(this.handlerErrorsService.parseMsgError(e),"danger","fa-times-circle-o","Error"),this.withErr=!0}}}return e.\u0275fac=function(t){return new(t||e)(s.Nb(R.c),s.Nb(c.h),s.Nb(hr),s.Nb(C.a))},e.\u0275cmp=s.Hb({type:e,selectors:[["app-form-crimes"]],inputs:{editMode:"editMode"},outputs:{onAddorEdit:"onAddorEdit"},decls:18,vars:12,consts:[["autocomplete","off",3,"formGroup","ngSubmit"],[3,"type","dismissible",4,"ngIf"],[1,"form-row"],[1,"col-12","col-md-4","py-2"],[1,"inner-addon","right-addon"],["class","fa fa-check-circle-o text-success","aria-hidden","true",4,"ngIf"],["class","fa fa-times-circle-o text-danger","aria-hidden","true",4,"ngIf"],["id","noctrl","type","text","placeholder","Descripci\xf3n","formControlName","descrip",1,"form-control",3,"ngClass"],["class","text-danger",4,"ngIf"],[1,"text-right"],["ngClass","btn-outline-success",1,"btn",3,"disabled"],["class","fa fa-pencil-square-o","aria-hidden","true","type","submit",4,"ngIf"],["class","spinner-grow spinner-grow-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"ml-2"],["type","hidden","id","id","name","id","formControlName","id"],[3,"type","dismissible"],[1,"font-weight-bold"],["aria-hidden","true",3,"class",4,"ngIf"],[4,"ngIf"],["class","m-0 p-0",4,"ngIf"],["aria-hidden","true"],[1,"m-0","p-0"],["aria-hidden","true",1,"fa","fa-check-circle-o","text-success"],["aria-hidden","true",1,"fa","fa-times-circle-o","text-danger"],[1,"text-danger"],["aria-hidden","true",1,"fa","fa-exclamation-triangle","mr-2"],["aria-hidden","true","type","submit",1,"fa","fa-pencil-square-o"],["role","status","aria-hidden","true",1,"spinner-grow","spinner-grow-sm"]],template:function(e,t){1&e&&(s.Sb(0,"form",0),s.cc("ngSubmit",function(){return t.onSubmit()}),s.yc(1,Sr,5,5,"ngb-alert",1),s.Sb(2,"div",2),s.Sb(3,"div",3),s.Sb(4,"label"),s.Ac(5,"Descripci\xf3n"),s.Rb(),s.Sb(6,"div",4),s.yc(7,Ar,1,0,"i",5),s.yc(8,vr,1,0,"i",6),s.Ob(9,"input",7),s.Rb(),s.yc(10,Ir,5,3,"div",8),s.Rb(),s.Rb(),s.Sb(11,"div",9),s.Sb(12,"button",10),s.yc(13,Or,1,0,"i",11),s.yc(14,Mr,1,0,"span",12),s.Sb(15,"span",13),s.Ac(16),s.Rb(),s.Rb(),s.Rb(),s.Ob(17,"input",14),s.Rb()),2&e&&(s.lc("formGroup",t.frmgp),s.Ab(1),s.lc("ngIf",t.alertMsg),s.Ab(6),s.lc("ngIf",t.formSubmitted&&t.f.descrip.valid),s.Ab(1),s.lc("ngIf",t.formSubmitted&&t.f.descrip.invalid),s.Ab(1),s.lc("ngClass",s.pc(10,Cr,t.formSubmitted&&t.f.descrip.invalid)),s.Ab(1),s.lc("ngIf",t.formSubmitted&&t.f.descrip.invalid),s.Ab(2),s.lc("disabled",t.formSubmitted&&!t.withErr),s.Ab(1),s.lc("ngIf",!t.formSubmitted||t.withErr),s.Ab(1),s.lc("ngIf",t.formSubmitted&&!t.withErr),s.Ab(2),s.Cc(" ",!t.formSubmitted||t.withErr?t.editModel?"Editar":"Registrar":"Procesando..."," "))},directives:[R.r,R.j,R.e,o.n,R.b,R.i,R.d,o.l,S.b],styles:[""]}),e})(),$r=(()=>{class e{constructor(e,t,r){this.pipe=e,this.crimesService=t,this.store=r,this._subs$=[],this._loading$=new ge.a(!0),this._err$=new ge.a(null),this._search$=new A.a,this._crimes$=new ge.a([]),this._total$=new ge.a(0),this._state={page:1,pageSize:10,searchTerm:"",sortColumn:"",sortDirection:""},this._subs$.push(this._search$.pipe(Object(w.a)(()=>{this._err$.next(null),this._loading$.next(!0)}),Object(pe.a)(500),Object(Se.a)(()=>this._dataList()),Object(y.a)(e=>this._formating(e)),Object(w.a)(()=>this._loading$.next(!1))).subscribe(e=>{this._crimes$.next(e.data),this._total$.next(e.total)})),this._search$.next()}ngOnDestroy(){this._subs$.forEach(e=>{try{e.unsubscribe()}catch(t){}})}get crimes$(){return this._crimes$.asObservable()}get total$(){return this._total$.asObservable()}get loading$(){return this._loading$.asObservable()}get err$(){return this._err$.asObservable()}get page(){return this._state.page}get pageSize(){return this._state.pageSize}get searchTerm(){return this._state.searchTerm}set page(e){this._set({page:e})}set pageSize(e){this._set({pageSize:e})}set searchTerm(e){this._set({searchTerm:e})}set sortColumn(e){this._set({sortColumn:e})}set sortDirection(e){this._set({sortDirection:e})}refreshTable(){this._search$.next()}_set(e){Object.assign(this._state,e),this._search$.next()}_dataList(){const{searchTerm:e}=this._state;return this.crimesService.data(null,null,e).pipe(Object(Ae.a)(e=>(this._err$.next(e),Object(me.a)([]))))}_formating(e){const{searchTerm:t,sortColumn:r,sortDirection:n,pageSize:i,page:s}=this._state;let c=e;var o,a,l;(r||n)&&(o=c,a=r,c=""===(l=n)||""===a?o:[...o].sort((e,t)=>{const r=(n=e[a])<(i=t[a])?-1:n>i?1:0;var n,i;return"asc"===l?r:-r})),t&&(c=c.filter(e=>function(e,t,r){return r.transform(e.id).includes(t.toLowerCase())||e.fIns.toString().includes(t.toLowerCase())||e.fAct.toString().includes(t.toLowerCase())||e.descrip.toLowerCase().includes(t.toLowerCase())}(e,t,this.pipe)));const b=c.length;return c=c.slice((s-1)*i,(s-1)*i+i),this.store.dispatch(fr.a({data:c})),{data:c,total:b}}}return e.\u0275fac=function(t){return new(t||e)(s.Zb(o.f),s.Zb(hr),s.Zb(c.h))},e.\u0275prov=s.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const _r={asc:"desc",desc:"","":"asc"};let Er=(()=>{class e{constructor(){this.sortable="",this.direction="",this.sort=new s.n}rotate(){this.direction=_r[this.direction],this.sort.emit({column:this.sortable,direction:this.direction})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.Ib({type:e,selectors:[["th","sortable",""]],hostVars:4,hostBindings:function(e,t){1&e&&s.cc("click",function(){return t.rotate()}),2&e&&s.Fb("asc","asc"===t.direction)("desc","desc"===t.direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sort:"sort"}}),e})();function kr(e,t){if(1&e&&s.Ob(0,"i",30),2&e){const e=s.fc(2);s.Db("fa ",e.alertMsg.icon," mr-2")}}function Pr(e,t){if(1&e&&(s.Sb(0,"span"),s.Ac(1),s.Rb()),2&e){const e=s.fc(2);s.Ab(1),s.Bc(e.alertMsg.title)}}function Dr(e,t){if(1&e&&(s.Sb(0,"p",31),s.Ac(1),s.Rb()),2&e){const e=s.fc(2);s.Ab(1),s.Bc(e.alertMsg.message)}}function Tr(e,t){if(1&e&&(s.Sb(0,"ngb-alert",25),s.Sb(1,"h5",26),s.yc(2,kr,1,3,"i",27),s.yc(3,Pr,2,1,"span",28),s.Rb(),s.yc(4,Dr,2,1,"p",29),s.Rb()),2&e){const e=s.fc();s.lc("type","danger")("dismissible",!1),s.Ab(2),s.lc("ngIf",e.alertMsg.icon),s.Ab(1),s.lc("ngIf",e.alertMsg.title),s.Ab(1),s.lc("ngIf",e.alertMsg.message)}}function Lr(e,t){if(1&e&&s.Ob(0,"i",30),2&e){const e=s.fc(2);s.Db("fa ",e.alertMsg.icon," mr-2")}}function jr(e,t){if(1&e&&(s.Sb(0,"span"),s.Ac(1),s.Rb()),2&e){const e=s.fc(2);s.Ab(1),s.Bc(e.alertMsg.title)}}function zr(e,t){if(1&e&&(s.Sb(0,"p",31),s.Ac(1),s.Rb()),2&e){const e=s.fc(2);s.Ab(1),s.Bc(e.alertMsg.message)}}function Nr(e,t){if(1&e){const e=s.Tb();s.Sb(0,"ngb-alert",32),s.cc("closed",function(){return s.uc(e),s.fc().alertMsg=null}),s.Sb(1,"h5",26),s.yc(2,Lr,1,3,"i",27),s.yc(3,jr,2,1,"span",28),s.Rb(),s.yc(4,zr,2,1,"p",29),s.Rb()}if(2&e){const e=s.fc();s.lc("type",e.alertMsg.type),s.Ab(2),s.lc("ngIf",e.alertMsg.icon),s.Ab(1),s.lc("ngIf",e.alertMsg.title),s.Ab(1),s.lc("ngIf",e.alertMsg.message)}}function Hr(e,t){1&e&&s.Ob(0,"i",33)}function Br(e,t){1&e&&(s.Sb(0,"tbody"),s.Sb(1,"tr"),s.Sb(2,"th",34),s.Ob(3,"i",35),s.Sb(4,"span"),s.Ac(5,"Actualizndo informaci\xf3n..."),s.Rb(),s.Rb(),s.Rb(),s.Rb())}function qr(e,t){if(1&e){const e=s.Tb();s.Qb(0),s.Sb(1,"tr"),s.Sb(2,"th",37),s.Ac(3),s.Rb(),s.Sb(4,"td"),s.Ob(5,"ngb-highlight",38),s.Rb(),s.Sb(6,"td"),s.Ob(7,"ngb-highlight",38),s.gc(8,"date"),s.Rb(),s.Sb(9,"td"),s.Ob(10,"ngb-highlight",38),s.gc(11,"date"),s.Rb(),s.Sb(12,"td",39),s.Sb(13,"div",40),s.Sb(14,"button",41),s.cc("click",function(){s.uc(e);const r=t.$implicit;return s.fc(3).editRecord(r)}),s.Ob(15,"i",42),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Pb()}if(2&e){const e=t.$implicit,r=s.fc(3);s.Ab(3),s.Bc(e.id),s.Ab(2),s.lc("result",e.descrip)("term",r.service.searchTerm),s.Ab(2),s.lc("result",s.ic(8,7,e.fIns,"dd/MM/yyyy HH:mm"))("term",r.service.searchTerm),s.Ab(3),s.lc("result",s.ic(11,10,e.fAct,"dd/MM/yyyy HH:mm"))("term",r.service.searchTerm)}}function Vr(e,t){if(1&e&&(s.Sb(0,"tbody"),s.yc(1,qr,16,13,"ng-container",36),s.gc(2,"async"),s.Rb()),2&e){const e=s.fc(2);s.Ab(1),s.lc("ngForOf",s.hc(2,1,e.crimes$))}}function Fr(e,t){if(1&e&&(s.yc(0,Vr,3,3,"tbody",21),s.gc(1,"async")),2&e){const e=s.fc(),t=s.tc(47);s.lc("ngIf",s.hc(1,2,e.total$))("ngIfElse",t)}}function Jr(e,t){1&e&&(s.Sb(0,"tbody"),s.Sb(1,"tr"),s.Sb(2,"th",43),s.Ob(3,"i",44),s.Ac(4," No se encontr\xf3 informaci\xf3n "),s.Rb(),s.Rb(),s.Rb())}function Ur(e,t){if(1&e){const e=s.Tb();s.Sb(0,"div",2),s.Sb(1,"ngb-pagination",45),s.cc("pageChange",function(t){return s.uc(e),s.fc().service.page=t}),s.gc(2,"async"),s.Rb(),s.Sb(3,"span",46),s.Ac(4),s.gc(5,"async"),s.gc(6,"async"),s.gc(7,"async"),s.Rb(),s.Rb()}if(2&e){const e=s.fc();s.Ab(1),s.lc("collectionSize",s.hc(2,6,e.total$))("page",e.service.page)("pageSize",e.service.pageSize),s.Ab(3),s.Ec(" Mostrando ",e.service.page*e.service.pageSize-e.service.pageSize+1," al ",e.service.page*e.service.pageSize<=s.hc(5,8,e.total$)?e.service.page*e.service.pageSize:s.hc(6,10,e.total$)," de ",s.hc(7,12,e.total$)," registros")}}let Gr=(()=>{class e{constructor(e,t,r){this.service=e,this.store=t,this.handlerErrorsService=r,this._subs$=[],this.onSelected=new s.n,this.forceRefreshData=new A.a,this._autoCloseAlert=new A.a,this.alertMsg=null,this.crimes$=e.crimes$,this.total$=e.total$}ngOnInit(){this._subs$.push(this._autoCloseAlert.pipe(Object(pe.a)(1e4)).subscribe(()=>{this.alertMsg=null})),this._subs$.push(this.forceRefreshData.subscribe(e=>this.refreshTable(e))),this._subs$.push(this.service.err$.subscribe(e=>{this.alertMsg=e?{type:"error",icon:"fa-info-circle",title:"Error",message:` ${this.handlerErrorsService.parseMsgError(e)} </br> favor de intentarlo de nuevo. `}:null}))}ngOnDestroy(){this._subs$.forEach(e=>{try{e.unsubscribe()}catch(t){}})}onSort({column:e,direction:t}){this.headers.forEach(t=>{t.sortable!==e&&(t.direction="")}),this.service.sortColumn=e,this.service.sortDirection=t}toggleTableDetail(e,t){const r=$(`.tableDetail.id_${e}`),n=$(t.currentTarget);r.hasClass("d-none")?(r.removeClass("d-none"),n.html('<i class="fa fa-minus-circle" aria-hidden="true"></i>'),n.removeClass("text-success"),n.addClass("text-warning")):(r.addClass("d-none"),n.html('<i class="fa fa-plus-circle" aria-hidden="true"></i>'),n.removeClass("text-warning"),n.addClass("text-success"))}editRecord(e){this.store.dispatch(fr.b({dataModel:e})),this.onSelected.emit(e)}refreshTable(e){if(e.status){this.service.refreshTable();let t="Registro ";switch(e.action){case"add":t+="agregado";break;case"update":t+="actualizado"}t+=" correctamente",this.alertMsg={type:"success",icon:"fa-info-circle",title:"Acci\xf3n",message:t},this._autoCloseAlert.next(!0)}}}return e.\u0275fac=function(t){return new(t||e)(s.Nb($r),s.Nb(c.h),s.Nb(C.a))},e.\u0275cmp=s.Hb({type:e,selectors:[["app-table-crimes"]],viewQuery:function(e,t){if(1&e&&s.Fc(Er,1),2&e){let e;s.sc(e=s.dc())&&(t.headers=e)}},inputs:{forceRefreshData:"forceRefreshData"},outputs:{onSelected:"onSelected"},features:[s.zb([$r,o.f])],decls:51,vars:24,consts:[[3,"type","dismissible",4,"ngIf"],[3,"type","closed",4,"ngIf"],[1,"d-flex","justify-content-between","p-2"],[1,"row"],[1,"col-"],["type","button","ngbTooltip","Actualizar lista de registros",1,"btn","btn-outline-primary",3,"click"],["aria-hidden","true",1,"fa","fa-refresh"],[1,"col-auto","form-group","form-inline","d-none","d-sm-inline"],[1,"d-none","d-sm-inline"],["name","pageSize",1,"custom-select","mx-0","mx-sm-2",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],[1,"col-auto","form-group","form-inline"],[1,"inner-addon","right-addon"],["class","fa fa-refresh fa-spin fa-fw text-warning p-0",4,"ngIf"],["type","text","name","searchTerm","placeholder","Buscar en la lista",1,"form-control","ml-2",3,"ngModel","ngModelChange"],[1,"table","table-striped","text-white"],["scope","col","sortable","id",3,"sort"],["scope","col","sortable","noCtrl",3,"sort"],["scope","col","sortable","fIns",3,"sort"],["scope","col","sortable","fAct",3,"sort"],["scope","col"],[4,"ngIf","ngIfElse"],["renderData",""],["nodataResult",""],["class","d-flex justify-content-between p-2",4,"ngIf"],[3,"type","dismissible"],[1,"font-weight-bold"],["aria-hidden","true",3,"class",4,"ngIf"],[4,"ngIf"],["class","m-0 p-0",4,"ngIf"],["aria-hidden","true"],[1,"m-0","p-0"],[3,"type","closed"],[1,"fa","fa-refresh","fa-spin","fa-fw","text-warning","p-0"],["scope","row","colspan","4",1,"text-center"],[1,"fa","fa-cog","fa-spin","fa-3x","fa-fw",2,"vertical-align","middle"],[4,"ngFor","ngForOf"],["scope","row"],[3,"result","term"],[2,"width","1px"],["role","group","aria-label","",1,"btn-group"],["type","button","ngbTooltip","Editar registro",1,"btn","btn-secondary","w-btn-50px",3,"click"],["aria-hidden","true",1,"fa","fa-pencil-square-o"],["scope","row","colspan","4",1,"text-center","text-danger"],["aria-hidden","true",1,"fa","fa-info-circle","pr-2"],[3,"collectionSize","page","pageSize","pageChange"],[1,"font-weight-bold","pl-2"]],template:function(e,t){if(1&e&&(s.yc(0,Tr,5,5,"ngb-alert",0),s.gc(1,"async"),s.yc(2,Nr,5,4,"ngb-alert",1),s.gc(3,"async"),s.Sb(4,"form"),s.Sb(5,"div",2),s.Sb(6,"div",3),s.Sb(7,"div",4),s.Sb(8,"button",5),s.cc("click",function(){return t.service.refreshTable()}),s.Ob(9,"i",6),s.Rb(),s.Rb(),s.Sb(10,"div",7),s.Sb(11,"span",8),s.Ac(12,"Mostrar"),s.Rb(),s.Sb(13,"select",9),s.cc("ngModelChange",function(e){return t.service.pageSize=e}),s.Sb(14,"option",10),s.Ac(15,"10"),s.Rb(),s.Sb(16,"option",10),s.Ac(17,"30"),s.Rb(),s.Sb(18,"option",10),s.Ac(19,"50"),s.Rb(),s.Sb(20,"option",10),s.Ac(21,"100"),s.Rb(),s.Rb(),s.Sb(22,"span",8),s.Ac(23,"registros"),s.Rb(),s.Rb(),s.Rb(),s.Sb(24,"div",11),s.Sb(25,"div",12),s.yc(26,Hr,1,0,"i",13),s.gc(27,"async"),s.Sb(28,"input",14),s.cc("ngModelChange",function(e){return t.service.searchTerm=e}),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(29,"table",15),s.Sb(30,"thead"),s.Sb(31,"tr"),s.Sb(32,"th",16),s.cc("sort",function(e){return t.onSort(e)}),s.Ac(33,"#"),s.Rb(),s.Sb(34,"th",17),s.cc("sort",function(e){return t.onSort(e)}),s.Ac(35,"Descripci\xf3n"),s.Rb(),s.Sb(36,"th",18),s.cc("sort",function(e){return t.onSort(e)}),s.Ac(37,"Fecha de registro"),s.Rb(),s.Sb(38,"th",19),s.cc("sort",function(e){return t.onSort(e)}),s.Ac(39,"Fecha de actualizaci\xf3n"),s.Rb(),s.Sb(40,"th",20),s.Ac(41,"\xa0"),s.Rb(),s.Rb(),s.Rb(),s.yc(42,Br,6,0,"tbody",21),s.gc(43,"async"),s.yc(44,Fr,2,4,"ng-template",null,22,s.zc),s.yc(46,Jr,5,0,"ng-template",null,23,s.zc),s.Rb(),s.yc(48,Ur,8,14,"div",24),s.gc(49,"async"),s.gc(50,"async"),s.Rb()),2&e){const e=s.tc(45);s.lc("ngIf",s.hc(1,12,t.service.err$)),s.Ab(2),s.lc("ngIf",t.alertMsg&&!s.hc(3,14,t.service.err$)),s.Ab(11),s.lc("ngModel",t.service.pageSize),s.Ab(1),s.lc("ngValue",10),s.Ab(2),s.lc("ngValue",30),s.Ab(2),s.lc("ngValue",50),s.Ab(2),s.lc("ngValue",100),s.Ab(6),s.lc("ngIf",s.hc(27,16,t.service.loading$)),s.Ab(2),s.lc("ngModel",t.service.searchTerm),s.Ab(14),s.lc("ngIf",s.hc(43,18,t.service.loading$))("ngIfElse",e),s.Ab(6),s.lc("ngIf",0==s.hc(49,20,t.service.loading$)&&s.hc(50,22,t.total$)>0)}},directives:[o.n,R.r,R.j,R.k,S.n,R.o,R.i,R.l,R.m,R.q,R.b,Er,S.b,o.m,S.d,S.g],pipes:[o.b,o.e],styles:['th[sortable][_ngcontent-%COMP%]{cursor:pointer;-moz-user-select:none;user-select:none;-webkit-user-select:none}th[sortable].asc[_ngcontent-%COMP%]:before, th[sortable].desc[_ngcontent-%COMP%]:before{font-family:FontAwesome;font-weight:900;content:"\\f063";display:block;float:left;margin-left:-30px;color:#fff}th[sortable].desc[_ngcontent-%COMP%]:before{transform:rotate(180deg);-ms-transform:rotate(180deg)}ngbd-table-complete[_ngcontent-%COMP%]   span.ngb-highlight[_ngcontent-%COMP%], ngbd-table-filtering[_ngcontent-%COMP%]   span.ngb-highlight[_ngcontent-%COMP%]{background-color:#ff0}.inner-addon[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin:12px 0 0!important}  body:not(.om) .table.text-white{color:#333!important}  body.om .table-striped tbody tr:nth-of-type(odd){background-color:hsla(0,0%,100%,.11)}']}),e})();function Wr(e,t){if(1&e&&(s.Sb(0,"h2",8),s.Ob(1,"i",9),s.Ac(2),s.Rb()),2&e){const e=s.fc();s.Ab(1),s.lc("ngClass",null==e.titlePageHeader?null:e.titlePageHeader.icon),s.Ab(1),s.Cc(" ",e.titlePageHeader.title," ")}}function Zr(e,t){if(1&e){const e=s.Tb();s.Sb(0,"div"),s.Sb(1,"button",14),s.cc("click",function(){return s.uc(e),s.fc(2).newRecord()}),s.Ob(2,"i",15),s.Ac(3," Nuevo"),s.Rb(),s.Rb()}}function Qr(e,t){if(1&e&&(s.Sb(0,"div",10),s.Sb(1,"button",11),s.Sb(2,"h5"),s.Ob(3,"i",12),s.Ac(4," Formulario de registro"),s.Rb(),s.Rb(),s.yc(5,Zr,4,0,"div",13),s.gc(6,"async"),s.Rb()),2&e){const e=s.fc();s.Ab(5),s.lc("ngIf",s.hc(6,1,e.editMode))}}function Kr(e,t){if(1&e){const e=s.Tb();s.Sb(0,"app-form-crimes",16),s.cc("onAddorEdit",function(t){return s.uc(e),s.fc().refreshControls(t)}),s.Rb()}if(2&e){const e=s.fc();s.lc("editMode",e.editMode)}}function Xr(e,t){1&e&&(s.Sb(0,"h5"),s.Ob(1,"i",17),s.Ac(2," Lista de registros"),s.Rb())}function Yr(e,t){if(1&e){const e=s.Tb();s.Sb(0,"app-table-crimes",18),s.cc("onSelected",function(t){return s.uc(e),s.fc().recordSelected(t)}),s.Rb()}if(2&e){const e=s.fc();s.lc("forceRefreshData",e.refreshData)}}let en=(()=>{class e{constructor(e,t){this.store=e,this.router=t,this._subs$=[],this.activeIds="",this.editMode=new A.a,this.refreshData=new A.a,this._subs$.push(this.store.select("currentPage").subscribe(e=>{this.titlePageHeader=e})),this.activeIds="static-2",this.store.dispatch(i.a({current:{icon:"fa-table",title:"Cat\xe1logo de Delitos",description:"",url:this.router.url}}))}ngOnInit(){}ngOnDestroy(){this._subs$.forEach(e=>{try{e.unsubscribe()}catch(t){}})}newRecord(){this.store.dispatch(fr.b({dataModel:null})),this.editMode.next(!1)}recordSelected(e){this.store.dispatch(fr.b({dataModel:e})),this.dtElement.expand("static-1"),this.editMode.next(!0)}refreshControls(e){this.store.dispatch(fr.b({dataModel:null})),this.dtElement.expand("static-2"),this.editMode.next(!1),this.refreshData.next(e)}}return e.\u0275fac=function(t){return new(t||e)(s.Nb(c.h),s.Nb(n.b))},e.\u0275cmp=s.Hb({type:e,selectors:[["app-crimes"]],viewQuery:function(e,t){if(1&e&&s.Fc(S.a,1),2&e){let e;s.sc(e=s.dc())&&(t.dtElement=e.first)}},decls:9,vars:4,consts:[[1,"extendWorkJob","d-flex","flex-column","justify-content-center","px-lg-5","px-1"],["class","pageHeader",4,"ngIf"],["ngbAccordion","",3,"closeOthers","activeIds","destroyOnHide"],["id","static-1"],["ngbPanelHeader",""],["ngbPanelContent",""],["id","static-2"],["ngbPanelTitle",""],[1,"pageHeader"],["aria-hidden","true",1,"fa",3,"ngClass"],[1,"d-flex","align-items-center","justify-content-between"],["ngbPanelToggle","",1,"btn","btn-link"],["aria-hidden","true",1,"fa","fa-newspaper-o"],[4,"ngIf"],[1,"btn","btn-sm","btn-outline-primary","ml-2",3,"click"],["aria-hidden","true",1,"fa","fa-plus"],[3,"editMode","onAddorEdit"],["aria-hidden","true",1,"fa","fa-th"],[3,"forceRefreshData","onSelected"]],template:function(e,t){1&e&&(s.Sb(0,"div",0),s.yc(1,Wr,3,2,"h2",1),s.Sb(2,"ngb-accordion",2),s.Sb(3,"ngb-panel",3),s.yc(4,Qr,7,3,"ng-template",4),s.yc(5,Kr,1,1,"ng-template",5),s.Rb(),s.Sb(6,"ngb-panel",6),s.yc(7,Xr,3,0,"ng-template",7),s.yc(8,Yr,1,1,"ng-template",5),s.Rb(),s.Rb(),s.Rb()),2&e&&(s.Ab(1),s.lc("ngIf",t.titlePageHeader),s.Ab(1),s.lc("closeOthers",!0)("activeIds",t.activeIds)("destroyOnHide",!1))},directives:[o.n,S.a,S.h,S.j,S.i,S.k,o.l,S.l,xr,Gr],pipes:[o.b],styles:[".card{background-color:transparent!important}  .card .card-header{background-color:hsla(0,0%,100%,.050980392156862744)}  .card .card-header button{width:100%;text-align:left}  .btn-link{color:#fff;text-decoration:none!important}  .btn-link:hover,   body:not(.om) .btn-link:hover{color:#0056b3;text-decoration:none!important}  body:not(.om) .btn-link{color:#333;text-decoration:none!important}"]}),e})(),tn=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Hb({type:e,selectors:[["app-court"]],decls:2,vars:0,template:function(e,t){1&e&&(s.Sb(0,"p"),s.Ac(1,"court works!"),s.Rb())},styles:[""]}),e})(),rn=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Hb({type:e,selectors:[["app-freedom"]],decls:2,vars:0,template:function(e,t){1&e&&(s.Sb(0,"p"),s.Ac(1,"freedom works!"),s.Rb())},styles:[""]}),e})(),nn=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Hb({type:e,selectors:[["app-rooms"]],decls:2,vars:0,template:function(e,t){1&e&&(s.Sb(0,"p"),s.Ac(1,"rooms works!"),s.Rb())},styles:[""]}),e})(),sn=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Hb({type:e,selectors:[["app-binnacle"]],decls:2,vars:0,template:function(e,t){1&e&&(s.Sb(0,"p"),s.Ac(1,"binnacle works!"),s.Rb())},styles:[""]}),e})();var cn=r("mrSG"),on=r("qfBg");function an(e,t){1&e&&(s.Sb(0,"div",2),s.Sb(1,"h1",3),s.Ob(2,"i",4),s.Ac(3," Informaci\xf3n de usuario no disponible"),s.Rb(),s.Rb())}function ln(e,t){if(1&e&&(s.Sb(0,"tr"),s.Sb(1,"th",19),s.Ac(2),s.Rb(),s.Sb(3,"td"),s.Ac(4),s.Rb(),s.Rb()),2&e){const e=t.$implicit;s.Ab(2),s.Bc(e.id),s.Ab(2),s.Bc(e.role)}}function bn(e,t){if(1&e&&(s.Sb(0,"div",5),s.Sb(1,"div",6),s.Sb(2,"h6",7),s.Ac(3,"Informaci\xf3n de usuario"),s.Rb(),s.Sb(4,"div",8),s.Sb(5,"div",9),s.Sb(6,"h6",10),s.Ac(7,"Identificador"),s.Rb(),s.Sb(8,"p"),s.Ac(9),s.Rb(),s.Rb(),s.Sb(10,"div",9),s.Sb(11,"h6",10),s.Ac(12,"Nombre de usuario"),s.Rb(),s.Sb(13,"p",11),s.Ac(14),s.Rb(),s.Rb(),s.Ob(15,"div",12),s.Sb(16,"div",9),s.Sb(17,"h6",10),s.Ac(18,"Fecha de registro"),s.Rb(),s.Sb(19,"p"),s.Ac(20),s.gc(21,"date"),s.Rb(),s.Rb(),s.Sb(22,"div",9),s.Sb(23,"h6",10),s.Ac(24,"Fecha de actualizaci\xf3n"),s.Rb(),s.Sb(25,"p"),s.Ac(26),s.gc(27,"date"),s.Rb(),s.Rb(),s.Ob(28,"div",12),s.Sb(29,"div",9),s.Sb(30,"h6",13),s.Ac(31,"Rol(es)"),s.Rb(),s.Sb(32,"table",14),s.Sb(33,"thead"),s.Sb(34,"tr"),s.Sb(35,"th",15),s.Ac(36,"#"),s.Rb(),s.Sb(37,"th",15),s.Ac(38,"Descripci\xf3n"),s.Rb(),s.Rb(),s.Rb(),s.Sb(39,"tbody"),s.yc(40,ln,5,2,"tr",16),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Ob(41,"div",17),s.Sb(42,"div",6),s.Sb(43,"h6",7),s.Ac(44,"Informaci\xf3n de la persona"),s.Rb(),s.Sb(45,"div",8),s.Sb(46,"div",9),s.Sb(47,"h6",10),s.Ac(48,"Identificador"),s.Rb(),s.Sb(49,"p"),s.Ac(50),s.Rb(),s.Rb(),s.Sb(51,"div",9),s.Sb(52,"h6",10),s.Ac(53,"CURP"),s.Rb(),s.Sb(54,"p"),s.Ac(55),s.Rb(),s.Rb(),s.Sb(56,"div",9),s.Sb(57,"h6",10),s.Ac(58,"N\xfamero de control"),s.Rb(),s.Sb(59,"p"),s.Ac(60),s.Rb(),s.Rb(),s.Ob(61,"div",12),s.Sb(62,"div",9),s.Sb(63,"h6",10),s.Ac(64,"Nombre"),s.Rb(),s.Sb(65,"p",18),s.Ac(66),s.Rb(),s.Rb(),s.Ob(67,"div",12),s.Sb(68,"div",9),s.Sb(69,"h6",10),s.Ac(70,"Tel\xe9fono fijo"),s.Rb(),s.Sb(71,"p"),s.Ac(72),s.Rb(),s.Rb(),s.Sb(73,"div",9),s.Sb(74,"h6",10),s.Ac(75,"N\xfamero de celular"),s.Rb(),s.Sb(76,"p"),s.Ac(77),s.Rb(),s.Rb(),s.Sb(78,"div",9),s.Sb(79,"h6",10),s.Ac(80,"Correo electr\xf3nico"),s.Rb(),s.Sb(81,"p"),s.Ac(82),s.Rb(),s.Rb(),s.Ob(83,"div",12),s.Sb(84,"div",9),s.Sb(85,"h6",10),s.Ac(86,"Fecha de registro"),s.Rb(),s.Sb(87,"p"),s.Ac(88),s.gc(89,"date"),s.Rb(),s.Rb(),s.Sb(90,"div",9),s.Sb(91,"h6",10),s.Ac(92,"Fecha de actualizaci\xf3n"),s.Rb(),s.Sb(93,"p"),s.Ac(94),s.gc(95,"date"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&e){const e=s.fc();s.Ab(9),s.Bc(e.userInfo.id),s.Ab(5),s.Bc(e.userInfo.username),s.Ab(6),s.Bc(s.ic(21,14,e.userInfo.fIns,"dd/MM/yyyy HH:mm")),s.Ab(6),s.Bc(s.ic(27,17,e.userInfo.fAct,"dd/MM/yyyy HH:mm")),s.Ab(14),s.lc("ngForOf",e.userInfo.roles),s.Ab(10),s.Bc(e.userInfo.person.id),s.Ab(5),s.Bc(e.userInfo.person.curp),s.Ab(5),s.Bc(e.userInfo.person.noCtrl),s.Ab(6),s.Bc(e.userInfo.person.nombres+" "+e.userInfo.person.primerApellido+" "+e.userInfo.person.segundoApellido),s.Ab(6),s.Bc(e.userInfo.person.tel),s.Ab(5),s.Bc(e.userInfo.person.cel),s.Ab(5),s.Bc(e.userInfo.person.mail),s.Ab(6),s.Bc(s.ic(89,20,e.userInfo.person.fIns,"dd/MM/yyyy HH:mm")),s.Ab(6),s.Bc(s.ic(95,23,e.userInfo.person.fAct,"dd/MM/yyyy HH:mm"))}}let dn=(()=>{class e{constructor(e,t){this.usersService=e,this.userService=t,this._subs$=[],this.userInfo=null,this.errGetInfo=!1}ngOnInit(){const e=this.userService.storageSessModel;e&&this._subs$.push(this.usersService.byId(e.userid).subscribe(e=>{this.userInfo=e},e=>{this.errGetInfo=!0}))}ngOnDestroy(){this._subs$.forEach(e=>{try{e.unsubscribe()}catch(t){}})}}return e.\u0275fac=function(t){return new(t||e)(s.Nb(Ge),s.Nb(on.a))},e.\u0275cmp=s.Hb({type:e,selectors:[["app-info-option"]],decls:2,vars:2,consts:[["class","extendWorkJob d-flex flex-column justify-content-center",4,"ngIf"],["class","row m-2 p-0",4,"ngIf"],[1,"extendWorkJob","d-flex","flex-column","justify-content-center"],[1,"text-center","text-danger"],["aria-hidden","true",1,"fa","fa-info-circle"],[1,"row","m-2","p-0"],[1,"col-12"],[1,"tableDetailSccionTitle","h2","mb-3"],[1,"row","ml-2"],[1,"col"],[1,"tableDetailSccionTitle"],[1,"h2","font-weight-bold"],[1,"w-100","m-1"],[1,"tableDetailSccionTitle","mb-2"],[1,"table","ml-2","text-white","roles"],["scope","col"],[4,"ngFor","ngForOf"],[1,"w-100","m-3"],[1,"font-weight-bold"],["scope","row"]],template:function(e,t){1&e&&(s.yc(0,an,4,0,"div",0),s.yc(1,bn,96,26,"div",1)),2&e&&(s.lc("ngIf",!0===t.errGetInfo),s.Ab(1),s.lc("ngIf",t.userInfo&&!1===t.errGetInfo))},directives:[o.n,o.m],pipes:[o.e],styles:[".extendWorkJob[_ngcontent-%COMP%]{min-height:calc(100vh - 250px)}.table.roles[_ngcontent-%COMP%]{width:15rem;color:#212529}.table.roles[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:none}  body:not(.om) .text-white{color:#333!important}@media screen and (max-width:768px){.extendWorkJob[_ngcontent-%COMP%]{min-height:calc(100vh - 296px)}}"]}),e})();function un(e,t){1&e&&(s.Sb(0,"div",2),s.Sb(1,"h1",3),s.Ob(2,"i",4),s.Ac(3," Informaci\xf3n de usuario no disponible"),s.Rb(),s.Sb(4,"p"),s.Ac(5,"No es posible cambiar la contrase\xf1a, favor de volver a iniciar sesi\xf3n"),s.Rb(),s.Rb())}function fn(e,t){if(1&e&&s.Ob(0,"i",28),2&e){const e=s.fc(3);s.Db("fa ",e.alertMsg.icon," mr-2")}}function hn(e,t){if(1&e&&(s.Sb(0,"span"),s.Ac(1),s.Rb()),2&e){const e=s.fc(3);s.Ab(1),s.Bc(e.alertMsg.title)}}function pn(e,t){if(1&e&&(s.Sb(0,"p",29),s.Ac(1),s.Rb()),2&e){const e=s.fc(3);s.Ab(1),s.Bc(e.alertMsg.message)}}function gn(e,t){if(1&e){const e=s.Tb();s.Sb(0,"ngb-alert",23),s.cc("closed",function(){return s.uc(e),s.fc(2).alertMsg=null}),s.Sb(1,"h5",24),s.yc(2,fn,1,3,"i",25),s.yc(3,hn,2,1,"span",26),s.Rb(),s.yc(4,pn,2,1,"p",27),s.Rb()}if(2&e){const e=s.fc(2);s.lc("type",e.alertMsg.type)("dismissible",e.alertMsg.dismissible),s.Ab(2),s.lc("ngIf",e.alertMsg.icon),s.Ab(1),s.lc("ngIf",e.alertMsg.title),s.Ab(1),s.lc("ngIf",e.alertMsg.message)}}function mn(e,t){1&e&&s.Ob(0,"i",30)}function Sn(e,t){1&e&&s.Ob(0,"i",31)}function An(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"Informaci\xf3n requerida"),s.Rb())}function vn(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"La longitud m\xednima es de 6 caracteres"),s.Rb())}function Rn(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"La longitud m\xe1xima es de 50 caracteres"),s.Rb())}function yn(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"Contrase\xf1a actual incorrecta"),s.Rb())}function wn(e,t){if(1&e&&(s.Sb(0,"div",3),s.Ob(1,"i",32),s.yc(2,An,2,0,"span",26),s.yc(3,vn,2,0,"span",26),s.yc(4,Rn,2,0,"span",26),s.yc(5,yn,2,0,"span",26),s.Rb()),2&e){const e=s.fc(2);s.Ab(2),s.lc("ngIf",null==e.f.current.errors?null:e.f.current.errors.required),s.Ab(1),s.lc("ngIf",null==e.f.current.errors?null:e.f.current.errors.minlength),s.Ab(1),s.lc("ngIf",null==e.f.current.errors?null:e.f.current.errors.maxlength),s.Ab(1),s.lc("ngIf",null==e.f.current.errors?null:e.f.current.errors.currentPWD)}}function In(e,t){1&e&&s.Ob(0,"i",30)}function On(e,t){1&e&&s.Ob(0,"i",31)}function Mn(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"Informaci\xf3n requerida"),s.Rb())}function Cn(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"La longitud m\xednima es de 6 caracteres"),s.Rb())}function xn(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"La longitud m\xe1xima es de 50 caracteres"),s.Rb())}function $n(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"La nueva contrase\xf1a debe ser distinta a la actual"),s.Rb())}function _n(e,t){if(1&e&&(s.Sb(0,"div",3),s.Ob(1,"i",32),s.yc(2,Mn,2,0,"span",26),s.yc(3,Cn,2,0,"span",26),s.yc(4,xn,2,0,"span",26),s.yc(5,$n,2,0,"span",26),s.Rb()),2&e){const e=s.fc(2);s.Ab(2),s.lc("ngIf",null==e.f.password.errors?null:e.f.password.errors.required),s.Ab(1),s.lc("ngIf",null==e.f.password.errors?null:e.f.password.errors.minlength),s.Ab(1),s.lc("ngIf",null==e.f.password.errors?null:e.f.password.errors.maxlength),s.Ab(1),s.lc("ngIf",(null==e.frmgp.errors?null:e.frmgp.errors.pwsDistincs)&&e.f.password.valid)}}function En(e,t){1&e&&s.Ob(0,"i",30)}function kn(e,t){1&e&&s.Ob(0,"i",31)}function Pn(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"Informaci\xf3n requerida"),s.Rb())}function Dn(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"La longitud m\xednima es de 6 caracteres"),s.Rb())}function Tn(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"La longitud m\xe1xima es de 50 caracteres"),s.Rb())}function Ln(e,t){1&e&&(s.Sb(0,"span"),s.Ac(1,"La nueva contrase\xf1a contrase\xf1a y confirmaci\xf3n de la nueva contrase\xf1a no coinciden"),s.Rb())}function jn(e,t){if(1&e&&(s.Sb(0,"div",3),s.Ob(1,"i",32),s.yc(2,Pn,2,0,"span",26),s.yc(3,Dn,2,0,"span",26),s.yc(4,Tn,2,0,"span",26),s.yc(5,Ln,2,0,"span",26),s.Rb()),2&e){const e=s.fc(2);s.Ab(2),s.lc("ngIf",null==e.f.confPwd.errors?null:e.f.confPwd.errors.required),s.Ab(1),s.lc("ngIf",null==e.f.confPwd.errors?null:e.f.confPwd.errors.minlength),s.Ab(1),s.lc("ngIf",null==e.f.confPwd.errors?null:e.f.confPwd.errors.maxlength),s.Ab(1),s.lc("ngIf",(null==e.frmgp.errors?null:e.frmgp.errors.confirm)&&e.f.confPwd.valid)}}function zn(e,t){1&e&&s.Ob(0,"i",33)}function Nn(e,t){1&e&&s.Ob(0,"span",34)}const Hn=function(e){return{errBorder:e}};function Bn(e,t){if(1&e){const e=s.Tb();s.Sb(0,"form",5),s.cc("ngSubmit",function(){return s.uc(e),s.fc().onSubmit()}),s.yc(1,gn,5,5,"ngb-alert",6),s.Sb(2,"div",7),s.Sb(3,"label",8),s.Ac(4,"Contrase\xf1a actual"),s.Rb(),s.Sb(5,"div",9),s.yc(6,mn,1,0,"i",10),s.yc(7,Sn,1,0,"i",11),s.Ob(8,"input",12),s.Rb(),s.yc(9,wn,6,4,"div",13),s.Rb(),s.Sb(10,"div",7),s.Sb(11,"label",14),s.Ac(12,"Nueva contrase\xf1a"),s.Rb(),s.Sb(13,"div",9),s.yc(14,In,1,0,"i",10),s.yc(15,On,1,0,"i",11),s.Ob(16,"input",15),s.Rb(),s.yc(17,_n,6,4,"div",13),s.Rb(),s.Sb(18,"div",7),s.Sb(19,"label",14),s.Ac(20,"Confirmar nueva contrase\xf1a"),s.Rb(),s.Sb(21,"div",9),s.yc(22,En,1,0,"i",10),s.yc(23,kn,1,0,"i",11),s.Ob(24,"input",16),s.Rb(),s.yc(25,jn,6,4,"div",13),s.Rb(),s.Sb(26,"div",17),s.Sb(27,"button",18),s.yc(28,zn,1,0,"i",19),s.yc(29,Nn,1,0,"span",20),s.Sb(30,"span",21),s.Ac(31),s.Rb(),s.Rb(),s.Rb(),s.Ob(32,"input",22),s.Rb()}if(2&e){const e=s.fc();s.lc("formGroup",e.frmgp),s.Ab(1),s.lc("ngIf",e.alertMsg),s.Ab(5),s.lc("ngIf",e.formSubmitted&&e.f.current.valid),s.Ab(1),s.lc("ngIf",e.formSubmitted&&e.f.current.invalid),s.Ab(1),s.lc("ngClass",s.pc(18,Hn,e.formSubmitted&&e.f.current.invalid)),s.Ab(1),s.lc("ngIf",e.formSubmitted&&e.f.current.invalid),s.Ab(5),s.lc("ngIf",e.formSubmitted&&e.f.password.valid),s.Ab(1),s.lc("ngIf",e.formSubmitted&&e.f.password.invalid),s.Ab(1),s.lc("ngClass",s.pc(20,Hn,e.formSubmitted&&e.f.password.invalid)),s.Ab(1),s.lc("ngIf",e.formSubmitted&&(e.f.password.invalid||(null==e.frmgp.errors?null:e.frmgp.errors.pwsDistincs))),s.Ab(5),s.lc("ngIf",e.formSubmitted&&e.f.confPwd.valid),s.Ab(1),s.lc("ngIf",e.formSubmitted&&e.f.confPwd.invalid),s.Ab(1),s.lc("ngClass",s.pc(22,Hn,e.formSubmitted&&e.f.confPwd.invalid)),s.Ab(1),s.lc("ngIf",e.formSubmitted&&(e.f.confPwd.invalid||(null==e.frmgp.errors?null:e.frmgp.errors.confirm))),s.Ab(2),s.lc("disabled",e.formSubmitted&&!e.withErr),s.Ab(1),s.lc("ngIf",!e.formSubmitted||e.withErr),s.Ab(1),s.lc("ngIf",e.formSubmitted&&!e.withErr),s.Ab(2),s.Cc(" ",!e.formSubmitted||e.withErr?"Cambiar contrase\xf1a":"Procesando..."," ")}}let qn=(()=>{class e{constructor(e,t,r,n){this.fb=e,this.usersService=t,this.userService=r,this.handlerErrorsService=n,this._subs$=[],this.errDataUser=null,this.formSubmitted=!1,this.withErr=!1,this.alertMsg=null}ngOnInit(){this.dataSession=this.userService.storageSessModel,this.dataSession?(this.frmgp=this.fb.group({id:["",[R.p.required]],current:["",[R.p.required,R.p.minLength(6),R.p.maxLength(50)],[this.curentPWD()]],password:["",[R.p.required,R.p.minLength(6),R.p.maxLength(50)]],confPwd:["",[R.p.required,R.p.minLength(6),R.p.maxLength(50)]]},{validator:[this.passwordConfirming,this.currAndNewPassDistinct]}),this.errDataUser=!1,this.f.id.patchValue(this.dataSession.userid)):this.errDataUser=!0,$("input:first").focus()}ngOnDestroy(){this._subs$.forEach(e=>{try{e.unsubscribe()}catch(t){}})}passwordConfirming(e){if(e.get("password").value!==e.get("confPwd").value)return{confirm:!0}}currAndNewPassDistinct(e){if(e.get("password").value===e.get("current").value)return{pwsDistincs:!0}}curentPWD(){return e=>this.userService.login({Username:this.dataSession.username,Password:e.value,isSessionToken:!0},!0).pipe(Object(pe.a)(1e3),Object(Ae.a)(e=>Object(me.a)({err:!0})),Object(y.a)(e=>{if(e.err)return{currentPWD:!0}}))}get f(){return this.frmgp.controls}onSubmit(){this.withErr=!1,this.formSubmitted=!0,this.alertMsg=null;try{if(!this.frmgp.valid)throw new Error("Se encontraron errores de formulario");try{this._subs$.push(this.usersService.edit(this.frmgp.value).subscribe(e=>{this.frmgp.reset(),this.showAlert("Contrase\xf1a actualizada","success","fa-times-circle-o","Info",!0),this.withErr=!1,this.formSubmitted=!1,this.f.id.patchValue(this.dataSession.userid)},e=>{this.showAlert(this.handlerErrorsService.parseMsgError(e),"danger","fa-times-circle-o","Error"),this.withErr=!0}))}catch(e){this.showAlert(this.handlerErrorsService.parseMsgError(e),"danger","fa-times-circle-o","Error"),this.withErr=!0}}catch(e){this.showAlert(e.message,"danger","fa-times-circle-o","Error"),this.withErr=!0}}showAlert(e,t,r,n,i=!1){this.alertMsg={type:t,icon:r,title:n,dismissible:i,message:e}}}return e.\u0275fac=function(t){return new(t||e)(s.Nb(R.c),s.Nb(Ge),s.Nb(on.a),s.Nb(C.a))},e.\u0275cmp=s.Hb({type:e,selectors:[["app-change-pwdoption"]],features:[s.zb([])],decls:2,vars:2,consts:[["class","extendWorkJob d-flex flex-column justify-content-center text-center",4,"ngIf"],["class","px-md-5 py-2","autocomplete","off",3,"formGroup","ngSubmit",4,"ngIf"],[1,"extendWorkJob","d-flex","flex-column","justify-content-center","text-center"],[1,"text-danger"],["aria-hidden","true",1,"fa","fa-info-circle"],["autocomplete","off",1,"px-md-5","py-2",3,"formGroup","ngSubmit"],[3,"type","dismissible","closed",4,"ngIf"],[1,"form-group"],["for","formGroupExampleInput"],[1,"inner-addon","right-addon"],["class","fa fa-check-circle-o text-success","aria-hidden","true",4,"ngIf"],["class","fa fa-times-circle-o text-danger","aria-hidden","true",4,"ngIf"],["id","current","type","password","placeholder","Contrase\xf1a actual","formControlName","current",1,"form-control",3,"ngClass"],["class","text-danger",4,"ngIf"],["for","formGroupExampleInput2"],["id","password","type","password","placeholder","Nueva contrase\xf1a","formControlName","password",1,"form-control",3,"ngClass"],["id","confPwd","type","password","placeholder","Confirmar nueva contrase\xf1a","formControlName","confPwd",1,"form-control",3,"ngClass"],[1,"text-right"],["ngClass","btn-outline-success",1,"btn",3,"disabled"],["class","fa fa-asterisk","aria-hidden","true","type","submit",4,"ngIf"],["class","spinner-grow spinner-grow-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"ml-2"],["type","hidden","id","id","name","id","formControlName","id"],[3,"type","dismissible","closed"],[1,"font-weight-bold"],["aria-hidden","true",3,"class",4,"ngIf"],[4,"ngIf"],["class","m-0 p-0",4,"ngIf"],["aria-hidden","true"],[1,"m-0","p-0"],["aria-hidden","true",1,"fa","fa-check-circle-o","text-success"],["aria-hidden","true",1,"fa","fa-times-circle-o","text-danger"],["aria-hidden","true",1,"fa","fa-exclamation-triangle","mr-2"],["aria-hidden","true","type","submit",1,"fa","fa-asterisk"],["role","status","aria-hidden","true",1,"spinner-grow","spinner-grow-sm"]],template:function(e,t){1&e&&(s.yc(0,un,6,0,"div",0),s.yc(1,Bn,33,24,"form",1)),2&e&&(s.lc("ngIf",!0===t.errDataUser),s.Ab(1),s.lc("ngIf",!1===t.errDataUser))},directives:[o.n,R.r,R.j,R.e,R.b,R.i,R.d,o.l,S.b],styles:[""]}),e})(),Vn=(()=>{class e{constructor(){}ngOnInit(){this.initOM()}initOM(){$(".chkMO").bootstrapToggle(localStorage.getItem("om")?"on":"off",!0),$(".chkMO").change(function(){$(this).prop("checked")?(localStorage.setItem("om","1"),$("body").addClass("om")):(localStorage.removeItem("om"),$("body").removeClass("om"))})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Hb({type:e,selectors:[["app-configs-option"]],decls:5,vars:0,consts:[[1,"row","align-items-center","px-lg-5","mt-3","mt-md-0"],[1,"col-auto"],[1,"col-auto","ml-auto"],["type","checkbox","checked","","data-toggle","toggle","data-on",'<i class="fa fa-sun-o" aria-hidden="true"></i> Claro',"data-off",'<i class="fa fa-moon-o" aria-hidden="true"></i> Obscuro',"data-width","120","data-height","40",1,"chkMO"]],template:function(e,t){1&e&&(s.Sb(0,"div",0),s.Sb(1,"h5",1),s.Ac(2,"Cambiar colores de entorno"),s.Rb(),s.Sb(3,"div",2),s.Ob(4,"input",3),s.Rb(),s.Rb())},styles:[".extendWorkJob[_ngcontent-%COMP%]{min-height:calc(100vh - 233px)}"]}),e})(),Fn=(()=>{class e{constructor(e,t){this.store=e,this.router=t,this._subs$=[],this.sessData=null,this.store.dispatch(i.a({current:{title:"Informaci\xf3n de usuario",description:"",url:this.router.url}}))}ngOnInit(){return Object(cn.a)(this,void 0,void 0,function*(){this._subs$.push(this.store.select("sess").subscribe(e=>this.sessData=e))})}ngOnDestroy(){this._subs$.forEach(e=>{try{e.unsubscribe()}catch(t){}})}}return e.\u0275fac=function(t){return new(t||e)(s.Nb(c.h),s.Nb(n.b))},e.\u0275cmp=s.Hb({type:e,selectors:[["app-info"]],decls:24,vars:0,consts:[[1,"container","mt-3"],["aria-hidden","true",1,"fa","fa-user-circle-o"],[1,"row","m-0"],[1,"col-12","col-md-auto","pr-2","expandAndBorder"],["id","v-pills-tab","role","tablist","aria-orientation","vertical",1,"nav","flex-column","nav-pills","om"],["data-toggle","pill","href","#v-pills-userInfo","role","tab","aria-controls","v-pills-userInfo","aria-selected","false",1,"nav-link","active","show"],["aria-hidden","true",1,"fa","fa-info-circle","mr-2"],["data-toggle","pill","href","#v-pills-passChange","role","tab","aria-controls","v-pills-passChange","aria-selected","false",1,"nav-link"],["aria-hidden","true",1,"fa","fa-key","mr-2"],["data-toggle","pill","href","#v-pills-config","role","tab","aria-controls","v-pills-config","aria-selected","false",1,"nav-link"],["aria-hidden","true",1,"fa","fa-cogs","mr-2"],[1,"tab-content","col"],["id","v-pills-userInfo","role","tabpanel","aria-labelledby","pills-userInfo-tab",1,"tab-pane","fade","active","show"],["id","v-pills-passChange","role","tabpanel","aria-labelledby","pills-passChange-tab",1,"tab-pane","fade"],["id","v-pills-config","role","tabpanel","aria-labelledby","pills-config-tab",1,"tab-pane","fade"]],template:function(e,t){1&e&&(s.Sb(0,"div",0),s.Sb(1,"h2"),s.Ob(2,"i",1),s.Ac(3," Informaci\xf3n de usuario"),s.Rb(),s.Ob(4,"hr"),s.Sb(5,"div",2),s.Sb(6,"div",3),s.Sb(7,"div",4),s.Sb(8,"a",5),s.Ob(9,"i",6),s.Ac(10," Informaci\xf3n "),s.Rb(),s.Sb(11,"a",7),s.Ob(12,"i",8),s.Ac(13," Cambiar contrase\xf1a "),s.Rb(),s.Sb(14,"a",9),s.Ob(15,"i",10),s.Ac(16," Configuraci\xf3n "),s.Rb(),s.Rb(),s.Rb(),s.Sb(17,"div",11),s.Sb(18,"div",12),s.Ob(19,"app-info-option"),s.Rb(),s.Sb(20,"div",13),s.Ob(21,"app-change-pwdoption"),s.Rb(),s.Sb(22,"div",14),s.Ob(23,"app-configs-option"),s.Rb(),s.Rb(),s.Rb(),s.Rb())},directives:[dn,qn,Vn],styles:[".nav-pills.om[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .nav-pills.om[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{color:#fff;background-color:#343a40}.expandAndBorder[_ngcontent-%COMP%]{min-height:calc(100vh - 260px);border-right:1px solid}  body.om .expandAndBorder{border-color:hsla(0,0%,100%,.1)}  body:not(.om) .expandAndBorder{border-color:rgba(0,0,0,.1)}@media screen and (max-width:768px){.expandAndBorder[_ngcontent-%COMP%]{min-height:auto;border-right:none}}"]}),e})(),Jn=(()=>{class e{constructor(e,t,r){this.userService=e,this.handlerErrorsService=t,this.router=r}canActivate(e,t){const r=this.userService.storageSessModel;let n=!0;switch(e.routeConfig.path){case"captura":n=r.roles.includes(1)||r.roles.includes(2)||r.roles.includes(4)||r.roles.includes(5);break;case"consultas":n=r.roles.includes(1)||r.roles.includes(2)||r.roles.includes(6);break;case"constancias":n=r.roles.includes(1)||r.roles.includes(2)||r.roles.includes(7);break;case"catalogo/usuarios":case"catalogo/delitos":case"catalogo/juzgados":case"catalogo/libertades":case"catalogo/salas":n=r.roles.includes(1)||r.roles.includes(2)||r.roles.includes(3);break;case"bitacora":n=r.roles.includes(1)||r.roles.includes(2)}return n||(this.handlerErrorsService.showErr("Restringido",{message:"Permisos insuficientes"},"error"),this.router.navigate(["/"])),n}}return e.\u0275fac=function(t){return new(t||e)(s.Zb(on.a),s.Zb(C.a),s.Zb(n.b))},e.\u0275prov=s.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Un=[{path:"",component:h},{path:"captura",component:p,canActivate:[Jn]},{path:"consultas",component:g,canActivate:[Jn]},{path:"constancias",component:m,canActivate:[Jn]},{path:"catalogo/personas",component:Je,canActivate:[Jn]},{path:"catalogo/usuarios",component:ur,canActivate:[Jn]},{path:"catalogo/delitos",component:en,canActivate:[Jn]},{path:"catalogo/juzgados",component:tn,canActivate:[Jn]},{path:"catalogo/libertades",component:rn,canActivate:[Jn]},{path:"catalogo/salas",component:nn,canActivate:[Jn]},{path:"bitacora",component:sn,canActivate:[Jn]},{path:"usuario/info",component:Fn,canActivate:[Jn]}];let Gn=(()=>{class e{}return e.\u0275mod=s.Lb({type:e}),e.\u0275inj=s.Kb({factory:function(t){return new(t||e)},imports:[[n.e.forChild(Un)],n.e]}),e})()}}]);