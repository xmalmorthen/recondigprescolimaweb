{"version":3,"sources":["webpack:///src/app/guards/access.guard.ts","webpack:///src/app/pages/child-routes.module.ts"],"names":["AccessGuard","userService","handlerErrorsService","router","route","state","sessModel","storageSessModel","res","routeConfig","path","roles","includes","showErr","message","navigate","providedIn","childsRoutes","component","canActivate","ChildRoutesModule","imports","forChild","exports"],"mappings":"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","file":"child-routes-module-es5.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, Router } from '@angular/router';\nimport { UserService } from '../services/user.service';\nimport { HandlerErrorsService } from '../services/handler-errors.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AccessGuard implements CanActivate {\n    \n  constructor(\n    private userService: UserService,\n    private handlerErrorsService: HandlerErrorsService,\n    private router: Router,\n  ) {}\n\n  canActivate(\n    route: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot)  {\n    \n    const sessModel = this.userService.storageSessModel;\n    let res = true;\n\n    switch (route.routeConfig.path) {\n      case 'captura':\n        res = sessModel.roles.includes(1) || sessModel.roles.includes(2) || sessModel.roles.includes(4) || sessModel.roles.includes(5)\n        break;\n      case 'consultas':\n        res = sessModel.roles.includes(1) || sessModel.roles.includes(2) || sessModel.roles.includes(6)\n        break;\n      case 'constancias':\n        res =  sessModel.roles.includes(1) || sessModel.roles.includes(2) || sessModel.roles.includes(7)\n        break;\n      case 'catalogo/usuarios':\n      case 'catalogo/delitos':\n      case 'catalogo/juzgados':\n      case 'catalogo/libertades':\n      case 'catalogo/salas':\n        res =  sessModel.roles.includes(1) || sessModel.roles.includes(2) || sessModel.roles.includes(3)\n        break;\n      case 'bitacora':\n        res =  sessModel.roles.includes(1) || sessModel.roles.includes(2)\n        break;\n      default:\n        break;\n    }\n\n    if (!res) {\n      this.handlerErrorsService.showErr(\"Restringido\",{ message: \"Permisos insuficientes\" },'error');\n      this.router.navigate(['/']);\n    }\n\n    return res;\n\n  }\n  \n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DashboardComponent } from './dashboard/dashboard.component';\nimport { CaptureComponent } from './dashboard/capture/capture.component';\nimport { QueryesComponent } from './dashboard/queryes/queryes.component';\nimport { ProofComponent } from './dashboard/proof/proof.component';\nimport { PersonsComponent } from './dashboard/catalogs/persons/persons.component';\nimport { UsersComponent } from './dashboard/catalogs/users/users.component';\nimport { CrimesComponent } from './dashboard/catalogs/crimes/crimes.component';\nimport { CourtComponent } from './dashboard/catalogs/court/court.component';\nimport { FreedomComponent } from './dashboard/catalogs/freedom/freedom.component';\nimport { RoomsComponent } from './dashboard/catalogs/rooms/rooms.component';\nimport { BinnacleComponent } from './dashboard/binnacle/binnacle.component';\nimport { InfoComponent } from './auth/info/info.component';\n\nimport { AccessGuard } from '../guards/access.guard';\n\nconst childsRoutes: Routes = [\n  { path: '', component: DashboardComponent },\n  { path: 'captura', component: CaptureComponent, canActivate: [ AccessGuard ] },\n  { path: 'consultas', component: QueryesComponent , canActivate: [ AccessGuard ]},\n  { path: 'constancias', component: ProofComponent, canActivate: [ AccessGuard ]},\n  { path: 'catalogo/personas', component: PersonsComponent, canActivate: [ AccessGuard ]},\n  { path: 'catalogo/usuarios', component: UsersComponent, canActivate: [ AccessGuard ]},\n  { path: 'catalogo/delitos', component: CrimesComponent, canActivate: [ AccessGuard ]},\n  { path: 'catalogo/juzgados', component: CourtComponent, canActivate: [ AccessGuard ]},\n  { path: 'catalogo/libertades', component: FreedomComponent, canActivate: [ AccessGuard ]},\n  { path: 'catalogo/salas', component: RoomsComponent, canActivate: [ AccessGuard ]},\n  { path: 'bitacora', component: BinnacleComponent, canActivate: [ AccessGuard ]},\n  { path: 'usuario/info', component: InfoComponent, canActivate: [ AccessGuard ]},\n];\n\n\n@NgModule({\n  imports: [RouterModule.forChild(childsRoutes)],\n  exports: [RouterModule]\n})\nexport class ChildRoutesModule { }\n"]}