!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{E5tf:function(t,i,c){"use strict";c.r(i),c.d(i,"ChildRoutesModule",function(){return qi});var a=c("tyNb"),s=c("Akov"),o=c("fXoL"),l=c("l7P3"),b=c("ofXK");function u(e,t){if(1&e&&(o.Rb(0,"h2",14),o.Nb(1,"i",15),o.zc(2),o.Qb()),2&e){var n=o.ec();o.zb(1),o.kc("ngClass",null==n.titlePageHeader?null:n.titlePageHeader.icon),o.zb(1),o.Bc(" ",n.titlePageHeader.title," ")}}function d(e,t){1&e&&(o.Rb(0,"div",4),o.Rb(1,"div",5),o.Rb(2,"div",6),o.Nb(3,"i",16),o.Rb(4,"span",8),o.zc(5,"CAPTURA"),o.Qb(),o.Qb(),o.Rb(6,"div",9),o.Rb(7,"a",17),o.Nb(8,"i",11),o.Qb(),o.Qb(),o.Qb(),o.Rb(9,"div",12),o.Rb(10,"p",13),o.zc(11,"Captura de expediente de ingreso."),o.Qb(),o.Qb(),o.Qb())}function f(e,t){1&e&&(o.Rb(0,"div",4),o.Rb(1,"div",5),o.Rb(2,"div",6),o.Nb(3,"i",18),o.Rb(4,"span",8),o.zc(5,"CONSULTA"),o.Qb(),o.Qb(),o.Rb(6,"div",9),o.Rb(7,"a",19),o.Nb(8,"i",11),o.Qb(),o.Qb(),o.Qb(),o.Rb(9,"div",12),o.Rb(10,"p",13),o.zc(11,"Consulta de expedientes."),o.Qb(),o.Qb(),o.Qb())}function h(e,t){1&e&&(o.Rb(0,"div",4),o.Rb(1,"div",5),o.Rb(2,"div",6),o.Nb(3,"i",20),o.Rb(4,"span",8),o.zc(5,"CONSTANCIA"),o.Qb(),o.Qb(),o.Rb(6,"div",9),o.Rb(7,"a",21),o.Nb(8,"i",11),o.Qb(),o.Qb(),o.Qb(),o.Rb(9,"div",12),o.Rb(10,"p",13),o.zc(11,"Imprimir constancia de no antecedente penal."),o.Qb(),o.Qb(),o.Qb())}function p(e,t){1&e&&(o.Rb(0,"div",4),o.Rb(1,"div",5),o.Rb(2,"div",6),o.Nb(3,"i",22),o.Rb(4,"span",8),o.zc(5,"CAT\xc1LOGOS"),o.Qb(),o.Qb(),o.Qb(),o.Rb(6,"div",12),o.Rb(7,"a",23),o.Nb(8,"i",24),o.zc(9," PERSONAS"),o.Qb(),o.Rb(10,"a",25),o.Nb(11,"i",24),o.zc(12," USUARIOS"),o.Qb(),o.Rb(13,"a",26),o.Nb(14,"i",24),o.zc(15," DELITOS"),o.Qb(),o.Rb(16,"a",27),o.Nb(17,"i",24),o.zc(18," JUZGADOS"),o.Qb(),o.Rb(19,"a",28),o.Nb(20,"i",24),o.zc(21," LIBERTAD"),o.Qb(),o.Rb(22,"a",29),o.Nb(23,"i",24),o.zc(24," SALAS"),o.Qb(),o.Qb(),o.Qb())}function g(e,t){1&e&&(o.Rb(0,"div",4),o.Rb(1,"div",5),o.Rb(2,"div",6),o.Nb(3,"i",30),o.Rb(4,"span",8),o.zc(5,"BIT\xc1CORA"),o.Qb(),o.Qb(),o.Rb(6,"div",9),o.Rb(7,"a",31),o.Nb(8,"i",11),o.Qb(),o.Qb(),o.Qb(),o.Rb(9,"div",12),o.Rb(10,"p",13),o.zc(11,"Registros de movimientos."),o.Qb(),o.Qb(),o.Qb())}var m,v,R,k,z,y=((k=function(){function e(t,i){var r=this;n(this,e),this.store=t,this.router=i,this._subs$=[],this.sessData=null,this._subs$.push(this.store.select("currentPage").subscribe(function(e){r.titlePageHeader=e})),this.store.dispatch(s.a({current:{icon:"fa-link",title:"Panel principal",description:"Tablero de opciones del sistema",url:this.router.url}}))}return r(e,[{key:"ngOnInit",value:function(){var e=this;this._subs$.push(this.store.select("sess").subscribe(function(t){return e.sessData=t}))}},{key:"ngOnDestroy",value:function(){this._subs$.forEach(function(e){try{e.unsubscribe()}catch(t){}})}}]),e}()).\u0275fac=function(e){return new(e||k)(o.Mb(l.h),o.Mb(a.b))},k.\u0275cmp=o.Gb({type:k,selectors:[["app-dashboard"]],decls:20,vars:6,consts:[[1,"container","extendWorkJob","d-flex","flex-column","justify-content-center"],["class","pageHeader",4,"ngIf"],[1,"card-columns"],["class","card border-secondary bg-t",4,"ngIf"],[1,"card","border-secondary","bg-t"],[1,"card-header","h4","row","m-0"],[1,"col"],["aria-hidden","true",1,"fa","fa-user-circle-o","fa-fw","fa-align-center"],[1,"pl-2"],[1,"col-auto","ml-auto"],["routerLink","usuario/info","title","Captura de expedientes",1,""],["aria-hidden","true",1,"fa","fa-external-link"],[1,"card-body","text-white","text-justify"],[1,"card-text"],[1,"pageHeader"],["aria-hidden","true",1,"fa",3,"ngClass"],["aria-hidden","true",1,"fa","fa-folder-o"],["routerLink","captura","title","Captura de expedientes",1,""],["aria-hidden","true",1,"fa","fa-search"],["routerLink","consultas","title","Captura de expedientes",1,""],["aria-hidden","true",1,"fa","fa-file-text-o"],["routerLink","constancias","title","Captura de expedientes",1,""],["aria-hidden","true",1,"fa","fa-table"],["routerLink","catalogo/personas","title","Cat\xe1logo de personas",1,"dropdown-item"],["aria-hidden","true",1,"fa","fa-minus","pr-2"],["routerLink","catalogo/usuarios","title","Cat\xe1logo de usuarios",1,"dropdown-item"],["routerLink","catalogo/delitos","title","Cat\xe1logo de delitos",1,"dropdown-item"],["routerLink","catalogo/juzgados","title","Cat\xe1logo de juzgados",1,"dropdown-item"],["routerLink","catalogo/libertades","title","Cat\xe1logo de libertades",1,"dropdown-item"],["routerLink","catalogo/salas","title","Cat\xe1logo de salas",1,"dropdown-item"],["aria-hidden","true",1,"fa","fa-binoculars"],["routerLink","bitacora","title","Captura de expedientes",1,""]],template:function(e,t){1&e&&(o.Rb(0,"div",0),o.xc(1,u,3,2,"h2",1),o.Rb(2,"div",2),o.xc(3,d,12,0,"div",3),o.xc(4,f,12,0,"div",3),o.xc(5,h,12,0,"div",3),o.xc(6,p,25,0,"div",3),o.xc(7,g,12,0,"div",3),o.Rb(8,"div",4),o.Rb(9,"div",5),o.Rb(10,"div",6),o.Nb(11,"i",7),o.Rb(12,"span",8),o.zc(13,"USUARIO"),o.Qb(),o.Qb(),o.Rb(14,"div",9),o.Rb(15,"a",10),o.Nb(16,"i",11),o.Qb(),o.Qb(),o.Qb(),o.Rb(17,"div",12),o.Rb(18,"p",13),o.zc(19,"Informaci\xf3n de usuario, cambio de contrase\xf1a y configuraciones del sistema."),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb()),2&e&&(o.zb(1),o.kc("ngIf",t.titlePageHeader),o.zb(2),o.kc("ngIf",t.sessData.roles.includes(1)||t.sessData.roles.includes(2)||t.sessData.roles.includes(4)||t.sessData.roles.includes(5)),o.zb(1),o.kc("ngIf",t.sessData.roles.includes(1)||t.sessData.roles.includes(2)||t.sessData.roles.includes(6)),o.zb(1),o.kc("ngIf",t.sessData.roles.includes(1)||t.sessData.roles.includes(2)||t.sessData.roles.includes(7)),o.zb(1),o.kc("ngIf",t.sessData.roles.includes(1)||t.sessData.roles.includes(2)||t.sessData.roles.includes(3)),o.zb(1),o.kc("ngIf",t.sessData.roles.includes(1)||t.sessData.roles.includes(2)))},directives:[b.n,a.d,b.l],styles:[".dropdown-item[_ngcontent-%COMP%]{color:#fff}.dropdown-item[_ngcontent-%COMP%]:hover{color:#000}.card-header[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.050980392156862744)}"]}),k),Q=((R=function(){function e(){n(this,e)}return r(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||R)},R.\u0275cmp=o.Gb({type:R,selectors:[["app-capture"]],decls:3,vars:0,consts:[[1,"container","extendWorkJob","d-flex","flex-column","justify-content-center"]],template:function(e,t){1&e&&(o.Rb(0,"div",0),o.Rb(1,"h1"),o.zc(2,"Ok"),o.Qb(),o.Qb())},styles:[""]}),R),x=((v=function(){function e(){n(this,e)}return r(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||v)},v.\u0275cmp=o.Gb({type:v,selectors:[["app-queryes"]],decls:2,vars:0,template:function(e,t){1&e&&(o.Rb(0,"p"),o.zc(1,"queryes works!"),o.Qb())},styles:[""]}),v),w=((m=function(){function e(){n(this,e)}return r(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||m)},m.\u0275cmp=o.Gb({type:m,selectors:[["app-proof"]],decls:2,vars:0,template:function(e,t){1&e&&(o.Rb(0,"p"),o.zc(1,"proof works!"),o.Qb())},styles:[""]}),m),M=c("1kSV"),S=c("XNiG"),I=c("wDfv"),C=c("3Pt+"),_=c("lJxs"),E=c("vkgz"),A=c("AytR"),O=c("tk/3"),N=((z=function(){function e(t){n(this,e),this.http=t}return r(e,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return this.http.get("".concat(A.a.apis.recon.url,"/admin/persons?skip=").concat(e,"&take=").concat(t,"&filter=").concat(n)).pipe(Object(_.a)(function(e){if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(E.a)(function(e){}))}},{key:"add",value:function(e){return this.http.post("".concat(A.a.apis.recon.url,"/admin/person"),e).pipe(Object(_.a)(function(e){if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(E.a)(function(e){}))}},{key:"edit",value:function(e){return this.http.patch("".concat(A.a.apis.recon.url,"/admin/person"),e).pipe(Object(_.a)(function(e){if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(E.a)(function(e){}))}}]),e}()).\u0275fac=function(e){return new(e||z)(o.Yb(O.b))},z.\u0275prov=o.Ib({token:z,factory:z.\u0275fac,providedIn:"root"}),z),P=c("fVQW");function D(e,t){if(1&e&&o.Nb(0,"i",24),2&e){var n=o.ec(2);o.Cb("fa ",n.alertMsg.icon," mr-2")}}function T(e,t){if(1&e&&(o.Rb(0,"span"),o.zc(1),o.Qb()),2&e){var n=o.ec(2);o.zb(1),o.Ac(n.alertMsg.title)}}function L(e,t){if(1&e&&(o.Rb(0,"p",25),o.zc(1),o.Qb()),2&e){var n=o.ec(2);o.zb(1),o.Ac(n.alertMsg.message)}}function j(e,t){if(1&e&&(o.Rb(0,"ngb-alert",19),o.Rb(1,"h5",20),o.xc(2,D,1,3,"i",21),o.xc(3,T,2,1,"span",22),o.Qb(),o.xc(4,L,2,1,"p",23),o.Qb()),2&e){var n=o.ec();o.kc("type",n.alertMsg.type)("dismissible",!1),o.zb(2),o.kc("ngIf",n.alertMsg.icon),o.zb(1),o.kc("ngIf",n.alertMsg.title),o.zb(1),o.kc("ngIf",n.alertMsg.message)}}function q(e,t){if(1&e&&(o.Rb(0,"div",4),o.Rb(1,"label"),o.zc(2,"Nombre"),o.Qb(),o.Rb(3,"div",5),o.Rb(4,"h4"),o.zc(5),o.Qb(),o.Qb(),o.Qb()),2&e){var n=o.ec();o.zb(5),o.Bc(" ",n.editModel.nombres+" "+n.editModel.primerApellido+" "+n.editModel.segundoApellido," ")}}function V(e,t){1&e&&o.Nb(0,"i",26)}function H(e,t){1&e&&o.Nb(0,"i",27)}function F(e,t){1&e&&(o.Rb(0,"span"),o.zc(1,"Informaci\xf3n requerida"),o.Qb())}function G(e,t){1&e&&(o.Rb(0,"span"),o.zc(1,"La longitud m\xe1xima es de 50 caracteres"),o.Qb())}function B(e,t){if(1&e&&(o.Rb(0,"div",28),o.Nb(1,"i",29),o.xc(2,F,2,0,"span",22),o.xc(3,G,2,0,"span",22),o.Qb()),2&e){var n=o.ec();o.zb(2),o.kc("ngIf",n.f.noCtrl.errors.required),o.zb(1),o.kc("ngIf",n.f.noCtrl.errors.maxlength)}}function U(e,t){1&e&&o.Nb(0,"i",26)}function Y(e,t){1&e&&o.Nb(0,"i",27)}function J(e,t){1&e&&(o.Rb(0,"span"),o.zc(1,"Informaci\xf3n requerida"),o.Qb())}function W(e,t){1&e&&(o.Rb(0,"span"),o.zc(1,"La longitud m\xednima es de 18 caracteres"),o.Qb())}function K(e,t){1&e&&(o.Rb(0,"span"),o.zc(1,"La longitud m\xe1xima es de 18 caracteres"),o.Qb())}function X(e,t){if(1&e&&(o.Rb(0,"div",28),o.Nb(1,"i",29),o.xc(2,J,2,0,"span",22),o.xc(3,W,2,0,"span",22),o.xc(4,K,2,0,"span",22),o.Qb()),2&e){var n=o.ec(2);o.zb(2),o.kc("ngIf",n.f.curp.errors.required),o.zb(1),o.kc("ngIf",n.f.curp.errors.minlength),o.zb(1),o.kc("ngIf",n.f.curp.errors.maxlength)}}var Z=function(e){return{errBorder:e}};function ee(e,t){if(1&e&&(o.Rb(0,"div",4),o.Rb(1,"label"),o.zc(2,"CURP"),o.Qb(),o.Rb(3,"div",5),o.xc(4,U,1,0,"i",6),o.xc(5,Y,1,0,"i",7),o.Nb(6,"input",30),o.Qb(),o.xc(7,X,5,3,"div",9),o.Qb()),2&e){var n=o.ec();o.zb(4),o.kc("ngIf",n.formSubmitted&&n.f.curp.valid),o.zb(1),o.kc("ngIf",n.formSubmitted&&n.f.curp.invalid),o.zb(1),o.kc("ngClass",o.oc(4,Z,n.formSubmitted&&n.f.curp.invalid)),o.zb(1),o.kc("ngIf",n.formSubmitted&&n.f.curp.invalid)}}function te(e,t){1&e&&o.Nb(0,"i",26)}function ne(e,t){1&e&&o.Nb(0,"i",27)}function ie(e,t){1&e&&(o.Rb(0,"span"),o.zc(1,"Informaci\xf3n requerida"),o.Qb())}function re(e,t){1&e&&(o.Rb(0,"span"),o.zc(1,"La longitud m\xednima es de 10 caracteres"),o.Qb())}function ce(e,t){1&e&&(o.Rb(0,"span"),o.zc(1,"La longitud m\xe1xima es de 100 caracteres"),o.Qb())}function ae(e,t){if(1&e&&(o.Rb(0,"div",28),o.Nb(1,"i",29),o.xc(2,ie,2,0,"span",22),o.xc(3,re,2,0,"span",22),o.xc(4,ce,2,0,"span",22),o.Qb()),2&e){var n=o.ec();o.zb(2),o.kc("ngIf",n.f.tel.errors.required),o.zb(1),o.kc("ngIf",n.f.tel.errors.minlength),o.zb(1),o.kc("ngIf",n.f.tel.errors.maxlength)}}function se(e,t){1&e&&o.Nb(0,"i",26)}function oe(e,t){1&e&&o.Nb(0,"i",27)}function le(e,t){1&e&&(o.Rb(0,"span"),o.zc(1,"Informaci\xf3n requerida"),o.Qb())}function be(e,t){1&e&&(o.Rb(0,"span"),o.zc(1,"La longitud m\xednima es de 10 caracteres"),o.Qb())}function ue(e,t){1&e&&(o.Rb(0,"span"),o.zc(1,"La longitud m\xe1xima es de 100 caracteres"),o.Qb())}function de(e,t){if(1&e&&(o.Rb(0,"div",28),o.Nb(1,"i",29),o.xc(2,le,2,0,"span",22),o.xc(3,be,2,0,"span",22),o.xc(4,ue,2,0,"span",22),o.Qb()),2&e){var n=o.ec();o.zb(2),o.kc("ngIf",n.f.cel.errors.required),o.zb(1),o.kc("ngIf",n.f.cel.errors.minlength),o.zb(1),o.kc("ngIf",n.f.cel.errors.maxlength)}}function fe(e,t){1&e&&o.Nb(0,"i",26)}function he(e,t){1&e&&o.Nb(0,"i",27)}function pe(e,t){1&e&&(o.Rb(0,"span"),o.zc(1,"Informaci\xf3n requerida"),o.Qb())}function ge(e,t){1&e&&(o.Rb(0,"span"),o.zc(1,"La longitud m\xednima es de 3 caracteres"),o.Qb())}function me(e,t){1&e&&(o.Rb(0,"span"),o.zc(1,"La longitud m\xe1xima es de 50 caracteres"),o.Qb())}function ve(e,t){1&e&&(o.Rb(0,"span"),o.zc(1,"Formato de correo electr\xf3nico inv\xe1lido"),o.Qb())}function Re(e,t){if(1&e&&(o.Rb(0,"div",28),o.Nb(1,"i",29),o.xc(2,pe,2,0,"span",22),o.xc(3,ge,2,0,"span",22),o.xc(4,me,2,0,"span",22),o.xc(5,ve,2,0,"span",22),o.Qb()),2&e){var n=o.ec();o.zb(2),o.kc("ngIf",n.f.mail.errors.required),o.zb(1),o.kc("ngIf",n.f.mail.errors.minlength),o.zb(1),o.kc("ngIf",n.f.mail.errors.maxlength),o.zb(1),o.kc("ngIf",n.f.mail.errors.pattern)}}function ke(e,t){1&e&&o.Nb(0,"i",31)}function ze(e,t){1&e&&o.Nb(0,"span",32)}var ye,Qe,xe,we=((ye=function(){function e(t,i,r,c){n(this,e),this.fb=t,this.store=i,this.personsService=r,this.handlerErrorsService=c,this._subs$=[],this.onAddorEdit=new o.n,this.frmgp=this.fb.group({id:[""],noCtrl:["",[C.p.required,C.p.maxLength(50)]],curp:["",[C.p.required,C.p.minLength(18),C.p.maxLength(18)]],tel:["",[C.p.minLength(10),C.p.maxLength(100)]],cel:["",[C.p.minLength(10),C.p.maxLength(100)]],mail:["",[C.p.required,C.p.minLength(3),C.p.maxLength(50),C.p.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]]}),this.formSubmitted=!1,this.withErr=!1,this.alertMsg=null}return r(e,[{key:"ngOnInit",value:function(){var e=this;this._subs$.push(this.store.select("catalogPersons").subscribe(function(t){return e.editModel=t.selected})),this._subs$.push(this.editMode.subscribe(function(t){e._populateFormEditMode(t)}))}},{key:"ngOnDestroy",value:function(){this._subs$.forEach(function(e){try{e.unsubscribe()}catch(t){}})}},{key:"f",get:function(){return this.frmgp.controls}},{key:"_populateFormEditMode",value:function(e){var t,n,i,r,c,a;this.withErr=!1,this.formSubmitted=!1,this.alertMsg=null,this.f.id.patchValue(null===(t=this.editModel)||void 0===t?void 0:t.id),this.f.noCtrl.patchValue(null===(n=this.editModel)||void 0===n?void 0:n.noCtrl),this.f.curp.patchValue(null===(i=this.editModel)||void 0===i?void 0:i.curp),this.f.tel.patchValue(null===(r=this.editModel)||void 0===r?void 0:r.tel),this.f.cel.patchValue(null===(c=this.editModel)||void 0===c?void 0:c.cel),this.f.mail.patchValue(null===(a=this.editModel)||void 0===a?void 0:a.mail),$("form input:first").select()}},{key:"onSubmit",value:function(){this.withErr=!1,this.formSubmitted=!0,this.alertMsg=null;try{if(!this.frmgp.valid)throw new Error("Se encontraron errores de formulario");this.editModel?this.editAction():this.addAction()}catch(e){this.showAlert(e.message,"danger","fa-times-circle-o","Error"),this.withErr=!0}}},{key:"showAlert",value:function(e,t,n,i){this.alertMsg={type:t,icon:n,title:i,message:e}}},{key:"addAction",value:function(){var e=this;try{this._subs$.push(this.personsService.add(this.frmgp.value).subscribe(function(t){e.onAddorEdit.emit({status:!0,action:"add"})},function(t){e.showAlert(e.handlerErrorsService.parseMsgError(t),"danger","fa-times-circle-o","Error"),e.withErr=!0}))}catch(t){this.showAlert(this.handlerErrorsService.parseMsgError(t),"danger","fa-times-circle-o","Error"),this.withErr=!0}}},{key:"editAction",value:function(){var e=this;try{this._subs$.push(this.personsService.edit(this.frmgp.value).subscribe(function(t){e.onAddorEdit.emit({status:!0,action:"update"})},function(t){e.showAlert(e.handlerErrorsService.parseMsgError(t),"danger","fa-times-circle-o","Error"),e.withErr=!0}))}catch(t){this.showAlert(this.handlerErrorsService.parseMsgError(t),"danger","fa-times-circle-o","Error"),this.withErr=!0}}}]),e}()).\u0275fac=function(e){return new(e||ye)(o.Mb(C.c),o.Mb(l.h),o.Mb(N),o.Mb(P.a))},ye.\u0275cmp=o.Gb({type:ye,selectors:[["app-form-persons"]],inputs:{editMode:"editMode"},outputs:{onAddorEdit:"onAddorEdit"},decls:46,vars:36,consts:[["autocomplete","off",3,"formGroup","ngSubmit"],[3,"type","dismissible",4,"ngIf"],[1,"form-row"],["class","col-12 col-md-4 py-2",4,"ngIf"],[1,"col-12","col-md-4","py-2"],[1,"inner-addon","right-addon"],["class","fa fa-check-circle-o text-success","aria-hidden","true",4,"ngIf"],["class","fa fa-times-circle-o text-danger","aria-hidden","true",4,"ngIf"],["id","noctrl","type","text","placeholder","N\xfamero de control","formControlName","noCtrl",1,"form-control",3,"ngClass"],["class","text-danger",4,"ngIf"],["id","tel","type","text","placeholder","Tel\xe9fono fijo","formControlName","tel",1,"form-control",3,"ngClass"],["id","cel","type","text","placeholder","Celular","formControlName","cel",1,"form-control",3,"ngClass"],["id","mail","type","text","placeholder","Correo electr\xf3nico","formControlName","mail",1,"form-control",3,"ngClass"],[1,"text-right"],["ngClass","btn-outline-success",1,"btn",3,"disabled"],["class","fa fa-pencil-square-o","aria-hidden","true","type","submit",4,"ngIf"],["class","spinner-grow spinner-grow-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"ml-2"],["type","hidden","id","id","name","id","formControlName","id"],[3,"type","dismissible"],[1,"font-weight-bold"],["aria-hidden","true",3,"class",4,"ngIf"],[4,"ngIf"],["class","m-0 p-0",4,"ngIf"],["aria-hidden","true"],[1,"m-0","p-0"],["aria-hidden","true",1,"fa","fa-check-circle-o","text-success"],["aria-hidden","true",1,"fa","fa-times-circle-o","text-danger"],[1,"text-danger"],["aria-hidden","true",1,"fa","fa-exclamation-triangle","mr-2"],["id","curp","type","text","placeholder","CURP","formControlName","curp",1,"form-control",3,"ngClass"],["aria-hidden","true","type","submit",1,"fa","fa-pencil-square-o"],["role","status","aria-hidden","true",1,"spinner-grow","spinner-grow-sm"]],template:function(e,t){1&e&&(o.Rb(0,"form",0),o.bc("ngSubmit",function(){return t.onSubmit()}),o.xc(1,j,5,5,"ngb-alert",1),o.Rb(2,"div",2),o.xc(3,q,6,1,"div",3),o.fc(4,"async"),o.Rb(5,"div",4),o.Rb(6,"label"),o.zc(7,"N\xfamero de control"),o.Qb(),o.Rb(8,"div",5),o.xc(9,V,1,0,"i",6),o.xc(10,H,1,0,"i",7),o.Nb(11,"input",8),o.Qb(),o.xc(12,B,4,2,"div",9),o.Qb(),o.xc(13,ee,8,6,"div",3),o.fc(14,"async"),o.Rb(15,"div",4),o.Rb(16,"label"),o.zc(17,"Tel\xe9fono fijo"),o.Qb(),o.Rb(18,"div",5),o.xc(19,te,1,0,"i",6),o.xc(20,ne,1,0,"i",7),o.Nb(21,"input",10),o.Qb(),o.xc(22,ae,5,3,"div",9),o.Qb(),o.Rb(23,"div",4),o.Rb(24,"label"),o.zc(25,"Celular"),o.Qb(),o.Rb(26,"div",5),o.xc(27,se,1,0,"i",6),o.xc(28,oe,1,0,"i",7),o.Nb(29,"input",11),o.Qb(),o.xc(30,de,5,3,"div",9),o.Qb(),o.Rb(31,"div",4),o.Rb(32,"label"),o.zc(33,"Correo electr\xf3nico"),o.Qb(),o.Rb(34,"div",5),o.xc(35,fe,1,0,"i",6),o.xc(36,he,1,0,"i",7),o.Nb(37,"input",12),o.Qb(),o.xc(38,Re,6,4,"div",9),o.Qb(),o.Qb(),o.Rb(39,"div",13),o.Rb(40,"button",14),o.xc(41,ke,1,0,"i",15),o.xc(42,ze,1,0,"span",16),o.Rb(43,"span",17),o.zc(44),o.Qb(),o.Qb(),o.Qb(),o.Nb(45,"input",18),o.Qb()),2&e&&(o.kc("formGroup",t.frmgp),o.zb(1),o.kc("ngIf",t.alertMsg),o.zb(2),o.kc("ngIf",1==o.gc(4,24,t.editMode)),o.zb(6),o.kc("ngIf",t.formSubmitted&&t.f.noCtrl.valid),o.zb(1),o.kc("ngIf",t.formSubmitted&&t.f.noCtrl.invalid),o.zb(1),o.kc("ngClass",o.oc(28,Z,t.formSubmitted&&t.f.noCtrl.invalid)),o.zb(1),o.kc("ngIf",t.formSubmitted&&t.f.noCtrl.invalid),o.zb(1),o.kc("ngIf",1!=o.gc(14,26,t.editMode)),o.zb(6),o.kc("ngIf",t.formSubmitted&&t.f.tel.valid),o.zb(1),o.kc("ngIf",t.formSubmitted&&t.f.tel.invalid),o.zb(1),o.kc("ngClass",o.oc(30,Z,t.formSubmitted&&t.f.tel.invalid)),o.zb(1),o.kc("ngIf",t.formSubmitted&&t.f.tel.invalid),o.zb(5),o.kc("ngIf",t.formSubmitted&&t.f.cel.valid),o.zb(1),o.kc("ngIf",t.formSubmitted&&t.f.cel.invalid),o.zb(1),o.kc("ngClass",o.oc(32,Z,t.formSubmitted&&t.f.cel.invalid)),o.zb(1),o.kc("ngIf",t.formSubmitted&&t.f.cel.invalid),o.zb(5),o.kc("ngIf",t.formSubmitted&&t.f.mail.valid),o.zb(1),o.kc("ngIf",t.formSubmitted&&t.f.mail.invalid),o.zb(1),o.kc("ngClass",o.oc(34,Z,t.formSubmitted&&t.f.mail.invalid)),o.zb(1),o.kc("ngIf",t.formSubmitted&&t.f.mail.invalid),o.zb(2),o.kc("disabled",t.formSubmitted&&!t.withErr),o.zb(1),o.kc("ngIf",!t.formSubmitted||t.withErr),o.zb(1),o.kc("ngIf",t.formSubmitted&&!t.withErr),o.zb(2),o.Bc(" ",!t.formSubmitted||t.withErr?t.editModel?"Editar":"Registrar":"Procesando..."," "))},directives:[C.r,C.j,C.e,b.n,C.b,C.i,C.d,b.l,M.b],pipes:[b.b],styles:[""]}),ye),Me=c("Kj3r"),Se=c("2Vo4"),Ie=c("LRne"),Ce=c("eIep"),_e=c("JIr8"),$e=((Qe=function(){function t(e,i,r){var c=this;n(this,t),this.pipe=e,this.personsService=i,this.store=r,this._subs$=[],this._loading$=new Se.a(!0),this._err$=new Se.a(null),this._search$=new S.a,this._persons$=new Se.a([]),this._total$=new Se.a(0),this._state={page:1,pageSize:10,searchTerm:"",sortColumn:"",sortDirection:""},this._subs$.push(this._search$.pipe(Object(E.a)(function(){c._err$.next(null),c._loading$.next(!0)}),Object(Me.a)(500),Object(Ce.a)(function(){return c._dataList()}),Object(_.a)(function(e){return c._formating(e)}),Object(E.a)(function(){return c._loading$.next(!1)})).subscribe(function(e){c._persons$.next(e.data),c._total$.next(e.total)})),this._search$.next()}return r(t,[{key:"ngOnDestroy",value:function(){this._subs$.forEach(function(e){try{e.unsubscribe()}catch(t){}})}},{key:"persons$",get:function(){return this._persons$.asObservable()}},{key:"total$",get:function(){return this._total$.asObservable()}},{key:"loading$",get:function(){return this._loading$.asObservable()}},{key:"err$",get:function(){return this._err$.asObservable()}},{key:"page",get:function(){return this._state.page},set:function(e){this._set({page:e})}},{key:"pageSize",get:function(){return this._state.pageSize},set:function(e){this._set({pageSize:e})}},{key:"searchTerm",get:function(){return this._state.searchTerm},set:function(e){this._set({searchTerm:e})}},{key:"sortColumn",set:function(e){this._set({sortColumn:e})}},{key:"sortDirection",set:function(e){this._set({sortDirection:e})}},{key:"refreshTable",value:function(){this._search$.next()}},{key:"_set",value:function(e){Object.assign(this._state,e),this._search$.next()}},{key:"_dataList",value:function(){var e=this,t=this._state.searchTerm;return this.personsService.data(null,null,t).pipe(Object(_e.a)(function(t){return e._err$.next(t),Object(Ie.a)([])}))}},{key:"_formating",value:function(t){var n,i,r,c=this._state,a=c.searchTerm,s=c.sortColumn,o=c.sortDirection,l=c.pageSize,b=c.page,u=t;(s||o)&&(n=u,i=s,u=""===(r=o)||""===i?n:e(n).sort(function(e,t){var n,c,a=(n=e[i])<(c=t[i])?-1:n>c?1:0;return"asc"===r?a:-a})),a&&(u=u.filter(function(e){return function(e,t,n){return e.noCtrl.toLowerCase().includes(t.toLowerCase())||e.curp.toLowerCase().includes(t.toLowerCase())||e.primerApellido.toLowerCase().includes(t.toLowerCase())||e.segundoApellido.toLowerCase().includes(t.toLowerCase())||e.nombres.toLowerCase().includes(t.toLowerCase())||e.tel.toLowerCase().includes(t.toLowerCase())||e.cel.toLowerCase().includes(t.toLowerCase())||e.mail.toLowerCase().includes(t.toLowerCase())}(e,a)}));var d=u.length;return u=u.slice((b-1)*l,(b-1)*l+l),this.store.dispatch(I.a({data:u})),{data:u,total:d}}}]),t}()).\u0275fac=function(e){return new(e||Qe)(o.Yb(b.f),o.Yb(N),o.Yb(l.h))},Qe.\u0275prov=o.Ib({token:Qe,factory:Qe.\u0275fac,providedIn:"root"}),Qe),Ee={asc:"desc",desc:"","":"asc"},Ae=((xe=function(){function e(){n(this,e),this.sortable="",this.direction="",this.sort=new o.n}return r(e,[{key:"rotate",value:function(){this.direction=Ee[this.direction],this.sort.emit({column:this.sortable,direction:this.direction})}}]),e}()).\u0275fac=function(e){return new(e||xe)},xe.\u0275dir=o.Hb({type:xe,selectors:[["th","sortable",""]],hostVars:4,hostBindings:function(e,t){1&e&&o.bc("click",function(){return t.rotate()}),2&e&&o.Eb("asc","asc"===t.direction)("desc","desc"===t.direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sort:"sort"}}),xe);function Oe(e,t){if(1&e&&o.Nb(0,"i",31),2&e){var n=o.ec(2);o.Cb("fa ",n.alertMsg.icon," mr-2")}}function Ne(e,t){if(1&e&&(o.Rb(0,"span"),o.zc(1),o.Qb()),2&e){var n=o.ec(2);o.zb(1),o.Ac(n.alertMsg.title)}}function Pe(e,t){if(1&e&&(o.Rb(0,"p",32),o.zc(1),o.Qb()),2&e){var n=o.ec(2);o.zb(1),o.Ac(n.alertMsg.message)}}function De(e,t){if(1&e&&(o.Rb(0,"ngb-alert",26),o.Rb(1,"h5",27),o.xc(2,Oe,1,3,"i",28),o.xc(3,Ne,2,1,"span",29),o.Qb(),o.xc(4,Pe,2,1,"p",30),o.Qb()),2&e){var n=o.ec();o.kc("type","danger")("dismissible",!1),o.zb(2),o.kc("ngIf",n.alertMsg.icon),o.zb(1),o.kc("ngIf",n.alertMsg.title),o.zb(1),o.kc("ngIf",n.alertMsg.message)}}function Te(e,t){if(1&e&&o.Nb(0,"i",31),2&e){var n=o.ec(2);o.Cb("fa ",n.alertMsg.icon," mr-2")}}function Le(e,t){if(1&e&&(o.Rb(0,"span"),o.zc(1),o.Qb()),2&e){var n=o.ec(2);o.zb(1),o.Ac(n.alertMsg.title)}}function je(e,t){if(1&e&&(o.Rb(0,"p",32),o.zc(1),o.Qb()),2&e){var n=o.ec(2);o.zb(1),o.Ac(n.alertMsg.message)}}function qe(e,t){if(1&e){var n=o.Sb();o.Rb(0,"ngb-alert",33),o.bc("closed",function(){return o.tc(n),o.ec().alertMsg=null}),o.Rb(1,"h5",27),o.xc(2,Te,1,3,"i",28),o.xc(3,Le,2,1,"span",29),o.Qb(),o.xc(4,je,2,1,"p",30),o.Qb()}if(2&e){var i=o.ec();o.kc("type",i.alertMsg.type),o.zb(2),o.kc("ngIf",i.alertMsg.icon),o.zb(1),o.kc("ngIf",i.alertMsg.title),o.zb(1),o.kc("ngIf",i.alertMsg.message)}}function Ve(e,t){1&e&&o.Nb(0,"i",34)}function He(e,t){1&e&&(o.Rb(0,"tbody"),o.Rb(1,"tr"),o.Rb(2,"th",35),o.Nb(3,"i",36),o.Rb(4,"span"),o.zc(5,"Actualizndo informaci\xf3n..."),o.Qb(),o.Qb(),o.Qb(),o.Qb())}function Fe(e,t){if(1&e){var n=o.Sb();o.Pb(0),o.Rb(1,"tr"),o.Rb(2,"td",38),o.Rb(3,"button",39),o.bc("click",function(e){o.tc(n);var i=t.$implicit;return o.ec(3).toggleTableDetail(i.id,e)}),o.Nb(4,"i",40),o.Qb(),o.Qb(),o.Rb(5,"th",41),o.zc(6),o.Qb(),o.Rb(7,"td"),o.Nb(8,"ngb-highlight",42),o.Qb(),o.Rb(9,"td"),o.Nb(10,"ngb-highlight",42),o.Qb(),o.Rb(11,"td"),o.Nb(12,"ngb-highlight",42),o.Qb(),o.Rb(13,"td"),o.Nb(14,"ngb-highlight",42),o.Qb(),o.Rb(15,"td"),o.Nb(16,"ngb-highlight",42),o.Qb(),o.Rb(17,"td",38),o.Rb(18,"div",43),o.Rb(19,"button",44),o.bc("click",function(){o.tc(n);var e=t.$implicit;return o.ec(3).editRecord(e)}),o.Nb(20,"i",45),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Rb(21,"tr",46),o.Rb(22,"td",47),o.Rb(23,"div",3),o.Rb(24,"div",48),o.Rb(25,"h6",49),o.zc(26,"Tel\xe9fono"),o.Qb(),o.Rb(27,"p",50),o.zc(28),o.Qb(),o.Qb(),o.Rb(29,"div",48),o.Rb(30,"h6",49),o.zc(31,"Celular"),o.Qb(),o.Rb(32,"p",50),o.zc(33),o.Qb(),o.Qb(),o.Rb(34,"div",48),o.Rb(35,"h6",49),o.zc(36,"Correo electr\xf3nico"),o.Qb(),o.Rb(37,"p",51),o.zc(38),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Ob()}if(2&e){var i=t.$implicit,r=o.ec(3);o.zb(6),o.Ac(i.id),o.zb(2),o.kc("result",i.noCtrl)("term",r.service.searchTerm),o.zb(2),o.kc("result",i.curp)("term",r.service.searchTerm),o.zb(2),o.kc("result",i.primerApellido)("term",r.service.searchTerm),o.zb(2),o.kc("result",i.segundoApellido)("term",r.service.searchTerm),o.zb(2),o.kc("result",i.nombres)("term",r.service.searchTerm),o.zb(5),o.kc("ngClass","id_"+i.id),o.zb(7),o.Ac(i.tel),o.zb(5),o.Ac(i.cel),o.zb(5),o.Ac(i.mail)}}function Ge(e,t){if(1&e&&(o.Rb(0,"tbody"),o.xc(1,Fe,39,15,"ng-container",37),o.fc(2,"async"),o.Qb()),2&e){var n=o.ec(2);o.zb(1),o.kc("ngForOf",o.gc(2,1,n.persons$))}}function Be(e,t){if(1&e&&(o.xc(0,Ge,3,3,"tbody",22),o.fc(1,"async")),2&e){var n=o.ec(),i=o.sc(54);o.kc("ngIf",o.gc(1,2,n.total$))("ngIfElse",i)}}function Ue(e,t){1&e&&(o.Rb(0,"tbody"),o.Rb(1,"tr"),o.Rb(2,"th",52),o.Nb(3,"i",53),o.zc(4," No se encontr\xf3 informaci\xf3n "),o.Qb(),o.Qb(),o.Qb())}function Ye(e,t){if(1&e){var n=o.Sb();o.Rb(0,"div",2),o.Rb(1,"ngb-pagination",54),o.bc("pageChange",function(e){return o.tc(n),o.ec().service.page=e}),o.fc(2,"async"),o.Qb(),o.Rb(3,"span",27),o.zc(4),o.fc(5,"async"),o.fc(6,"async"),o.fc(7,"async"),o.Qb(),o.Qb()}if(2&e){var i=o.ec();o.zb(1),o.kc("collectionSize",o.gc(2,6,i.total$))("page",i.service.page)("pageSize",i.service.pageSize),o.zb(3),o.Dc(" Mostrando ",i.service.page*i.service.pageSize-i.service.pageSize+1," al ",i.service.page*i.service.pageSize<=o.gc(5,8,i.total$)?i.service.page*i.service.pageSize:o.gc(6,10,i.total$)," de ",o.gc(7,12,i.total$)," registros")}}var Je,We=((Je=function(){function e(t,i,r){n(this,e),this.service=t,this.store=i,this.handlerErrorsService=r,this._subs$=[],this.onSelected=new o.n,this.forceRefreshData=new S.a,this._autoCloseAlert=new S.a,this.alertMsg=null,this.persons$=t.persons$,this.total$=t.total$}return r(e,[{key:"ngOnInit",value:function(){var e=this;this._subs$.push(this._autoCloseAlert.pipe(Object(Me.a)(1e4)).subscribe(function(){e.alertMsg=null})),this._subs$.push(this.forceRefreshData.subscribe(function(t){return e.refreshTable(t)})),this._subs$.push(this.service.err$.subscribe(function(t){e.alertMsg=t?{type:"error",icon:"fa-info-circle",title:"Error",message:" ".concat(e.handlerErrorsService.parseMsgError(t)," </br> favor de intentarlo de nuevo. ")}:null}))}},{key:"ngOnDestroy",value:function(){this._subs$.forEach(function(e){try{e.unsubscribe()}catch(t){}})}},{key:"onSort",value:function(e){var t=e.column,n=e.direction;this.headers.forEach(function(e){e.sortable!==t&&(e.direction="")}),this.service.sortColumn=t,this.service.sortDirection=n}},{key:"toggleTableDetail",value:function(e,t){var n=$(".tableDetail.id_".concat(e)),i=$(t.currentTarget);n.hasClass("d-none")?(n.removeClass("d-none"),i.html('<i class="fa fa-minus-circle" aria-hidden="true"></i>'),i.removeClass("text-success"),i.addClass("text-warning")):(n.addClass("d-none"),i.html('<i class="fa fa-plus-circle" aria-hidden="true"></i>'),i.removeClass("text-warning"),i.addClass("text-success"))}},{key:"editRecord",value:function(e){this.store.dispatch(I.b({dataModel:e})),this.onSelected.emit(e)}},{key:"refreshTable",value:function(e){if(e.status){this.service.refreshTable();var t="Registro ";switch(e.action){case"add":t+="agregado";break;case"update":t+="actualizado"}t+=" correctamente",this.alertMsg={type:"success",icon:"fa-info-circle",title:"Acci\xf3n",message:t},this._autoCloseAlert.next(!0)}}}]),e}()).\u0275fac=function(e){return new(e||Je)(o.Mb($e),o.Mb(l.h),o.Mb(P.a))},Je.\u0275cmp=o.Gb({type:Je,selectors:[["app-table-persons"]],viewQuery:function(e,t){var n;1&e&&o.Ec(Ae,1),2&e&&o.rc(n=o.cc())&&(t.headers=n)},inputs:{forceRefreshData:"forceRefreshData"},outputs:{onSelected:"onSelected"},features:[o.yb([$e,b.f])],decls:58,vars:24,consts:[[3,"type","dismissible",4,"ngIf"],[3,"type","closed",4,"ngIf"],[1,"d-flex","justify-content-between","p-2"],[1,"row"],[1,"col-"],["type","button","ngbTooltip","Actualizar lista de registros",1,"btn","btn-outline-primary",3,"click"],["aria-hidden","true",1,"fa","fa-refresh"],[1,"col-auto","form-group","form-inline"],["name","pageSize",1,"custom-select","mx-2",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],[1,"form-group","form-inline"],[1,"inner-addon","right-addon"],["class","fa fa-refresh fa-spin fa-fw text-warning p-0",4,"ngIf"],["type","text","name","searchTerm",1,"form-control","ml-2",3,"ngModel","ngModelChange"],[1,"table","table-striped","text-white"],["scope","col"],["scope","col","sortable","id",3,"sort"],["scope","col","sortable","noCtrl",3,"sort"],["scope","col","sortable","curp",3,"sort"],["scope","col","sortable","primerApellido",3,"sort"],["scope","col","sortable","segundoApellido",3,"sort"],["scope","col","sortable","nombres",3,"sort"],[4,"ngIf","ngIfElse"],["renderData",""],["nodataResult",""],["class","d-flex justify-content-between p-2",4,"ngIf"],[3,"type","dismissible"],[1,"font-weight-bold"],["aria-hidden","true",3,"class",4,"ngIf"],[4,"ngIf"],["class","m-0 p-0",4,"ngIf"],["aria-hidden","true"],[1,"m-0","p-0"],[3,"type","closed"],[1,"fa","fa-refresh","fa-spin","fa-fw","text-warning","p-0"],["scope","row","colspan","8",1,"text-center"],[1,"fa","fa-cog","fa-spin","fa-3x","fa-fw",2,"vertical-align","middle"],[4,"ngFor","ngForOf"],[2,"width","1px"],["type","button","ngbTooltip","Mostrar detalle del registro",1,"btn","btn-link","text-success",3,"click"],["aria-hidden","true",1,"fa","fa-plus-circle"],["scope","row"],[3,"result","term"],["role","group","aria-label","",1,"btn-group"],["type","button","ngbTooltip","Editar registro",1,"btn","btn-secondary",3,"click"],["aria-hidden","true",1,"fa","fa-pencil-square-o"],[1,"tableDetail","d-none",3,"ngClass"],["colspan","8",1,"_d-none"],[1,"col-12","col-md-4"],[1,"tableDetailSccionTitle"],[1,"m-0","p-0","pl-2"],[1,"m-0","p-0","pl-2","text-lowercase"],["scope","row","colspan","8",1,"text-center","text-danger"],["aria-hidden","true",1,"fa","fa-info-circle","pr-2"],[3,"collectionSize","page","pageSize","pageChange"]],template:function(e,t){if(1&e&&(o.xc(0,De,5,5,"ngb-alert",0),o.fc(1,"async"),o.xc(2,qe,5,4,"ngb-alert",1),o.fc(3,"async"),o.Rb(4,"form"),o.Rb(5,"div",2),o.Rb(6,"div",3),o.Rb(7,"div",4),o.Rb(8,"button",5),o.bc("click",function(){return t.service.refreshTable()}),o.Nb(9,"i",6),o.Qb(),o.Qb(),o.Rb(10,"div",7),o.Rb(11,"span"),o.zc(12,"Mostrar"),o.Qb(),o.Rb(13,"select",8),o.bc("ngModelChange",function(e){return t.service.pageSize=e}),o.Rb(14,"option",9),o.zc(15,"10"),o.Qb(),o.Rb(16,"option",9),o.zc(17,"30"),o.Qb(),o.Rb(18,"option",9),o.zc(19,"50"),o.Qb(),o.Rb(20,"option",9),o.zc(21,"100"),o.Qb(),o.Qb(),o.Rb(22,"span"),o.zc(23,"registros"),o.Qb(),o.Qb(),o.Qb(),o.Rb(24,"div",10),o.zc(25," Buscar: "),o.Rb(26,"div",11),o.xc(27,Ve,1,0,"i",12),o.fc(28,"async"),o.Rb(29,"input",13),o.bc("ngModelChange",function(e){return t.service.searchTerm=e}),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Rb(30,"table",14),o.Rb(31,"thead"),o.Rb(32,"tr"),o.Rb(33,"th",15),o.zc(34,"\xa0"),o.Qb(),o.Rb(35,"th",16),o.bc("sort",function(e){return t.onSort(e)}),o.zc(36,"#"),o.Qb(),o.Rb(37,"th",17),o.bc("sort",function(e){return t.onSort(e)}),o.zc(38,"N\xfamero de control"),o.Qb(),o.Rb(39,"th",18),o.bc("sort",function(e){return t.onSort(e)}),o.zc(40,"CURP"),o.Qb(),o.Rb(41,"th",19),o.bc("sort",function(e){return t.onSort(e)}),o.zc(42,"Primer apellido"),o.Qb(),o.Rb(43,"th",20),o.bc("sort",function(e){return t.onSort(e)}),o.zc(44,"Segundo apellido"),o.Qb(),o.Rb(45,"th",21),o.bc("sort",function(e){return t.onSort(e)}),o.zc(46,"Nombre(s)"),o.Qb(),o.Rb(47,"th",15),o.zc(48,"\xa0"),o.Qb(),o.Qb(),o.Qb(),o.xc(49,He,6,0,"tbody",22),o.fc(50,"async"),o.xc(51,Be,2,4,"ng-template",null,23,o.yc),o.xc(53,Ue,5,0,"ng-template",null,24,o.yc),o.Qb(),o.xc(55,Ye,8,14,"div",25),o.fc(56,"async"),o.fc(57,"async"),o.Qb()),2&e){var n=o.sc(52);o.kc("ngIf",o.gc(1,12,t.service.err$)),o.zb(2),o.kc("ngIf",t.alertMsg&&!o.gc(3,14,t.service.err$)),o.zb(11),o.kc("ngModel",t.service.pageSize),o.zb(1),o.kc("ngValue",10),o.zb(2),o.kc("ngValue",30),o.zb(2),o.kc("ngValue",50),o.zb(2),o.kc("ngValue",100),o.zb(7),o.kc("ngIf",o.gc(28,16,t.service.loading$)),o.zb(2),o.kc("ngModel",t.service.searchTerm),o.zb(20),o.kc("ngIf",o.gc(50,18,t.service.loading$))("ngIfElse",n),o.zb(6),o.kc("ngIf",0==o.gc(56,20,t.service.loading$)&&o.gc(57,22,t.total$)>0)}},directives:[b.n,C.r,C.j,C.k,M.n,C.o,C.i,C.l,C.m,C.q,C.b,Ae,M.b,b.m,M.d,b.l,M.g],pipes:[b.b],styles:['th[sortable][_ngcontent-%COMP%]{cursor:pointer;-moz-user-select:none;user-select:none;-webkit-user-select:none}th[sortable].asc[_ngcontent-%COMP%]:before, th[sortable].desc[_ngcontent-%COMP%]:before{font-family:FontAwesome;font-weight:900;content:"\\f063";display:block;float:left;margin-left:-30px;color:#fff}th[sortable].desc[_ngcontent-%COMP%]:before{transform:rotate(180deg);-ms-transform:rotate(180deg)}ngbd-table-complete[_ngcontent-%COMP%]   span.ngb-highlight[_ngcontent-%COMP%], ngbd-table-filtering[_ngcontent-%COMP%]   span.ngb-highlight[_ngcontent-%COMP%]{background-color:#ff0}.inner-addon[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin:12px 0 0!important}  body:not(.om) .table.text-white{color:#333!important}  body.om .table-striped tbody tr:nth-of-type(odd){background-color:hsla(0,0%,100%,.11)}']}),Je);function Ke(e,t){if(1&e&&(o.Rb(0,"h2",8),o.Nb(1,"i",9),o.zc(2),o.Qb()),2&e){var n=o.ec();o.zb(1),o.kc("ngClass",null==n.titlePageHeader?null:n.titlePageHeader.icon),o.zb(1),o.Bc(" ",n.titlePageHeader.title," ")}}function Xe(e,t){if(1&e){var n=o.Sb();o.Rb(0,"div"),o.Rb(1,"button",14),o.bc("click",function(){return o.tc(n),o.ec(2).newRecord()}),o.Nb(2,"i",15),o.zc(3," Nuevo"),o.Qb(),o.Qb()}}function Ze(e,t){if(1&e&&(o.Rb(0,"div",10),o.Rb(1,"button",11),o.Rb(2,"h5"),o.Nb(3,"i",12),o.zc(4," Formulario de registro"),o.Qb(),o.Qb(),o.xc(5,Xe,4,0,"div",13),o.fc(6,"async"),o.Qb()),2&e){var n=o.ec();o.zb(5),o.kc("ngIf",o.gc(6,1,n.editMode))}}function et(e,t){if(1&e){var n=o.Sb();o.Rb(0,"app-form-persons",16),o.bc("onAddorEdit",function(e){return o.tc(n),o.ec().refreshControls(e)}),o.Qb()}if(2&e){var i=o.ec();o.kc("editMode",i.editMode)}}function tt(e,t){1&e&&(o.Rb(0,"h5"),o.Nb(1,"i",17),o.zc(2," Lista de registros"),o.Qb())}function nt(e,t){if(1&e){var n=o.Sb();o.Rb(0,"app-table-persons",18),o.bc("onSelected",function(e){return o.tc(n),o.ec().recordSelected(e)}),o.Qb()}if(2&e){var i=o.ec();o.kc("forceRefreshData",i.refreshData)}}var it,rt,ct,at=((it=function(){function e(t,i){var r=this;n(this,e),this.store=t,this.router=i,this._subs$=[],this.activeIds="",this.editMode=new S.a,this.refreshData=new S.a,this._subs$.push(this.store.select("currentPage").subscribe(function(e){r.titlePageHeader=e})),this.activeIds="static-2",this.store.dispatch(s.a({current:{icon:"fa-table",title:"Cat\xe1logo de Personas",description:"",url:this.router.url}}))}return r(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this._subs$.forEach(function(e){try{e.unsubscribe()}catch(t){}})}},{key:"newRecord",value:function(){this.store.dispatch(I.b({dataModel:null})),this.editMode.next(!1)}},{key:"recordSelected",value:function(e){this.store.dispatch(I.b({dataModel:e})),this.dtElement.expand("static-1"),this.editMode.next(!0)}},{key:"refreshControls",value:function(e){this.store.dispatch(I.b({dataModel:null})),this.dtElement.expand("static-2"),this.editMode.next(!1),this.refreshData.next(e)}}]),e}()).\u0275fac=function(e){return new(e||it)(o.Mb(l.h),o.Mb(a.b))},it.\u0275cmp=o.Gb({type:it,selectors:[["app-persons"]],viewQuery:function(e,t){var n;1&e&&o.Ec(M.a,1),2&e&&o.rc(n=o.cc())&&(t.dtElement=n.first)},decls:9,vars:4,consts:[[1,"extendWorkJob","d-flex","flex-column","justify-content-center","px-5"],["class","pageHeader",4,"ngIf"],["ngbAccordion","",3,"closeOthers","activeIds","destroyOnHide"],["id","static-1"],["ngbPanelHeader",""],["ngbPanelContent",""],["id","static-2"],["ngbPanelTitle",""],[1,"pageHeader"],["aria-hidden","true",1,"fa",3,"ngClass"],[1,"d-flex","align-items-center","justify-content-between"],["ngbPanelToggle","",1,"btn","btn-link"],["aria-hidden","true",1,"fa","fa-newspaper-o"],[4,"ngIf"],[1,"btn","btn-sm","btn-outline-primary","ml-2",3,"click"],["aria-hidden","true",1,"fa","fa-plus"],[3,"editMode","onAddorEdit"],["aria-hidden","true",1,"fa","fa-th"],[3,"forceRefreshData","onSelected"]],template:function(e,t){1&e&&(o.Rb(0,"div",0),o.xc(1,Ke,3,2,"h2",1),o.Rb(2,"ngb-accordion",2),o.Rb(3,"ngb-panel",3),o.xc(4,Ze,7,3,"ng-template",4),o.xc(5,et,1,1,"ng-template",5),o.Qb(),o.Rb(6,"ngb-panel",6),o.xc(7,tt,3,0,"ng-template",7),o.xc(8,nt,1,1,"ng-template",5),o.Qb(),o.Qb(),o.Qb()),2&e&&(o.zb(1),o.kc("ngIf",t.titlePageHeader),o.zb(1),o.kc("closeOthers",!0)("activeIds",t.activeIds)("destroyOnHide",!1))},directives:[b.n,M.a,M.h,M.j,M.i,M.k,b.l,M.l,we,We],pipes:[b.b],styles:[".card{background-color:transparent!important}  .card .card-header{background-color:hsla(0,0%,100%,.050980392156862744)}  .card .card-header button{width:100%;text-align:left}  .btn-link{color:#fff;text-decoration:none!important}  .btn-link:hover,   body:not(.om) .btn-link:hover{color:#0056b3;text-decoration:none!important}  body:not(.om) .btn-link{color:#333;text-decoration:none!important}"]}),it),st=c("qvEf"),ot=((ct=function(){function e(t){n(this,e),this.http=t}return r(e,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.http.get("".concat(A.a.apis.recon.url,"/admin/users?skip=").concat(e,"&take=").concat(t,"&filter=").concat(n)).pipe(Object(_.a)(function(e){if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(E.a)(function(e){}))}},{key:"add",value:function(e){return this.http.post("".concat(A.a.apis.recon.url,"/admin/user"),e).pipe(Object(_.a)(function(e){if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(E.a)(function(e){}))}},{key:"edit",value:function(e){return this.http.patch("".concat(A.a.apis.recon.url,"/admin/user"),e).pipe(Object(_.a)(function(e){if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(E.a)(function(e){}))}}]),e}()).\u0275fac=function(e){return new(e||ct)(o.Yb(O.b))},ct.\u0275prov=o.Ib({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct),lt=((rt=function(){function e(t){n(this,e),this.http=t}return r(e,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return this.http.get("".concat(A.a.apis.recon.url,"/admin/roles?skip=").concat(e,"&take=").concat(t,"&filter=").concat(n)).pipe(Object(_.a)(function(e){if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(E.a)(function(e){}))}}]),e}()).\u0275fac=function(e){return new(e||rt)(o.Yb(O.b))},rt.\u0275prov=o.Ib({token:rt,factory:rt.\u0275fac,providedIn:"root"}),rt),bt=c("eACs");function ut(e,t){if(1&e&&o.Nb(0,"i",22),2&e){var n=o.ec(2);o.Cb("fa ",n.alertMsg.icon," mr-2")}}function dt(e,t){if(1&e&&(o.Rb(0,"span"),o.zc(1),o.Qb()),2&e){var n=o.ec(2);o.zb(1),o.Ac(n.alertMsg.title)}}function ft(e,t){if(1&e&&(o.Rb(0,"p",23),o.zc(1),o.Qb()),2&e){var n=o.ec(2);o.zb(1),o.Ac(n.alertMsg.message)}}function ht(e,t){if(1&e&&(o.Rb(0,"ngb-alert",17),o.Rb(1,"h5",18),o.xc(2,ut,1,3,"i",19),o.xc(3,dt,2,1,"span",20),o.Qb(),o.xc(4,ft,2,1,"p",21),o.Qb()),2&e){var n=o.ec();o.kc("type",n.alertMsg.type)("dismissible",!1),o.zb(2),o.kc("ngIf",n.alertMsg.icon),o.zb(1),o.kc("ngIf",n.alertMsg.title),o.zb(1),o.kc("ngIf",n.alertMsg.message)}}function pt(e,t){1&e&&o.Nb(0,"i",25)}function gt(e,t){1&e&&o.Nb(0,"i",26)}function mt(e,t){1&e&&(o.Rb(0,"span"),o.zc(1,"Informaci\xf3n requerida"),o.Qb())}function vt(e,t){1&e&&(o.Rb(0,"span"),o.zc(1,"La longitud m\xednima es de 4 caracteres"),o.Qb())}function Rt(e,t){1&e&&(o.Rb(0,"span"),o.zc(1,"La longitud m\xe1xima es de 50 caracteres"),o.Qb())}function kt(e,t){if(1&e&&(o.Rb(0,"div",27),o.Nb(1,"i",28),o.xc(2,mt,2,0,"span",20),o.xc(3,vt,2,0,"span",20),o.xc(4,Rt,2,0,"span",20),o.Qb()),2&e){var n=o.ec(2);o.zb(2),o.kc("ngIf",n.f.username.errors.required),o.zb(1),o.kc("ngIf",n.f.username.errors.minlength),o.zb(1),o.kc("ngIf",n.f.username.errors.maxlength)}}var zt=function(e){return{errBorder:e}};function yt(e,t){if(1&e&&(o.Rb(0,"div",4),o.Rb(1,"label"),o.zc(2,"Nombre de usuario"),o.Qb(),o.Rb(3,"div",5),o.xc(4,pt,1,0,"i",6),o.xc(5,gt,1,0,"i",7),o.Nb(6,"input",24),o.Qb(),o.xc(7,kt,5,3,"div",9),o.Qb()),2&e){var n=o.ec();o.zb(4),o.kc("ngIf",n.formSubmitted&&n.f.username.valid),o.zb(1),o.kc("ngIf",n.formSubmitted&&n.f.username.invalid),o.zb(1),o.kc("ngClass",o.oc(4,zt,n.formSubmitted&&n.f.username.invalid)),o.zb(1),o.kc("ngIf",n.formSubmitted&&n.f.username.invalid)}}function Qt(e,t){if(1&e&&(o.Rb(0,"div",4),o.Rb(1,"label"),o.zc(2,"Nombre de usuario"),o.Qb(),o.Rb(3,"div",29),o.Rb(4,"h4"),o.zc(5),o.Qb(),o.Qb(),o.Qb()),2&e){var n=o.ec();o.zb(5),o.Ac(n.f.username.value)}}function xt(e,t){1&e&&o.Nb(0,"i",25)}function wt(e,t){1&e&&o.Nb(0,"i",26)}function Mt(e,t){1&e&&(o.Rb(0,"span"),o.zc(1,"Informaci\xf3n requerida"),o.Qb())}function St(e,t){1&e&&(o.Rb(0,"span"),o.zc(1,"La longitud m\xednima es de 6 caracteres"),o.Qb())}function It(e,t){1&e&&(o.Rb(0,"span"),o.zc(1,"La longitud m\xe1xima es de 50 caracteres"),o.Qb())}function Ct(e,t){if(1&e&&(o.Rb(0,"div",27),o.Nb(1,"i",28),o.xc(2,Mt,2,0,"span",20),o.xc(3,St,2,0,"span",20),o.xc(4,It,2,0,"span",20),o.Qb()),2&e){var n=o.ec(2);o.zb(2),o.kc("ngIf",n.f.password.errors.required),o.zb(1),o.kc("ngIf",n.f.password.errors.minlength),o.zb(1),o.kc("ngIf",n.f.password.errors.maxlength)}}function _t(e,t){if(1&e&&(o.Rb(0,"div",4),o.Rb(1,"label"),o.zc(2,"Contrase\xf1a"),o.Qb(),o.Rb(3,"div",5),o.xc(4,xt,1,0,"i",6),o.xc(5,wt,1,0,"i",7),o.Nb(6,"input",30),o.Qb(),o.xc(7,Ct,5,3,"div",9),o.Qb()),2&e){var n=o.ec();o.zb(4),o.kc("ngIf",n.formSubmitted&&n.f.password.valid),o.zb(1),o.kc("ngIf",n.formSubmitted&&n.f.password.invalid),o.zb(1),o.kc("ngClass",o.oc(4,zt,n.formSubmitted&&n.f.password.invalid)),o.zb(1),o.kc("ngIf",n.formSubmitted&&n.f.password.invalid)}}function $t(e,t){1&e&&o.Nb(0,"i",25)}function Et(e,t){1&e&&o.Nb(0,"i",26)}function At(e,t){1&e&&(o.Rb(0,"span"),o.zc(1,"Informaci\xf3n requerida"),o.Qb())}function Ot(e,t){1&e&&(o.Rb(0,"span"),o.zc(1,"La longitud m\xednima es de 6 caracteres"),o.Qb())}function Nt(e,t){1&e&&(o.Rb(0,"span"),o.zc(1,"La longitud m\xe1xima es de 50 caracteres"),o.Qb())}function Pt(e,t){1&e&&(o.Rb(0,"span"),o.zc(1,"La contrase\xf1a y confirmaci\xf2n no coinciden"),o.Qb())}function Dt(e,t){if(1&e&&(o.Rb(0,"div",27),o.Nb(1,"i",28),o.xc(2,At,2,0,"span",20),o.xc(3,Ot,2,0,"span",20),o.xc(4,Nt,2,0,"span",20),o.xc(5,Pt,2,0,"span",20),o.Qb()),2&e){var n=o.ec(2);o.zb(2),o.kc("ngIf",null==n.f.confPwd.errors?null:n.f.confPwd.errors.required),o.zb(1),o.kc("ngIf",null==n.f.confPwd.errors?null:n.f.confPwd.errors.minlength),o.zb(1),o.kc("ngIf",null==n.f.confPwd.errors?null:n.f.confPwd.errors.maxlength),o.zb(1),o.kc("ngIf",(null==n.frmgp.errors?null:n.frmgp.errors.confirm)&&n.f.confPwd.valid)}}function Tt(e,t){if(1&e&&(o.Rb(0,"div",4),o.Rb(1,"label"),o.zc(2,"Confirmar contrase\xf1a"),o.Qb(),o.Rb(3,"div",5),o.xc(4,$t,1,0,"i",6),o.xc(5,Et,1,0,"i",7),o.Nb(6,"input",31),o.Qb(),o.xc(7,Dt,6,4,"div",9),o.Qb()),2&e){var n=o.ec();o.zb(4),o.kc("ngIf",n.formSubmitted&&n.f.confPwd.valid),o.zb(1),o.kc("ngIf",n.formSubmitted&&n.f.confPwd.invalid),o.zb(1),o.kc("ngClass",o.oc(4,zt,n.formSubmitted&&n.f.confPwd.invalid)),o.zb(1),o.kc("ngIf",n.formSubmitted&&(n.f.confPwd.invalid||(null==n.frmgp.errors?null:n.frmgp.errors.confirm)))}}function Lt(e,t){1&e&&o.Nb(0,"i",25)}function jt(e,t){1&e&&o.Nb(0,"i",26)}function qt(e,t){1&e&&(o.Rb(0,"span"),o.zc(1,"Informaci\xf3n requerida"),o.Qb())}function Vt(e,t){if(1&e&&(o.Rb(0,"div",27),o.Nb(1,"i",28),o.xc(2,qt,2,0,"span",20),o.Qb()),2&e){var n=o.ec();o.zb(2),o.kc("ngIf",n.f.idPerson.errors.required)}}function Ht(e,t){1&e&&o.Nb(0,"i",25)}function Ft(e,t){1&e&&o.Nb(0,"i",26)}function Gt(e,t){1&e&&(o.Rb(0,"span"),o.zc(1,"Debe seleccionar al menos un rol"),o.Qb())}function Bt(e,t){if(1&e&&(o.Rb(0,"div",27),o.Nb(1,"i",28),o.xc(2,Gt,2,0,"span",20),o.Qb()),2&e){var n=o.ec();o.zb(2),o.kc("ngIf",n.f.idRoles.errors.required)}}function Ut(e,t){1&e&&o.Nb(0,"i",32)}function Yt(e,t){1&e&&o.Nb(0,"span",33)}var Jt,Wt,Kt=function(){return{width:"100%",multiple:!0}},Xt=((Jt=function(){function e(t,i,r,c,a,s){n(this,e),this.fb=t,this.store=i,this.usersService=r,this.handlerErrorsService=c,this.rolesService=a,this.personsService=s,this._subs$=[],this.onAddorEdit=new o.n,this.select2Language={noResults:function(){return"No se encontraron resultado"},searching:function(){return"Buscando.."}},this.persons=[],this.personsSelect=[],this.roles=[],this.rolesSelect=[],this.frmgp=this.fb.group({id:[""],idPerson:["",[C.p.required]],idDepto:[0,[C.p.required]],username:["",[C.p.required,C.p.minLength(4),C.p.maxLength(50)]],password:["",[C.p.required,C.p.minLength(6),C.p.maxLength(50)]],confPwd:["",[C.p.required,C.p.minLength(6),C.p.maxLength(50)]],idRoles:[null,[C.p.required]]},{validator:this.passwordConfirming}),this.formSubmitted=!1,this.withErr=!1,this.alertMsg=null}return r(e,[{key:"ngOnInit",value:function(){var e=this;this._subs$.push(this.store.select("catalogUsers").subscribe(function(t){return e.editModel=t.selected})),this._subs$.push(this.editMode.subscribe(function(t){e._populateFormEditMode(t)})),this._subs$.push(this.personsService.data().subscribe(function(t){e.persons=t,e.personsSelect=e.persons.sort(function(e,t){var n="".concat(e.nombres," ").concat(e.primerApellido," ").concat(e.segundoApellido),i="".concat(t.nombres," ").concat(t.primerApellido," ").concat(t.segundoApellido);return n>i?1:n<i?-1:0}).map(function(e){return{id:e.id.toString(),text:"".concat(e.nombres," ").concat(e.primerApellido," ").concat(e.segundoApellido)}})})),this._subs$.push(this.rolesService.data().subscribe(function(t){e.roles=t,e.rolesSelect=e.roles.sort(function(e,t){return e.role>t.role?1:e.role<t.role?-1:0}).map(function(e){return{id:e.id.toString(),text:e.role}})})),this.personsSelectValue="",this.rolesSelectValue=[],this.personsSelectOptions={width:"100%",multiple:!1,language:this.select2Language},this.rolesSelectOptions={width:"100%",multiple:!0,language:this.select2Language}}},{key:"ngOnDestroy",value:function(){this._subs$.forEach(function(e){try{e.unsubscribe()}catch(t){}})}},{key:"f",get:function(){return this.frmgp.controls}},{key:"passwordConfirming",value:function(e){if(e.get("password").value!==e.get("confPwd").value)return{confirm:!0}}},{key:"_populateFormEditMode",value:function(e){var t,n,i,r,c,a;this.withErr=!1,this.formSubmitted=!1,this.alertMsg=null,this.f.id.patchValue(null===(t=this.editModel)||void 0===t?void 0:t.id),this.f.idDepto.patchValue(null===(n=this.editModel)||void 0===n?void 0:n.idDepto),this.f.username.patchValue(null===(i=this.editModel)||void 0===i?void 0:i.username),this.personsSelectValue=null===(c=null===(r=this.editModel)||void 0===r?void 0:r.person)||void 0===c?void 0:c.id.toString(),this.f.idPerson.patchValue(this.personsSelectValue),this.rolesSelectValue=null===(a=this.editModel)||void 0===a?void 0:a.roles.map(function(e){return e.id.toString()}),this.f.idRoles.patchValue(this.rolesSelectValue),this.f.password.patchValue("dataPatched"),this.f.confPwd.patchValue("dataPatched"),$("form input:first").select()}},{key:"changedPersonsSelect",value:function(e){this.f.idPerson.patchValue(e)}},{key:"changedRolesSelect",value:function(e){this.f.idRoles.patchValue(e)}},{key:"onSubmit",value:function(){this.withErr=!1,this.formSubmitted=!0,this.alertMsg=null;try{if(!this.frmgp.valid)throw new Error("Se encontraron errores de formulario");this.editModel?this.editAction():this.addAction()}catch(e){this.showAlert(e.message,"danger","fa-times-circle-o","Error"),this.withErr=!0}}},{key:"showAlert",value:function(e,t,n,i){this.alertMsg={type:t,icon:n,title:i,message:e}}},{key:"addAction",value:function(){var e=this;try{this._subs$.push(this.usersService.add(this.frmgp.value).subscribe(function(t){e.onAddorEdit.emit({status:!0,action:"add"})},function(t){e.showAlert(e.handlerErrorsService.parseMsgError(t),"danger","fa-times-circle-o","Error"),e.withErr=!0}))}catch(t){this.showAlert(this.handlerErrorsService.parseMsgError(t),"danger","fa-times-circle-o","Error"),this.withErr=!0}}},{key:"editAction",value:function(){var e=this;try{this.f.password.patchValue(null),this.f.confPwd.patchValue(null),this._subs$.push(this.usersService.edit(this.frmgp.value).subscribe(function(t){e.onAddorEdit.emit({status:!0,action:"update"})},function(t){e.showAlert(e.handlerErrorsService.parseMsgError(t),"danger","fa-times-circle-o","Error"),e.withErr=!0}))}catch(t){this.showAlert(this.handlerErrorsService.parseMsgError(t),"danger","fa-times-circle-o","Error"),this.withErr=!0}}}]),e}()).\u0275fac=function(e){return new(e||Jt)(o.Mb(C.c),o.Mb(l.h),o.Mb(ot),o.Mb(P.a),o.Mb(lt),o.Mb(N))},Jt.\u0275cmp=o.Gb({type:Jt,selectors:[["app-form-users"]],inputs:{editMode:"editMode"},outputs:{onAddorEdit:"onAddorEdit"},decls:34,vars:31,consts:[["autocomplete","off",3,"formGroup","ngSubmit"],[3,"type","dismissible",4,"ngIf"],[1,"form-row"],["class","col-12 col-md-4 py-2",4,"ngIf"],[1,"col-12","col-md-4","py-2"],[1,"inner-addon","right-addon"],["class","fa fa-check-circle-o text-success","aria-hidden","true",4,"ngIf"],["class","fa fa-times-circle-o text-danger","aria-hidden","true",4,"ngIf"],["placeholder","Persona",3,"data","options","value","valueChanged"],["class","text-danger",4,"ngIf"],["placeholder","Selecciona al menos 1 rol",3,"data","options","value","valueChanged"],[1,"text-right"],["ngClass","btn-outline-success",1,"btn",3,"disabled"],["class","fa fa-pencil-square-o","aria-hidden","true","type","submit",4,"ngIf"],["class","spinner-grow spinner-grow-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"ml-2"],["type","hidden","id","id","name","id","formControlName","id"],[3,"type","dismissible"],[1,"font-weight-bold"],["aria-hidden","true",3,"class",4,"ngIf"],[4,"ngIf"],["class","m-0 p-0",4,"ngIf"],["aria-hidden","true"],[1,"m-0","p-0"],["id","noctrl","type","text","placeholder","Nombre de usuario","formControlName","username",1,"form-control",3,"ngClass"],["aria-hidden","true",1,"fa","fa-check-circle-o","text-success"],["aria-hidden","true",1,"fa","fa-times-circle-o","text-danger"],[1,"text-danger"],["aria-hidden","true",1,"fa","fa-exclamation-triangle","mr-2"],[1,"inner-addon","right-addon","text-center"],["id","password","type","password","placeholder","Contrase\xf1a","formControlName","password",1,"form-control",3,"ngClass"],["id","confPwd","type","password","placeholder","Confirmar contrase\xf1a","formControlName","confPwd",1,"form-control",3,"ngClass"],["aria-hidden","true","type","submit",1,"fa","fa-pencil-square-o"],["role","status","aria-hidden","true",1,"spinner-grow","spinner-grow-sm"]],template:function(e,t){1&e&&(o.Rb(0,"form",0),o.bc("ngSubmit",function(){return t.onSubmit()}),o.xc(1,ht,5,5,"ngb-alert",1),o.Rb(2,"div",2),o.xc(3,yt,8,6,"div",3),o.fc(4,"async"),o.xc(5,Qt,6,1,"div",3),o.fc(6,"async"),o.xc(7,_t,8,6,"div",3),o.fc(8,"async"),o.xc(9,Tt,8,6,"div",3),o.fc(10,"async"),o.Rb(11,"div",4),o.Rb(12,"label"),o.zc(13,"Persona"),o.Qb(),o.Rb(14,"div",5),o.xc(15,Lt,1,0,"i",6),o.xc(16,jt,1,0,"i",7),o.Rb(17,"ng-select2",8),o.bc("valueChanged",function(e){return t.changedPersonsSelect(e)}),o.Qb(),o.Qb(),o.xc(18,Vt,3,1,"div",9),o.Qb(),o.Rb(19,"div",4),o.Rb(20,"label"),o.zc(21,"Rol(es)"),o.Qb(),o.Rb(22,"div",5),o.xc(23,Ht,1,0,"i",6),o.xc(24,Ft,1,0,"i",7),o.Rb(25,"ng-select2",10),o.bc("valueChanged",function(e){return t.changedRolesSelect(e)}),o.Qb(),o.Qb(),o.xc(26,Bt,3,1,"div",9),o.Qb(),o.Qb(),o.Rb(27,"div",11),o.Rb(28,"button",12),o.xc(29,Ut,1,0,"i",13),o.xc(30,Yt,1,0,"span",14),o.Rb(31,"span",15),o.zc(32),o.Qb(),o.Qb(),o.Qb(),o.Nb(33,"input",16),o.Qb()),2&e&&(o.kc("formGroup",t.frmgp),o.zb(1),o.kc("ngIf",t.alertMsg),o.zb(2),o.kc("ngIf",1!=o.gc(4,22,t.editMode)),o.zb(2),o.kc("ngIf",1==o.gc(6,24,t.editMode)),o.zb(2),o.kc("ngIf",1!=o.gc(8,26,t.editMode)),o.zb(2),o.kc("ngIf",1!=o.gc(10,28,t.editMode)),o.zb(6),o.kc("ngIf",t.formSubmitted&&t.f.idPerson.valid),o.zb(1),o.kc("ngIf",t.formSubmitted&&t.f.idPerson.invalid),o.zb(1),o.kc("data",t.personsSelect)("options",t.personsSelectOptions)("value",t.personsSelectValue),o.zb(1),o.kc("ngIf",t.formSubmitted&&t.f.idPerson.invalid),o.zb(5),o.kc("ngIf",t.formSubmitted&&t.f.idRoles.valid),o.zb(1),o.kc("ngIf",t.formSubmitted&&t.f.idRoles.invalid),o.zb(1),o.kc("data",t.rolesSelect)("options",o.nc(30,Kt))("value",t.rolesSelectValue),o.zb(1),o.kc("ngIf",t.formSubmitted&&t.f.idRoles.invalid),o.zb(2),o.kc("disabled",t.formSubmitted&&!t.withErr),o.zb(1),o.kc("ngIf",!t.formSubmitted||t.withErr),o.zb(1),o.kc("ngIf",t.formSubmitted&&!t.withErr),o.zb(2),o.Bc(" ",!t.formSubmitted||t.withErr?t.editModel?"Editar":"Registrar":"Procesando..."," "))},directives:[C.r,C.j,C.e,b.n,bt.a,b.l,C.b,C.i,C.d,M.b],pipes:[b.b],styles:[".select2-selection{min-height:38px!important}  .select2,   .select2-container{color:#333}  .select2-selection--single .select2-selection__rendered{line-height:36px!important}  .select2-selection--single .select2-selection__arrow{height:36px!important}"]}),Jt),Zt=c("PSD3"),en=c.n(Zt),tn=((Wt=function(){function t(e,i,r){var c=this;n(this,t),this.pipe=e,this.usersService=i,this.store=r,this._subs$=[],this._loading$=new Se.a(!0),this._err$=new Se.a(null),this._search$=new S.a,this._users$=new Se.a([]),this._total$=new Se.a(0),this._state={page:1,pageSize:10,searchTerm:"",sortColumn:"",sortDirection:""},this._subs$.push(this._search$.pipe(Object(E.a)(function(){c._err$.next(null),c._loading$.next(!0)}),Object(Me.a)(500),Object(Ce.a)(function(){return c._dataList()}),Object(_.a)(function(e){return c._formating(e)}),Object(E.a)(function(){return c._loading$.next(!1)})).subscribe(function(e){c._users$.next(e.data),c._total$.next(e.total)})),this._search$.next()}return r(t,[{key:"ngOnDestroy",value:function(){this._subs$.forEach(function(e){try{e.unsubscribe()}catch(t){}})}},{key:"users$",get:function(){return this._users$.asObservable()}},{key:"total$",get:function(){return this._total$.asObservable()}},{key:"loading$",get:function(){return this._loading$.asObservable()}},{key:"err$",get:function(){return this._err$.asObservable()}},{key:"page",get:function(){return this._state.page},set:function(e){this._set({page:e})}},{key:"pageSize",get:function(){return this._state.pageSize},set:function(e){this._set({pageSize:e})}},{key:"searchTerm",get:function(){return this._state.searchTerm},set:function(e){this._set({searchTerm:e})}},{key:"sortColumn",set:function(e){this._set({sortColumn:e})}},{key:"sortDirection",set:function(e){this._set({sortDirection:e})}},{key:"refreshTable",value:function(){this._search$.next()}},{key:"_set",value:function(e){Object.assign(this._state,e),this._search$.next()}},{key:"_dataList",value:function(){var e=this,t=this._state.searchTerm;return this.usersService.data(null,null,t).pipe(Object(_e.a)(function(t){return e._err$.next(t),Object(Ie.a)([])}))}},{key:"_formating",value:function(t){var n,i,r,c=this._state,a=c.searchTerm,s=c.sortColumn,o=c.sortDirection,l=c.pageSize,b=c.page,u=t;(s||o)&&(n=u,i=s,u=""===(r=o)||""===i?n:e(n).sort(function(e,t){var n,c,a=(n=e[i])<(c=t[i])?-1:n>c?1:0;return"asc"===r?a:-a})),a&&(u=u.filter(function(e){return function(e,t,n){return e.username.toLowerCase().includes(t.toLowerCase())||(e.active?"activo":"inactivo").includes(t)||e.fIns.toString().includes(t)||e.fAct.toString().includes(t)}(e,a)}));var d=u.length;return u=u.slice((b-1)*l,(b-1)*l+l),this.store.dispatch(st.a({data:u})),{data:u,total:d}}}]),t}()).\u0275fac=function(e){return new(e||Wt)(o.Yb(b.f),o.Yb(ot),o.Yb(l.h))},Wt.\u0275prov=o.Ib({token:Wt,factory:Wt.\u0275fac,providedIn:"root"}),Wt),nn={asc:"desc",desc:"","":"asc"},rn=function(){var e=function(){function e(){n(this,e),this.sortable="",this.direction="",this.sort=new o.n}return r(e,[{key:"rotate",value:function(){this.direction=nn[this.direction],this.sort.emit({column:this.sortable,direction:this.direction})}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=o.Hb({type:e,selectors:[["th","sortable",""]],hostVars:4,hostBindings:function(e,t){1&e&&o.bc("click",function(){return t.rotate()}),2&e&&o.Eb("asc","asc"===t.direction)("desc","desc"===t.direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sort:"sort"}}),e}();function cn(e,t){if(1&e&&o.Nb(0,"i",30),2&e){var n=o.ec(2);o.Cb("fa ",n.alertMsg.icon," mr-2")}}function an(e,t){if(1&e&&(o.Rb(0,"span"),o.zc(1),o.Qb()),2&e){var n=o.ec(2);o.zb(1),o.Ac(n.alertMsg.title)}}function sn(e,t){if(1&e&&(o.Rb(0,"p",31),o.zc(1),o.Qb()),2&e){var n=o.ec(2);o.zb(1),o.Ac(n.alertMsg.message)}}function on(e,t){if(1&e&&(o.Rb(0,"ngb-alert",25),o.Rb(1,"h5",26),o.xc(2,cn,1,3,"i",27),o.xc(3,an,2,1,"span",28),o.Qb(),o.xc(4,sn,2,1,"p",29),o.Qb()),2&e){var n=o.ec();o.kc("type","danger")("dismissible",!1),o.zb(2),o.kc("ngIf",n.alertMsg.icon),o.zb(1),o.kc("ngIf",n.alertMsg.title),o.zb(1),o.kc("ngIf",n.alertMsg.message)}}function ln(e,t){if(1&e&&o.Nb(0,"i",30),2&e){var n=o.ec(2);o.Cb("fa ",n.alertMsg.icon," mr-2")}}function bn(e,t){if(1&e&&(o.Rb(0,"span"),o.zc(1),o.Qb()),2&e){var n=o.ec(2);o.zb(1),o.Ac(n.alertMsg.title)}}function un(e,t){if(1&e&&(o.Rb(0,"p",31),o.zc(1),o.Qb()),2&e){var n=o.ec(2);o.zb(1),o.Ac(n.alertMsg.message)}}function dn(e,t){if(1&e){var n=o.Sb();o.Rb(0,"ngb-alert",32),o.bc("closed",function(){return o.tc(n),o.ec().alertMsg=null}),o.Rb(1,"h5",26),o.xc(2,ln,1,3,"i",27),o.xc(3,bn,2,1,"span",28),o.Qb(),o.xc(4,un,2,1,"p",29),o.Qb()}if(2&e){var i=o.ec();o.kc("type",i.alertMsg.type),o.zb(2),o.kc("ngIf",i.alertMsg.icon),o.zb(1),o.kc("ngIf",i.alertMsg.title),o.zb(1),o.kc("ngIf",i.alertMsg.message)}}function fn(e,t){1&e&&o.Nb(0,"i",33)}function hn(e,t){1&e&&(o.Rb(0,"tbody"),o.Rb(1,"tr"),o.Rb(2,"th",34),o.Nb(3,"i",35),o.Rb(4,"span"),o.zc(5,"Actualizndo informaci\xf3n..."),o.Qb(),o.Qb(),o.Qb(),o.Qb())}function pn(e,t){if(1&e){var n=o.Sb();o.Rb(0,"button",53),o.bc("click",function(){o.tc(n);var e=o.ec().$implicit;return o.ec(3).activeInactiveRecord(e.id,!1)}),o.Nb(1,"i",54),o.Qb()}}function gn(e,t){if(1&e){var n=o.Sb();o.Rb(0,"button",55),o.bc("click",function(){o.tc(n);var e=o.ec().$implicit;return o.ec(3).activeInactiveRecord(e.id,!0)}),o.Nb(1,"i",56),o.Qb()}}function mn(e,t){if(1&e&&(o.Rb(0,"li"),o.zc(1),o.Qb()),2&e){var n=t.$implicit;o.zb(1),o.Ac(n.role)}}function vn(e,t){if(1&e){var n=o.Sb();o.Pb(0),o.Rb(1,"tr"),o.Rb(2,"td",37),o.Rb(3,"button",38),o.bc("click",function(e){o.tc(n);var i=t.$implicit;return o.ec(3).toggleTableDetail(i.id,e)}),o.Nb(4,"i",39),o.Qb(),o.Qb(),o.Rb(5,"th",40),o.zc(6),o.Qb(),o.Rb(7,"td"),o.Nb(8,"ngb-highlight",41),o.Qb(),o.Rb(9,"td"),o.Nb(10,"ngb-highlight",41),o.Qb(),o.Rb(11,"td"),o.Nb(12,"ngb-highlight",41),o.fc(13,"date"),o.Qb(),o.Rb(14,"td"),o.Nb(15,"ngb-highlight",41),o.fc(16,"date"),o.Qb(),o.Rb(17,"td",37),o.Rb(18,"div",42),o.Rb(19,"button",43),o.bc("click",function(){o.tc(n);var e=t.$implicit;return o.ec(3).editRecord(e)}),o.Nb(20,"i",44),o.Qb(),o.xc(21,pn,2,0,"button",45),o.xc(22,gn,2,0,"button",46),o.Qb(),o.Qb(),o.Qb(),o.Rb(23,"tr",47),o.Rb(24,"td",48),o.Rb(25,"div",3),o.Rb(26,"div",49),o.Rb(27,"h6",50),o.zc(28,"N\xfamero de control"),o.Qb(),o.Rb(29,"p",51),o.zc(30),o.Qb(),o.Qb(),o.Rb(31,"div",49),o.Rb(32,"h6",50),o.zc(33,"Nombre"),o.Qb(),o.Rb(34,"p",51),o.zc(35),o.Qb(),o.Qb(),o.Rb(36,"div",49),o.Rb(37,"h6",50),o.zc(38,"CURP"),o.Qb(),o.Rb(39,"p",51),o.zc(40),o.Qb(),o.Qb(),o.Rb(41,"div",49),o.Rb(42,"h6",50),o.zc(43,"Correo electr\xf3nico"),o.Qb(),o.Rb(44,"p",52),o.zc(45),o.Qb(),o.Qb(),o.Rb(46,"div",49),o.Rb(47,"h6",50),o.zc(48,"Tel\xe9fono fijo"),o.Qb(),o.Rb(49,"p",52),o.zc(50),o.Qb(),o.Qb(),o.Rb(51,"div",49),o.Rb(52,"h6",50),o.zc(53,"Celular"),o.Qb(),o.Rb(54,"p",52),o.zc(55),o.Qb(),o.Qb(),o.Rb(56,"div",49),o.Rb(57,"h6",50),o.zc(58,"Roles"),o.Qb(),o.Rb(59,"ul"),o.xc(60,mn,2,1,"li",36),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Ob()}if(2&e){var i=t.$implicit,r=o.ec(3);o.zb(6),o.Ac(i.id),o.zb(2),o.kc("result",i.username)("term",r.service.searchTerm),o.zb(2),o.kc("result",i.active?"Activo":"Inactivo")("term",r.service.searchTerm),o.zb(2),o.kc("result",o.hc(13,19,i.fIns,"dd/MM/yyyy HH:mm"))("term",r.service.searchTerm),o.zb(3),o.kc("result",o.hc(16,22,i.fAct,"dd/MM/yyyy HH:mm"))("term",r.service.searchTerm),o.zb(6),o.kc("ngIf",i.active),o.zb(1),o.kc("ngIf",!i.active),o.zb(1),o.kc("ngClass","id_"+i.id),o.zb(7),o.Ac(i.person.noCtrl),o.zb(5),o.Ac(i.person.nombres+" "+i.person.primerApellido+" "+i.person.segundoApellido),o.zb(5),o.Ac(i.person.curp),o.zb(5),o.Ac(i.person.mail),o.zb(5),o.Ac(i.person.tel),o.zb(5),o.Ac(i.person.cel),o.zb(5),o.kc("ngForOf",i.roles)}}function Rn(e,t){if(1&e&&(o.Rb(0,"tbody"),o.xc(1,vn,61,25,"ng-container",36),o.fc(2,"async"),o.Qb()),2&e){var n=o.ec(2);o.zb(1),o.kc("ngForOf",o.gc(2,1,n.users$))}}function kn(e,t){if(1&e&&(o.xc(0,Rn,3,3,"tbody",21),o.fc(1,"async")),2&e){var n=o.ec(),i=o.sc(52);o.kc("ngIf",o.gc(1,2,n.total$))("ngIfElse",i)}}function zn(e,t){1&e&&(o.Rb(0,"tbody"),o.Rb(1,"tr"),o.Rb(2,"th",57),o.Nb(3,"i",58),o.zc(4," No se encontr\xf3 informaci\xf3n "),o.Qb(),o.Qb(),o.Qb())}function yn(e,t){if(1&e){var n=o.Sb();o.Rb(0,"div",2),o.Rb(1,"ngb-pagination",59),o.bc("pageChange",function(e){return o.tc(n),o.ec().service.page=e}),o.fc(2,"async"),o.Qb(),o.Rb(3,"span",26),o.zc(4),o.fc(5,"async"),o.fc(6,"async"),o.fc(7,"async"),o.Qb(),o.Qb()}if(2&e){var i=o.ec();o.zb(1),o.kc("collectionSize",o.gc(2,6,i.total$))("page",i.service.page)("pageSize",i.service.pageSize),o.zb(3),o.Dc(" Mostrando ",i.service.page*i.service.pageSize-i.service.pageSize+1," al ",i.service.page*i.service.pageSize<=o.gc(5,8,i.total$)?i.service.page*i.service.pageSize:o.gc(6,10,i.total$)," de ",o.gc(7,12,i.total$)," registros")}}var Qn,xn=((Qn=function(){function e(t,i,r,c){n(this,e),this.service=t,this.store=i,this.handlerErrorsService=r,this.usersService=c,this._subs$=[],this.onSelected=new o.n,this.forceRefreshData=new S.a,this._autoCloseAlert=new S.a,this.alertMsg=null,this.users$=t.users$,this.total$=t.total$}return r(e,[{key:"ngOnInit",value:function(){var e=this;this._subs$.push(this._autoCloseAlert.pipe(Object(Me.a)(1e4)).subscribe(function(){e.alertMsg=null})),this._subs$.push(this.forceRefreshData.subscribe(function(t){return e.refreshTable(t)})),this._subs$.push(this.service.err$.subscribe(function(t){e.alertMsg=t?{type:"error",icon:"fa-info-circle",title:"Error",message:" ".concat(e.handlerErrorsService.parseMsgError(t)," </br> favor de intentarlo de nuevo. ")}:null}))}},{key:"ngOnDestroy",value:function(){this._subs$.forEach(function(e){try{e.unsubscribe()}catch(t){}})}},{key:"onSort",value:function(e){var t=e.column,n=e.direction;this.headers.forEach(function(e){e.sortable!==t&&(e.direction="")}),this.service.sortColumn=t,this.service.sortDirection=n}},{key:"toggleTableDetail",value:function(e,t){var n=$(".tableDetail.id_".concat(e)),i=$(t.currentTarget);n.hasClass("d-none")?(n.removeClass("d-none"),i.html('<i class="fa fa-minus-circle" aria-hidden="true"></i>'),i.removeClass("text-success"),i.addClass("text-warning")):(n.addClass("d-none"),i.html('<i class="fa fa-plus-circle" aria-hidden="true"></i>'),i.removeClass("text-warning"),i.addClass("text-success"))}},{key:"editRecord",value:function(e){this.store.dispatch(st.b({dataModel:e})),this.onSelected.emit(e)}},{key:"refreshTable",value:function(e){if(e.status){this.service.refreshTable();var t="Registro ";switch(e.action){case"add":t+="agregado";break;case"update":t+="actualizado"}t+=" correctamente",this.alertMsg={type:"success",icon:"fa-info-circle",title:"Acci\xf3n",message:t},this._autoCloseAlert.next(!0)}}},{key:"activeInactiveRecord",value:function(e,t){var n=this;this.alertMsg=null,en.a.fire({title:"Confirmar",text:(t?"Activar":"Desactivar")+" usuario",icon:"question",showCancelButton:!0,confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"}).then(function(i){i.isConfirmed&&n.activeInactiveAction({id:e,active:t})})}},{key:"activeInactiveAction",value:function(e){var t=this;try{this._subs$.push(this.usersService.edit(e).subscribe(function(e){t.refreshTable({status:!0,action:"update"})},function(e){t.alertMsg={type:"error",icon:"fa-info-circle",title:"Acci\xf3n",message:t.handlerErrorsService.parseMsgError(e)}}))}catch(n){this.alertMsg={type:"error",icon:"fa-info-circle",title:"Acci\xf3n",message:this.handlerErrorsService.parseMsgError(n)}}}}]),e}()).\u0275fac=function(e){return new(e||Qn)(o.Mb(tn),o.Mb(l.h),o.Mb(P.a),o.Mb(ot))},Qn.\u0275cmp=o.Gb({type:Qn,selectors:[["app-table-users"]],viewQuery:function(e,t){var n;1&e&&o.Ec(rn,1),2&e&&o.rc(n=o.cc())&&(t.headers=n)},inputs:{forceRefreshData:"forceRefreshData"},outputs:{onSelected:"onSelected"},features:[o.yb([tn,b.f])],decls:56,vars:24,consts:[[3,"type","dismissible",4,"ngIf"],[3,"type","closed",4,"ngIf"],[1,"d-flex","justify-content-between","p-2"],[1,"row"],[1,"col-"],["type","button","ngbTooltip","Actualizar lista de registros",1,"btn","btn-outline-primary",3,"click"],["aria-hidden","true",1,"fa","fa-refresh"],[1,"col-auto","form-group","form-inline"],["name","pageSize",1,"custom-select","mx-2",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],[1,"form-group","form-inline"],[1,"inner-addon","right-addon"],["class","fa fa-refresh fa-spin fa-fw text-warning p-0",4,"ngIf"],["type","text","name","searchTerm",1,"form-control","ml-2",3,"ngModel","ngModelChange"],[1,"table","table-striped","text-white"],["scope","col"],["scope","col","sortable","id",3,"sort"],["scope","col","sortable","username",3,"sort"],["scope","col","sortable","active",3,"sort"],["scope","col","sortable","fIns",3,"sort"],["scope","col","sortable","fAct",3,"sort"],[4,"ngIf","ngIfElse"],["renderData",""],["nodataResult",""],["class","d-flex justify-content-between p-2",4,"ngIf"],[3,"type","dismissible"],[1,"font-weight-bold"],["aria-hidden","true",3,"class",4,"ngIf"],[4,"ngIf"],["class","m-0 p-0",4,"ngIf"],["aria-hidden","true"],[1,"m-0","p-0"],[3,"type","closed"],[1,"fa","fa-refresh","fa-spin","fa-fw","text-warning","p-0"],["scope","row","colspan","7",1,"text-center"],[1,"fa","fa-cog","fa-spin","fa-3x","fa-fw",2,"vertical-align","middle"],[4,"ngFor","ngForOf"],[2,"width","1px"],["type","button","ngbTooltip","Mostrar detalle del registro",1,"btn","btn-link","text-success",3,"click"],["aria-hidden","true",1,"fa","fa-plus-circle"],["scope","row"],[3,"result","term"],["role","group","aria-label","",1,"btn-group"],["type","button","ngbTooltip","Editar registro",1,"btn","btn-secondary","w-btn-50px",3,"click"],["aria-hidden","true",1,"fa","fa-pencil-square-o"],["type","button","class","btn btn-danger w-btn-50px","ngbTooltip","Desactivar usuario",3,"click",4,"ngIf"],["type","button","class","btn btn-warning w-btn-50px","ngbTooltip","Desactivar usuario",3,"click",4,"ngIf"],[1,"tableDetail","d-none",3,"ngClass"],["colspan","7",1,"_d-none"],[1,"col-12","col-md-4","py-2"],[1,"tableDetailSccionTitle"],[1,"m-0","p-0","pl-2"],[1,"m-0","p-0","pl-2","text-lowercase"],["type","button","ngbTooltip","Desactivar usuario",1,"btn","btn-danger","w-btn-50px",3,"click"],["aria-hidden","true",1,"fa","fa-lock"],["type","button","ngbTooltip","Desactivar usuario",1,"btn","btn-warning","w-btn-50px",3,"click"],["aria-hidden","true",1,"fa","fa-unlock"],["scope","row","colspan","7",1,"text-center","text-danger"],["aria-hidden","true",1,"fa","fa-info-circle","pr-2"],[3,"collectionSize","page","pageSize","pageChange"]],template:function(e,t){if(1&e&&(o.xc(0,on,5,5,"ngb-alert",0),o.fc(1,"async"),o.xc(2,dn,5,4,"ngb-alert",1),o.fc(3,"async"),o.Rb(4,"form"),o.Rb(5,"div",2),o.Rb(6,"div",3),o.Rb(7,"div",4),o.Rb(8,"button",5),o.bc("click",function(){return t.service.refreshTable()}),o.Nb(9,"i",6),o.Qb(),o.Qb(),o.Rb(10,"div",7),o.Rb(11,"span"),o.zc(12,"Mostrar"),o.Qb(),o.Rb(13,"select",8),o.bc("ngModelChange",function(e){return t.service.pageSize=e}),o.Rb(14,"option",9),o.zc(15,"10"),o.Qb(),o.Rb(16,"option",9),o.zc(17,"30"),o.Qb(),o.Rb(18,"option",9),o.zc(19,"50"),o.Qb(),o.Rb(20,"option",9),o.zc(21,"100"),o.Qb(),o.Qb(),o.Rb(22,"span"),o.zc(23,"registros"),o.Qb(),o.Qb(),o.Qb(),o.Rb(24,"div",10),o.zc(25," Buscar: "),o.Rb(26,"div",11),o.xc(27,fn,1,0,"i",12),o.fc(28,"async"),o.Rb(29,"input",13),o.bc("ngModelChange",function(e){return t.service.searchTerm=e}),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Rb(30,"table",14),o.Rb(31,"thead"),o.Rb(32,"tr"),o.Rb(33,"th",15),o.zc(34,"\xa0"),o.Qb(),o.Rb(35,"th",16),o.bc("sort",function(e){return t.onSort(e)}),o.zc(36,"#"),o.Qb(),o.Rb(37,"th",17),o.bc("sort",function(e){return t.onSort(e)}),o.zc(38,"Nombre de usuario"),o.Qb(),o.Rb(39,"th",18),o.bc("sort",function(e){return t.onSort(e)}),o.zc(40,"Activo"),o.Qb(),o.Rb(41,"th",19),o.bc("sort",function(e){return t.onSort(e)}),o.zc(42,"Fecha de registro"),o.Qb(),o.Rb(43,"th",20),o.bc("sort",function(e){return t.onSort(e)}),o.zc(44,"Fecha de actualizaci\xf3n"),o.Qb(),o.Rb(45,"th",15),o.zc(46,"\xa0"),o.Qb(),o.Qb(),o.Qb(),o.xc(47,hn,6,0,"tbody",21),o.fc(48,"async"),o.xc(49,kn,2,4,"ng-template",null,22,o.yc),o.xc(51,zn,5,0,"ng-template",null,23,o.yc),o.Qb(),o.xc(53,yn,8,14,"div",24),o.fc(54,"async"),o.fc(55,"async"),o.Qb()),2&e){var n=o.sc(50);o.kc("ngIf",o.gc(1,12,t.service.err$)),o.zb(2),o.kc("ngIf",t.alertMsg&&!o.gc(3,14,t.service.err$)),o.zb(11),o.kc("ngModel",t.service.pageSize),o.zb(1),o.kc("ngValue",10),o.zb(2),o.kc("ngValue",30),o.zb(2),o.kc("ngValue",50),o.zb(2),o.kc("ngValue",100),o.zb(7),o.kc("ngIf",o.gc(28,16,t.service.loading$)),o.zb(2),o.kc("ngModel",t.service.searchTerm),o.zb(18),o.kc("ngIf",o.gc(48,18,t.service.loading$))("ngIfElse",n),o.zb(6),o.kc("ngIf",0==o.gc(54,20,t.service.loading$)&&o.gc(55,22,t.total$)>0)}},directives:[b.n,C.r,C.j,C.k,M.n,C.o,C.i,C.l,C.m,C.q,C.b,rn,M.b,b.m,M.d,b.l,M.g],pipes:[b.b,b.e],styles:['.w-btn-50px[_ngcontent-%COMP%]{width:50px}th[sortable][_ngcontent-%COMP%]{cursor:pointer;-moz-user-select:none;user-select:none;-webkit-user-select:none}th[sortable].asc[_ngcontent-%COMP%]:before, th[sortable].desc[_ngcontent-%COMP%]:before{font-family:FontAwesome;font-weight:900;content:"\\f063";display:block;float:left;margin-left:-30px;color:#fff}th[sortable].desc[_ngcontent-%COMP%]:before{transform:rotate(180deg);-ms-transform:rotate(180deg)}ngbd-table-complete[_ngcontent-%COMP%]   span.ngb-highlight[_ngcontent-%COMP%], ngbd-table-filtering[_ngcontent-%COMP%]   span.ngb-highlight[_ngcontent-%COMP%]{background-color:#ff0}.inner-addon[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin:12px 0 0!important}  body:not(.om) .table.text-white{color:#333!important}  body.om .table-striped tbody tr:nth-of-type(odd){background-color:hsla(0,0%,100%,.11)}']}),Qn);function wn(e,t){if(1&e&&(o.Rb(0,"h2",8),o.Nb(1,"i",9),o.zc(2),o.Qb()),2&e){var n=o.ec();o.zb(1),o.kc("ngClass",null==n.titlePageHeader?null:n.titlePageHeader.icon),o.zb(1),o.Bc(" ",n.titlePageHeader.title," ")}}function Mn(e,t){if(1&e){var n=o.Sb();o.Rb(0,"div"),o.Rb(1,"button",14),o.bc("click",function(){return o.tc(n),o.ec(2).newRecord()}),o.Nb(2,"i",15),o.zc(3," Nuevo"),o.Qb(),o.Qb()}}function Sn(e,t){if(1&e&&(o.Rb(0,"div",10),o.Rb(1,"button",11),o.Rb(2,"h5"),o.Nb(3,"i",12),o.zc(4," Formulario de registro"),o.Qb(),o.Qb(),o.xc(5,Mn,4,0,"div",13),o.fc(6,"async"),o.Qb()),2&e){var n=o.ec();o.zb(5),o.kc("ngIf",o.gc(6,1,n.editMode))}}function In(e,t){if(1&e){var n=o.Sb();o.Rb(0,"app-form-users",16),o.bc("onAddorEdit",function(e){return o.tc(n),o.ec().refreshControls(e)}),o.Qb()}if(2&e){var i=o.ec();o.kc("editMode",i.editMode)}}function Cn(e,t){1&e&&(o.Rb(0,"h5"),o.Nb(1,"i",17),o.zc(2," Lista de registros"),o.Qb())}function _n(e,t){if(1&e){var n=o.Sb();o.Rb(0,"app-table-users",18),o.bc("onSelected",function(e){return o.tc(n),o.ec().recordSelected(e)}),o.Qb()}if(2&e){var i=o.ec();o.kc("forceRefreshData",i.refreshData)}}var $n,En,An=(($n=function(){function e(t,i){var r=this;n(this,e),this.store=t,this.router=i,this._subs$=[],this.activeIds="",this.editMode=new S.a,this.refreshData=new S.a,this._subs$.push(this.store.select("currentPage").subscribe(function(e){r.titlePageHeader=e})),this.activeIds="static-2",this.store.dispatch(s.a({current:{icon:"fa-table",title:"Cat\xe1logo de Usuarios",description:"",url:this.router.url}}))}return r(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this._subs$.forEach(function(e){try{e.unsubscribe()}catch(t){}})}},{key:"newRecord",value:function(){this.store.dispatch(st.b({dataModel:null})),this.editMode.next(!1)}},{key:"recordSelected",value:function(e){this.store.dispatch(st.b({dataModel:e})),this.dtElement.expand("static-1"),this.editMode.next(!0)}},{key:"refreshControls",value:function(e){this.store.dispatch(st.b({dataModel:null})),this.dtElement.expand("static-2"),this.editMode.next(!1),this.refreshData.next(e)}}]),e}()).\u0275fac=function(e){return new(e||$n)(o.Mb(l.h),o.Mb(a.b))},$n.\u0275cmp=o.Gb({type:$n,selectors:[["app-users"]],viewQuery:function(e,t){var n;1&e&&o.Ec(M.a,1),2&e&&o.rc(n=o.cc())&&(t.dtElement=n.first)},decls:9,vars:4,consts:[[1,"extendWorkJob","d-flex","flex-column","justify-content-center","px-5"],["class","pageHeader",4,"ngIf"],["ngbAccordion","",3,"closeOthers","activeIds","destroyOnHide"],["id","static-1"],["ngbPanelHeader",""],["ngbPanelContent",""],["id","static-2"],["ngbPanelTitle",""],[1,"pageHeader"],["aria-hidden","true",1,"fa",3,"ngClass"],[1,"d-flex","align-items-center","justify-content-between"],["ngbPanelToggle","",1,"btn","btn-link"],["aria-hidden","true",1,"fa","fa-newspaper-o"],[4,"ngIf"],[1,"btn","btn-sm","btn-outline-primary","ml-2",3,"click"],["aria-hidden","true",1,"fa","fa-plus"],[3,"editMode","onAddorEdit"],["aria-hidden","true",1,"fa","fa-th"],[3,"forceRefreshData","onSelected"]],template:function(e,t){1&e&&(o.Rb(0,"div",0),o.xc(1,wn,3,2,"h2",1),o.Rb(2,"ngb-accordion",2),o.Rb(3,"ngb-panel",3),o.xc(4,Sn,7,3,"ng-template",4),o.xc(5,In,1,1,"ng-template",5),o.Qb(),o.Rb(6,"ngb-panel",6),o.xc(7,Cn,3,0,"ng-template",7),o.xc(8,_n,1,1,"ng-template",5),o.Qb(),o.Qb(),o.Qb()),2&e&&(o.zb(1),o.kc("ngIf",t.titlePageHeader),o.zb(1),o.kc("closeOthers",!0)("activeIds",t.activeIds)("destroyOnHide",!1))},directives:[b.n,M.a,M.h,M.j,M.i,M.k,b.l,M.l,Xt,xn],pipes:[b.b],styles:[".card{background-color:transparent!important}  .card .card-header{background-color:hsla(0,0%,100%,.050980392156862744)}  .card .card-header button{width:100%;text-align:left}  .btn-link{color:#fff;text-decoration:none!important}  .btn-link:hover,   body:not(.om) .btn-link:hover{color:#0056b3;text-decoration:none!important}  body:not(.om) .btn-link{color:#333;text-decoration:none!important}"]}),$n),On=c("cKT1"),Nn=((En=function(){function e(t){n(this,e),this.http=t}return r(e,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return this.http.get("".concat(A.a.apis.recon.url,"/admin/crimes?skip=").concat(e,"&take=").concat(t,"&filter=").concat(n)).pipe(Object(_.a)(function(e){if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(E.a)(function(e){}))}},{key:"add",value:function(e){return this.http.post("".concat(A.a.apis.recon.url,"/admin/crime"),e).pipe(Object(_.a)(function(e){if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(E.a)(function(e){}))}},{key:"edit",value:function(e){return this.http.patch("".concat(A.a.apis.recon.url,"/admin/crime"),e).pipe(Object(_.a)(function(e){if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(E.a)(function(e){}))}}]),e}()).\u0275fac=function(e){return new(e||En)(o.Yb(O.b))},En.\u0275prov=o.Ib({token:En,factory:En.\u0275fac,providedIn:"root"}),En);function Pn(e,t){if(1&e&&o.Nb(0,"i",20),2&e){var n=o.ec(2);o.Cb("fa ",n.alertMsg.icon," mr-2")}}function Dn(e,t){if(1&e&&(o.Rb(0,"span"),o.zc(1),o.Qb()),2&e){var n=o.ec(2);o.zb(1),o.Ac(n.alertMsg.title)}}function Tn(e,t){if(1&e&&(o.Rb(0,"p",21),o.zc(1),o.Qb()),2&e){var n=o.ec(2);o.zb(1),o.Ac(n.alertMsg.message)}}function Ln(e,t){if(1&e&&(o.Rb(0,"ngb-alert",15),o.Rb(1,"h5",16),o.xc(2,Pn,1,3,"i",17),o.xc(3,Dn,2,1,"span",18),o.Qb(),o.xc(4,Tn,2,1,"p",19),o.Qb()),2&e){var n=o.ec();o.kc("type",n.alertMsg.type)("dismissible",!1),o.zb(2),o.kc("ngIf",n.alertMsg.icon),o.zb(1),o.kc("ngIf",n.alertMsg.title),o.zb(1),o.kc("ngIf",n.alertMsg.message)}}function jn(e,t){1&e&&o.Nb(0,"i",22)}function qn(e,t){1&e&&o.Nb(0,"i",23)}function Vn(e,t){1&e&&(o.Rb(0,"span"),o.zc(1,"Informaci\xf3n requerida"),o.Qb())}function Hn(e,t){1&e&&(o.Rb(0,"span"),o.zc(1,"La longitud m\xednima es de 4 caracteres"),o.Qb())}function Fn(e,t){1&e&&(o.Rb(0,"span"),o.zc(1,"La longitud m\xe1xima es de 100 caracteres"),o.Qb())}function Gn(e,t){if(1&e&&(o.Rb(0,"div",24),o.Nb(1,"i",25),o.xc(2,Vn,2,0,"span",18),o.xc(3,Hn,2,0,"span",18),o.xc(4,Fn,2,0,"span",18),o.Qb()),2&e){var n=o.ec();o.zb(2),o.kc("ngIf",n.f.descrip.errors.required),o.zb(1),o.kc("ngIf",n.f.descrip.errors.minlength),o.zb(1),o.kc("ngIf",n.f.descrip.errors.maxlength)}}function Bn(e,t){1&e&&o.Nb(0,"i",26)}function Un(e,t){1&e&&o.Nb(0,"span",27)}var Yn,Jn,Wn=function(e){return{errBorder:e}},Kn=((Jn=function(){function e(t,i,r,c){n(this,e),this.fb=t,this.store=i,this.crimesService=r,this.handlerErrorsService=c,this._subs$=[],this.onAddorEdit=new o.n,this.frmgp=this.fb.group({id:[""],descrip:["",[C.p.required,C.p.minLength(4),C.p.maxLength(100)]]}),this.formSubmitted=!1,this.withErr=!1,this.alertMsg=null}return r(e,[{key:"ngOnInit",value:function(){var e=this;this._subs$.push(this.store.select("catalogCrimes").subscribe(function(t){return e.editModel=t.selected})),this._subs$.push(this.editMode.subscribe(function(t){e._populateFormEditMode(t)}))}},{key:"ngOnDestroy",value:function(){this._subs$.forEach(function(e){try{e.unsubscribe()}catch(t){}})}},{key:"f",get:function(){return this.frmgp.controls}},{key:"_populateFormEditMode",value:function(e){var t,n;this.withErr=!1,this.formSubmitted=!1,this.alertMsg=null,this.f.id.patchValue(null===(t=this.editModel)||void 0===t?void 0:t.id),this.f.descrip.patchValue(null===(n=this.editModel)||void 0===n?void 0:n.descrip),$("form input:first").select()}},{key:"onSubmit",value:function(){this.withErr=!1,this.formSubmitted=!0,this.alertMsg=null;try{if(!this.frmgp.valid)throw new Error("Se encontraron errores de formulario");this.editModel?this.editAction():this.addAction()}catch(e){this.showAlert(e.message,"danger","fa-times-circle-o","Error"),this.withErr=!0}}},{key:"showAlert",value:function(e,t,n,i){this.alertMsg={type:t,icon:n,title:i,message:e}}},{key:"addAction",value:function(){var e=this;try{this._subs$.push(this.crimesService.add(this.frmgp.value).subscribe(function(t){e.onAddorEdit.emit({status:!0,action:"add"})},function(t){e.showAlert(e.handlerErrorsService.parseMsgError(t),"danger","fa-times-circle-o","Error"),e.withErr=!0}))}catch(t){this.showAlert(this.handlerErrorsService.parseMsgError(t),"danger","fa-times-circle-o","Error"),this.withErr=!0}}},{key:"editAction",value:function(){var e=this;try{this._subs$.push(this.crimesService.edit(this.frmgp.value).subscribe(function(t){e.onAddorEdit.emit({status:!0,action:"update"})},function(t){e.showAlert(e.handlerErrorsService.parseMsgError(t),"danger","fa-times-circle-o","Error"),e.withErr=!0}))}catch(t){this.showAlert(this.handlerErrorsService.parseMsgError(t),"danger","fa-times-circle-o","Error"),this.withErr=!0}}}]),e}()).\u0275fac=function(e){return new(e||Jn)(o.Mb(C.c),o.Mb(l.h),o.Mb(Nn),o.Mb(P.a))},Jn.\u0275cmp=o.Gb({type:Jn,selectors:[["app-form-crimes"]],inputs:{editMode:"editMode"},outputs:{onAddorEdit:"onAddorEdit"},decls:18,vars:12,consts:[["autocomplete","off",3,"formGroup","ngSubmit"],[3,"type","dismissible",4,"ngIf"],[1,"form-row"],[1,"col-12","col-md-4","py-2"],[1,"inner-addon","right-addon"],["class","fa fa-check-circle-o text-success","aria-hidden","true",4,"ngIf"],["class","fa fa-times-circle-o text-danger","aria-hidden","true",4,"ngIf"],["id","noctrl","type","text","placeholder","Descripci\xf3n","formControlName","descrip",1,"form-control",3,"ngClass"],["class","text-danger",4,"ngIf"],[1,"text-right"],["ngClass","btn-outline-success",1,"btn",3,"disabled"],["class","fa fa-pencil-square-o","aria-hidden","true","type","submit",4,"ngIf"],["class","spinner-grow spinner-grow-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"ml-2"],["type","hidden","id","id","name","id","formControlName","id"],[3,"type","dismissible"],[1,"font-weight-bold"],["aria-hidden","true",3,"class",4,"ngIf"],[4,"ngIf"],["class","m-0 p-0",4,"ngIf"],["aria-hidden","true"],[1,"m-0","p-0"],["aria-hidden","true",1,"fa","fa-check-circle-o","text-success"],["aria-hidden","true",1,"fa","fa-times-circle-o","text-danger"],[1,"text-danger"],["aria-hidden","true",1,"fa","fa-exclamation-triangle","mr-2"],["aria-hidden","true","type","submit",1,"fa","fa-pencil-square-o"],["role","status","aria-hidden","true",1,"spinner-grow","spinner-grow-sm"]],template:function(e,t){1&e&&(o.Rb(0,"form",0),o.bc("ngSubmit",function(){return t.onSubmit()}),o.xc(1,Ln,5,5,"ngb-alert",1),o.Rb(2,"div",2),o.Rb(3,"div",3),o.Rb(4,"label"),o.zc(5,"Descripci\xf3n"),o.Qb(),o.Rb(6,"div",4),o.xc(7,jn,1,0,"i",5),o.xc(8,qn,1,0,"i",6),o.Nb(9,"input",7),o.Qb(),o.xc(10,Gn,5,3,"div",8),o.Qb(),o.Qb(),o.Rb(11,"div",9),o.Rb(12,"button",10),o.xc(13,Bn,1,0,"i",11),o.xc(14,Un,1,0,"span",12),o.Rb(15,"span",13),o.zc(16),o.Qb(),o.Qb(),o.Qb(),o.Nb(17,"input",14),o.Qb()),2&e&&(o.kc("formGroup",t.frmgp),o.zb(1),o.kc("ngIf",t.alertMsg),o.zb(6),o.kc("ngIf",t.formSubmitted&&t.f.descrip.valid),o.zb(1),o.kc("ngIf",t.formSubmitted&&t.f.descrip.invalid),o.zb(1),o.kc("ngClass",o.oc(10,Wn,t.formSubmitted&&t.f.descrip.invalid)),o.zb(1),o.kc("ngIf",t.formSubmitted&&t.f.descrip.invalid),o.zb(2),o.kc("disabled",t.formSubmitted&&!t.withErr),o.zb(1),o.kc("ngIf",!t.formSubmitted||t.withErr),o.zb(1),o.kc("ngIf",t.formSubmitted&&!t.withErr),o.zb(2),o.Bc(" ",!t.formSubmitted||t.withErr?t.editModel?"Editar":"Registrar":"Procesando..."," "))},directives:[C.r,C.j,C.e,b.n,C.b,C.i,C.d,b.l,M.b],styles:[""]}),Jn),Xn=((Yn=function(){function t(e,i,r){var c=this;n(this,t),this.pipe=e,this.crimesService=i,this.store=r,this._subs$=[],this._loading$=new Se.a(!0),this._err$=new Se.a(null),this._search$=new S.a,this._crimes$=new Se.a([]),this._total$=new Se.a(0),this._state={page:1,pageSize:10,searchTerm:"",sortColumn:"",sortDirection:""},this._subs$.push(this._search$.pipe(Object(E.a)(function(){c._err$.next(null),c._loading$.next(!0)}),Object(Me.a)(500),Object(Ce.a)(function(){return c._dataList()}),Object(_.a)(function(e){return c._formating(e)}),Object(E.a)(function(){return c._loading$.next(!1)})).subscribe(function(e){c._crimes$.next(e.data),c._total$.next(e.total)})),this._search$.next()}return r(t,[{key:"ngOnDestroy",value:function(){this._subs$.forEach(function(e){try{e.unsubscribe()}catch(t){}})}},{key:"crimes$",get:function(){return this._crimes$.asObservable()}},{key:"total$",get:function(){return this._total$.asObservable()}},{key:"loading$",get:function(){return this._loading$.asObservable()}},{key:"err$",get:function(){return this._err$.asObservable()}},{key:"page",get:function(){return this._state.page},set:function(e){this._set({page:e})}},{key:"pageSize",get:function(){return this._state.pageSize},set:function(e){this._set({pageSize:e})}},{key:"searchTerm",get:function(){return this._state.searchTerm},set:function(e){this._set({searchTerm:e})}},{key:"sortColumn",set:function(e){this._set({sortColumn:e})}},{key:"sortDirection",set:function(e){this._set({sortDirection:e})}},{key:"refreshTable",value:function(){this._search$.next()}},{key:"_set",value:function(e){Object.assign(this._state,e),this._search$.next()}},{key:"_dataList",value:function(){var e=this,t=this._state.searchTerm;return this.crimesService.data(null,null,t).pipe(Object(_e.a)(function(t){return e._err$.next(t),Object(Ie.a)([])}))}},{key:"_formating",value:function(t){var n,i,r,c=this,a=this._state,s=a.searchTerm,o=a.sortColumn,l=a.sortDirection,b=a.pageSize,u=a.page,d=t;(o||l)&&(n=d,i=o,d=""===(r=l)||""===i?n:e(n).sort(function(e,t){var n,c,a=(n=e[i])<(c=t[i])?-1:n>c?1:0;return"asc"===r?a:-a})),s&&(d=d.filter(function(e){return function(e,t,n){return n.transform(e.id).includes(t.toLowerCase())||e.fIns.toString().includes(t.toLowerCase())||e.fAct.toString().includes(t.toLowerCase())||e.descrip.toLowerCase().includes(t.toLowerCase())}(e,s,c.pipe)}));var f=d.length;return d=d.slice((u-1)*b,(u-1)*b+b),this.store.dispatch(On.a({data:d})),{data:d,total:f}}}]),t}()).\u0275fac=function(e){return new(e||Yn)(o.Yb(b.f),o.Yb(Nn),o.Yb(l.h))},Yn.\u0275prov=o.Ib({token:Yn,factory:Yn.\u0275fac,providedIn:"root"}),Yn),Zn={asc:"desc",desc:"","":"asc"},ei=function(){var e=function(){function e(){n(this,e),this.sortable="",this.direction="",this.sort=new o.n}return r(e,[{key:"rotate",value:function(){this.direction=Zn[this.direction],this.sort.emit({column:this.sortable,direction:this.direction})}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=o.Hb({type:e,selectors:[["th","sortable",""]],hostVars:4,hostBindings:function(e,t){1&e&&o.bc("click",function(){return t.rotate()}),2&e&&o.Eb("asc","asc"===t.direction)("desc","desc"===t.direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sort:"sort"}}),e}();function ti(e,t){if(1&e&&o.Nb(0,"i",29),2&e){var n=o.ec(2);o.Cb("fa ",n.alertMsg.icon," mr-2")}}function ni(e,t){if(1&e&&(o.Rb(0,"span"),o.zc(1),o.Qb()),2&e){var n=o.ec(2);o.zb(1),o.Ac(n.alertMsg.title)}}function ii(e,t){if(1&e&&(o.Rb(0,"p",30),o.zc(1),o.Qb()),2&e){var n=o.ec(2);o.zb(1),o.Ac(n.alertMsg.message)}}function ri(e,t){if(1&e&&(o.Rb(0,"ngb-alert",24),o.Rb(1,"h5",25),o.xc(2,ti,1,3,"i",26),o.xc(3,ni,2,1,"span",27),o.Qb(),o.xc(4,ii,2,1,"p",28),o.Qb()),2&e){var n=o.ec();o.kc("type","danger")("dismissible",!1),o.zb(2),o.kc("ngIf",n.alertMsg.icon),o.zb(1),o.kc("ngIf",n.alertMsg.title),o.zb(1),o.kc("ngIf",n.alertMsg.message)}}function ci(e,t){if(1&e&&o.Nb(0,"i",29),2&e){var n=o.ec(2);o.Cb("fa ",n.alertMsg.icon," mr-2")}}function ai(e,t){if(1&e&&(o.Rb(0,"span"),o.zc(1),o.Qb()),2&e){var n=o.ec(2);o.zb(1),o.Ac(n.alertMsg.title)}}function si(e,t){if(1&e&&(o.Rb(0,"p",30),o.zc(1),o.Qb()),2&e){var n=o.ec(2);o.zb(1),o.Ac(n.alertMsg.message)}}function oi(e,t){if(1&e){var n=o.Sb();o.Rb(0,"ngb-alert",31),o.bc("closed",function(){return o.tc(n),o.ec().alertMsg=null}),o.Rb(1,"h5",25),o.xc(2,ci,1,3,"i",26),o.xc(3,ai,2,1,"span",27),o.Qb(),o.xc(4,si,2,1,"p",28),o.Qb()}if(2&e){var i=o.ec();o.kc("type",i.alertMsg.type),o.zb(2),o.kc("ngIf",i.alertMsg.icon),o.zb(1),o.kc("ngIf",i.alertMsg.title),o.zb(1),o.kc("ngIf",i.alertMsg.message)}}function li(e,t){1&e&&o.Nb(0,"i",32)}function bi(e,t){1&e&&(o.Rb(0,"tbody"),o.Rb(1,"tr"),o.Rb(2,"th",33),o.Nb(3,"i",34),o.Rb(4,"span"),o.zc(5,"Actualizndo informaci\xf3n..."),o.Qb(),o.Qb(),o.Qb(),o.Qb())}function ui(e,t){if(1&e){var n=o.Sb();o.Pb(0),o.Rb(1,"tr"),o.Rb(2,"th",36),o.zc(3),o.Qb(),o.Rb(4,"td"),o.Nb(5,"ngb-highlight",37),o.Qb(),o.Rb(6,"td"),o.Nb(7,"ngb-highlight",37),o.fc(8,"date"),o.Qb(),o.Rb(9,"td"),o.Nb(10,"ngb-highlight",37),o.fc(11,"date"),o.Qb(),o.Rb(12,"td",38),o.Rb(13,"div",39),o.Rb(14,"button",40),o.bc("click",function(){o.tc(n);var e=t.$implicit;return o.ec(3).editRecord(e)}),o.Nb(15,"i",41),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Ob()}if(2&e){var i=t.$implicit,r=o.ec(3);o.zb(3),o.Ac(i.id),o.zb(2),o.kc("result",i.descrip)("term",r.service.searchTerm),o.zb(2),o.kc("result",o.hc(8,7,i.fIns,"dd/MM/yyyy HH:mm"))("term",r.service.searchTerm),o.zb(3),o.kc("result",o.hc(11,10,i.fAct,"dd/MM/yyyy HH:mm"))("term",r.service.searchTerm)}}function di(e,t){if(1&e&&(o.Rb(0,"tbody"),o.xc(1,ui,16,13,"ng-container",35),o.fc(2,"async"),o.Qb()),2&e){var n=o.ec(2);o.zb(1),o.kc("ngForOf",o.gc(2,1,n.crimes$))}}function fi(e,t){if(1&e&&(o.xc(0,di,3,3,"tbody",20),o.fc(1,"async")),2&e){var n=o.ec(),i=o.sc(48);o.kc("ngIf",o.gc(1,2,n.total$))("ngIfElse",i)}}function hi(e,t){1&e&&(o.Rb(0,"tbody"),o.Rb(1,"tr"),o.Rb(2,"th",42),o.Nb(3,"i",43),o.zc(4," No se encontr\xf3 informaci\xf3n "),o.Qb(),o.Qb(),o.Qb())}function pi(e,t){if(1&e){var n=o.Sb();o.Rb(0,"div",2),o.Rb(1,"ngb-pagination",44),o.bc("pageChange",function(e){return o.tc(n),o.ec().service.page=e}),o.fc(2,"async"),o.Qb(),o.Rb(3,"span",25),o.zc(4),o.fc(5,"async"),o.fc(6,"async"),o.fc(7,"async"),o.Qb(),o.Qb()}if(2&e){var i=o.ec();o.zb(1),o.kc("collectionSize",o.gc(2,6,i.total$))("page",i.service.page)("pageSize",i.service.pageSize),o.zb(3),o.Dc(" Mostrando ",i.service.page*i.service.pageSize-i.service.pageSize+1," al ",i.service.page*i.service.pageSize<=o.gc(5,8,i.total$)?i.service.page*i.service.pageSize:o.gc(6,10,i.total$)," de ",o.gc(7,12,i.total$)," registros")}}var gi,mi=((gi=function(){function e(t,i,r){n(this,e),this.service=t,this.store=i,this.handlerErrorsService=r,this._subs$=[],this.onSelected=new o.n,this.forceRefreshData=new S.a,this._autoCloseAlert=new S.a,this.alertMsg=null,this.crimes$=t.crimes$,this.total$=t.total$}return r(e,[{key:"ngOnInit",value:function(){var e=this;this._subs$.push(this._autoCloseAlert.pipe(Object(Me.a)(1e4)).subscribe(function(){e.alertMsg=null})),this._subs$.push(this.forceRefreshData.subscribe(function(t){return e.refreshTable(t)})),this._subs$.push(this.service.err$.subscribe(function(t){e.alertMsg=t?{type:"error",icon:"fa-info-circle",title:"Error",message:" ".concat(e.handlerErrorsService.parseMsgError(t)," </br> favor de intentarlo de nuevo. ")}:null}))}},{key:"ngOnDestroy",value:function(){this._subs$.forEach(function(e){try{e.unsubscribe()}catch(t){}})}},{key:"onSort",value:function(e){var t=e.column,n=e.direction;this.headers.forEach(function(e){e.sortable!==t&&(e.direction="")}),this.service.sortColumn=t,this.service.sortDirection=n}},{key:"toggleTableDetail",value:function(e,t){var n=$(".tableDetail.id_".concat(e)),i=$(t.currentTarget);n.hasClass("d-none")?(n.removeClass("d-none"),i.html('<i class="fa fa-minus-circle" aria-hidden="true"></i>'),i.removeClass("text-success"),i.addClass("text-warning")):(n.addClass("d-none"),i.html('<i class="fa fa-plus-circle" aria-hidden="true"></i>'),i.removeClass("text-warning"),i.addClass("text-success"))}},{key:"editRecord",value:function(e){this.store.dispatch(On.b({dataModel:e})),this.onSelected.emit(e)}},{key:"refreshTable",value:function(e){if(e.status){this.service.refreshTable();var t="Registro ";switch(e.action){case"add":t+="agregado";break;case"update":t+="actualizado"}t+=" correctamente",this.alertMsg={type:"success",icon:"fa-info-circle",title:"Acci\xf3n",message:t},this._autoCloseAlert.next(!0)}}}]),e}()).\u0275fac=function(e){return new(e||gi)(o.Mb(Xn),o.Mb(l.h),o.Mb(P.a))},gi.\u0275cmp=o.Gb({type:gi,selectors:[["app-table-crimes"]],viewQuery:function(e,t){var n;1&e&&o.Ec(ei,1),2&e&&o.rc(n=o.cc())&&(t.headers=n)},inputs:{forceRefreshData:"forceRefreshData"},outputs:{onSelected:"onSelected"},features:[o.yb([Xn,b.f])],decls:52,vars:24,consts:[[3,"type","dismissible",4,"ngIf"],[3,"type","closed",4,"ngIf"],[1,"d-flex","justify-content-between","p-2"],[1,"row"],[1,"col-"],["type","button","ngbTooltip","Actualizar lista de registros",1,"btn","btn-outline-primary",3,"click"],["aria-hidden","true",1,"fa","fa-refresh"],[1,"col-auto","form-group","form-inline"],["name","pageSize",1,"custom-select","mx-2",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],[1,"form-group","form-inline"],[1,"inner-addon","right-addon"],["class","fa fa-refresh fa-spin fa-fw text-warning p-0",4,"ngIf"],["type","text","name","searchTerm",1,"form-control","ml-2",3,"ngModel","ngModelChange"],[1,"table","table-striped","text-white"],["scope","col","sortable","id",3,"sort"],["scope","col","sortable","noCtrl",3,"sort"],["scope","col","sortable","fIns",3,"sort"],["scope","col","sortable","fAct",3,"sort"],["scope","col"],[4,"ngIf","ngIfElse"],["renderData",""],["nodataResult",""],["class","d-flex justify-content-between p-2",4,"ngIf"],[3,"type","dismissible"],[1,"font-weight-bold"],["aria-hidden","true",3,"class",4,"ngIf"],[4,"ngIf"],["class","m-0 p-0",4,"ngIf"],["aria-hidden","true"],[1,"m-0","p-0"],[3,"type","closed"],[1,"fa","fa-refresh","fa-spin","fa-fw","text-warning","p-0"],["scope","row","colspan","4",1,"text-center"],[1,"fa","fa-cog","fa-spin","fa-3x","fa-fw",2,"vertical-align","middle"],[4,"ngFor","ngForOf"],["scope","row"],[3,"result","term"],[2,"width","1px"],["role","group","aria-label","",1,"btn-group"],["type","button","ngbTooltip","Editar registro",1,"btn","btn-secondary","w-btn-50px",3,"click"],["aria-hidden","true",1,"fa","fa-pencil-square-o"],["scope","row","colspan","4",1,"text-center","text-danger"],["aria-hidden","true",1,"fa","fa-info-circle","pr-2"],[3,"collectionSize","page","pageSize","pageChange"]],template:function(e,t){if(1&e&&(o.xc(0,ri,5,5,"ngb-alert",0),o.fc(1,"async"),o.xc(2,oi,5,4,"ngb-alert",1),o.fc(3,"async"),o.Rb(4,"form"),o.Rb(5,"div",2),o.Rb(6,"div",3),o.Rb(7,"div",4),o.Rb(8,"button",5),o.bc("click",function(){return t.service.refreshTable()}),o.Nb(9,"i",6),o.Qb(),o.Qb(),o.Rb(10,"div",7),o.Rb(11,"span"),o.zc(12,"Mostrar"),o.Qb(),o.Rb(13,"select",8),o.bc("ngModelChange",function(e){return t.service.pageSize=e}),o.Rb(14,"option",9),o.zc(15,"10"),o.Qb(),o.Rb(16,"option",9),o.zc(17,"30"),o.Qb(),o.Rb(18,"option",9),o.zc(19,"50"),o.Qb(),o.Rb(20,"option",9),o.zc(21,"100"),o.Qb(),o.Qb(),o.Rb(22,"span"),o.zc(23,"registros"),o.Qb(),o.Qb(),o.Qb(),o.Rb(24,"div",10),o.zc(25," Buscar: "),o.Rb(26,"div",11),o.xc(27,li,1,0,"i",12),o.fc(28,"async"),o.Rb(29,"input",13),o.bc("ngModelChange",function(e){return t.service.searchTerm=e}),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Rb(30,"table",14),o.Rb(31,"thead"),o.Rb(32,"tr"),o.Rb(33,"th",15),o.bc("sort",function(e){return t.onSort(e)}),o.zc(34,"#"),o.Qb(),o.Rb(35,"th",16),o.bc("sort",function(e){return t.onSort(e)}),o.zc(36,"Descripci\xf3n"),o.Qb(),o.Rb(37,"th",17),o.bc("sort",function(e){return t.onSort(e)}),o.zc(38,"Fecha de registro"),o.Qb(),o.Rb(39,"th",18),o.bc("sort",function(e){return t.onSort(e)}),o.zc(40,"Fecha de actualizaci\xf3n"),o.Qb(),o.Rb(41,"th",19),o.zc(42,"\xa0"),o.Qb(),o.Qb(),o.Qb(),o.xc(43,bi,6,0,"tbody",20),o.fc(44,"async"),o.xc(45,fi,2,4,"ng-template",null,21,o.yc),o.xc(47,hi,5,0,"ng-template",null,22,o.yc),o.Qb(),o.xc(49,pi,8,14,"div",23),o.fc(50,"async"),o.fc(51,"async"),o.Qb()),2&e){var n=o.sc(46);o.kc("ngIf",o.gc(1,12,t.service.err$)),o.zb(2),o.kc("ngIf",t.alertMsg&&!o.gc(3,14,t.service.err$)),o.zb(11),o.kc("ngModel",t.service.pageSize),o.zb(1),o.kc("ngValue",10),o.zb(2),o.kc("ngValue",30),o.zb(2),o.kc("ngValue",50),o.zb(2),o.kc("ngValue",100),o.zb(7),o.kc("ngIf",o.gc(28,16,t.service.loading$)),o.zb(2),o.kc("ngModel",t.service.searchTerm),o.zb(14),o.kc("ngIf",o.gc(44,18,t.service.loading$))("ngIfElse",n),o.zb(6),o.kc("ngIf",0==o.gc(50,20,t.service.loading$)&&o.gc(51,22,t.total$)>0)}},directives:[b.n,C.r,C.j,C.k,M.n,C.o,C.i,C.l,C.m,C.q,C.b,ei,M.b,b.m,M.d,M.g],pipes:[b.b,b.e],styles:['th[sortable][_ngcontent-%COMP%]{cursor:pointer;-moz-user-select:none;user-select:none;-webkit-user-select:none}th[sortable].asc[_ngcontent-%COMP%]:before, th[sortable].desc[_ngcontent-%COMP%]:before{font-family:FontAwesome;font-weight:900;content:"\\f063";display:block;float:left;margin-left:-30px;color:#fff}th[sortable].desc[_ngcontent-%COMP%]:before{transform:rotate(180deg);-ms-transform:rotate(180deg)}ngbd-table-complete[_ngcontent-%COMP%]   span.ngb-highlight[_ngcontent-%COMP%], ngbd-table-filtering[_ngcontent-%COMP%]   span.ngb-highlight[_ngcontent-%COMP%]{background-color:#ff0}.inner-addon[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin:12px 0 0!important}  body:not(.om) .table.text-white{color:#333!important}  body.om .table-striped tbody tr:nth-of-type(odd){background-color:hsla(0,0%,100%,.11)}']}),gi);function vi(e,t){if(1&e&&(o.Rb(0,"h2",8),o.Nb(1,"i",9),o.zc(2),o.Qb()),2&e){var n=o.ec();o.zb(1),o.kc("ngClass",null==n.titlePageHeader?null:n.titlePageHeader.icon),o.zb(1),o.Bc(" ",n.titlePageHeader.title," ")}}function Ri(e,t){if(1&e){var n=o.Sb();o.Rb(0,"div"),o.Rb(1,"button",14),o.bc("click",function(){return o.tc(n),o.ec(2).newRecord()}),o.Nb(2,"i",15),o.zc(3," Nuevo"),o.Qb(),o.Qb()}}function ki(e,t){if(1&e&&(o.Rb(0,"div",10),o.Rb(1,"button",11),o.Rb(2,"h5"),o.Nb(3,"i",12),o.zc(4," Formulario de registro"),o.Qb(),o.Qb(),o.xc(5,Ri,4,0,"div",13),o.fc(6,"async"),o.Qb()),2&e){var n=o.ec();o.zb(5),o.kc("ngIf",o.gc(6,1,n.editMode))}}function zi(e,t){if(1&e){var n=o.Sb();o.Rb(0,"app-form-crimes",16),o.bc("onAddorEdit",function(e){return o.tc(n),o.ec().refreshControls(e)}),o.Qb()}if(2&e){var i=o.ec();o.kc("editMode",i.editMode)}}function yi(e,t){1&e&&(o.Rb(0,"h5"),o.Nb(1,"i",17),o.zc(2," Lista de registros"),o.Qb())}function Qi(e,t){if(1&e){var n=o.Sb();o.Rb(0,"app-table-crimes",18),o.bc("onSelected",function(e){return o.tc(n),o.ec().recordSelected(e)}),o.Qb()}if(2&e){var i=o.ec();o.kc("forceRefreshData",i.refreshData)}}var xi,wi,Mi,Si,Ii,Ci,_i,$i,Ei=((Ci=function(){function e(t,i){var r=this;n(this,e),this.store=t,this.router=i,this._subs$=[],this.activeIds="",this.editMode=new S.a,this.refreshData=new S.a,this._subs$.push(this.store.select("currentPage").subscribe(function(e){r.titlePageHeader=e})),this.activeIds="static-2",this.store.dispatch(s.a({current:{icon:"fa-table",title:"Cat\xe1logo de Delitos",description:"",url:this.router.url}}))}return r(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this._subs$.forEach(function(e){try{e.unsubscribe()}catch(t){}})}},{key:"newRecord",value:function(){this.store.dispatch(On.b({dataModel:null})),this.editMode.next(!1)}},{key:"recordSelected",value:function(e){this.store.dispatch(On.b({dataModel:e})),this.dtElement.expand("static-1"),this.editMode.next(!0)}},{key:"refreshControls",value:function(e){this.store.dispatch(On.b({dataModel:null})),this.dtElement.expand("static-2"),this.editMode.next(!1),this.refreshData.next(e)}}]),e}()).\u0275fac=function(e){return new(e||Ci)(o.Mb(l.h),o.Mb(a.b))},Ci.\u0275cmp=o.Gb({type:Ci,selectors:[["app-crimes"]],viewQuery:function(e,t){var n;1&e&&o.Ec(M.a,1),2&e&&o.rc(n=o.cc())&&(t.dtElement=n.first)},decls:9,vars:4,consts:[[1,"extendWorkJob","d-flex","flex-column","justify-content-center","px-5"],["class","pageHeader",4,"ngIf"],["ngbAccordion","",3,"closeOthers","activeIds","destroyOnHide"],["id","static-1"],["ngbPanelHeader",""],["ngbPanelContent",""],["id","static-2"],["ngbPanelTitle",""],[1,"pageHeader"],["aria-hidden","true",1,"fa",3,"ngClass"],[1,"d-flex","align-items-center","justify-content-between"],["ngbPanelToggle","",1,"btn","btn-link"],["aria-hidden","true",1,"fa","fa-newspaper-o"],[4,"ngIf"],[1,"btn","btn-sm","btn-outline-primary","ml-2",3,"click"],["aria-hidden","true",1,"fa","fa-plus"],[3,"editMode","onAddorEdit"],["aria-hidden","true",1,"fa","fa-th"],[3,"forceRefreshData","onSelected"]],template:function(e,t){1&e&&(o.Rb(0,"div",0),o.xc(1,vi,3,2,"h2",1),o.Rb(2,"ngb-accordion",2),o.Rb(3,"ngb-panel",3),o.xc(4,ki,7,3,"ng-template",4),o.xc(5,zi,1,1,"ng-template",5),o.Qb(),o.Rb(6,"ngb-panel",6),o.xc(7,yi,3,0,"ng-template",7),o.xc(8,Qi,1,1,"ng-template",5),o.Qb(),o.Qb(),o.Qb()),2&e&&(o.zb(1),o.kc("ngIf",t.titlePageHeader),o.zb(1),o.kc("closeOthers",!0)("activeIds",t.activeIds)("destroyOnHide",!1))},directives:[b.n,M.a,M.h,M.j,M.i,M.k,b.l,M.l,Kn,mi],pipes:[b.b],styles:[".card{background-color:transparent!important}  .card .card-header{background-color:hsla(0,0%,100%,.050980392156862744)}  .card .card-header button{width:100%;text-align:left}  .btn-link{color:#fff;text-decoration:none!important}  .btn-link:hover,   body:not(.om) .btn-link:hover{color:#0056b3;text-decoration:none!important}  body:not(.om) .btn-link{color:#333;text-decoration:none!important}"]}),Ci),Ai=((Ii=function(){function e(){n(this,e)}return r(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Ii)},Ii.\u0275cmp=o.Gb({type:Ii,selectors:[["app-court"]],decls:2,vars:0,template:function(e,t){1&e&&(o.Rb(0,"p"),o.zc(1,"court works!"),o.Qb())},styles:[""]}),Ii),Oi=((Si=function(){function e(){n(this,e)}return r(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Si)},Si.\u0275cmp=o.Gb({type:Si,selectors:[["app-freedom"]],decls:2,vars:0,template:function(e,t){1&e&&(o.Rb(0,"p"),o.zc(1,"freedom works!"),o.Qb())},styles:[""]}),Si),Ni=((Mi=function(){function e(){n(this,e)}return r(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Mi)},Mi.\u0275cmp=o.Gb({type:Mi,selectors:[["app-rooms"]],decls:2,vars:0,template:function(e,t){1&e&&(o.Rb(0,"p"),o.zc(1,"rooms works!"),o.Qb())},styles:[""]}),Mi),Pi=((wi=function(){function e(){n(this,e)}return r(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||wi)},wi.\u0275cmp=o.Gb({type:wi,selectors:[["app-binnacle"]],decls:2,vars:0,template:function(e,t){1&e&&(o.Rb(0,"p"),o.zc(1,"binnacle works!"),o.Qb())},styles:[""]}),wi),Di=((xi=function(){function e(t,i){n(this,e),this.store=t,this.router=i,this._subs$=[],this.sessData=null,this.store.dispatch(s.a({current:{title:"Informaci\xf3n de usuario",description:"",url:this.router.url}}))}return r(e,[{key:"ngOnInit",value:function(){var e=this;this._subs$.push(this.store.select("sess").subscribe(function(t){return e.sessData=t})),this.initOM()}},{key:"ngOnDestroy",value:function(){this._subs$.forEach(function(e){try{e.unsubscribe()}catch(t){}})}},{key:"initOM",value:function(){$("#chkMO").bootstrapToggle(localStorage.getItem("om")?"on":"off",!0),$("#chkMO").change(function(){$(this).prop("checked")?(localStorage.setItem("om","1"),$("body").addClass("om")):(localStorage.removeItem("om"),$("body").removeClass("om"))})}}]),e}()).\u0275fac=function(e){return new(e||xi)(o.Mb(l.h),o.Mb(a.b))},xi.\u0275cmp=o.Gb({type:xi,selectors:[["app-info"]],decls:31,vars:0,consts:[[1,"container","mt-3"],["aria-hidden","true",1,"fa","fa-user-circle-o"],[1,"row","m-0"],[1,"col-*","pr-2"],["id","v-pills-tab","role","tablist","aria-orientation","vertical",1,"nav","flex-column","nav-pills","om"],["id","v-pills-userInfo-tab","data-toggle","pill","href","#v-pills-userInfo","role","tab","aria-controls","v-pills-userInfo","aria-selected","false",1,"nav-link","active","show"],["aria-hidden","true",1,"fa","fa-info-circle","mr-2"],["id","v-pills-passChange-tab","data-toggle","pill","href","#v-pills-passChange","role","tab","aria-controls","v-pills-passChange","aria-selected","false",1,"nav-link"],["aria-hidden","true",1,"fa","fa-key","mr-2"],["id","v-pills-config-tab","data-toggle","pill","href","#v-pills-config","role","tab","aria-controls","v-pills-config","aria-selected","false",1,"nav-link"],["aria-hidden","true",1,"fa","fa-cogs","mr-2"],[1,"col"],["id","v-pills-tabContent",1,"tab-content"],["id","v-pills-userInfo","role","tabpanel","aria-labelledby","v-pills-userInfo-tab",1,"tab-pane","fade","active","show"],["id","v-pills-passChange","role","tabpanel","aria-labelledby","v-pills-passChange-tab",1,"tab-pane","fade"],["id","v-pills-config","role","tabpanel","aria-labelledby","v-pills-config-tab",1,"tab-pane","fade"],[1,"row","align-items-center","px-5"],[1,"col-auto"],[1,"col-auto","ml-auto"],["id","chkMO","type","checkbox","checked","","data-toggle","toggle","data-on",'<i class="fa fa-sun-o" aria-hidden="true"></i> Claro',"data-off",'<i class="fa fa-moon-o" aria-hidden="true"></i> Obscuro',"data-width","120","data-height","40"]],template:function(e,t){1&e&&(o.Rb(0,"div",0),o.Rb(1,"h2"),o.Nb(2,"i",1),o.zc(3," Informaci\xf3n de usuario"),o.Qb(),o.Nb(4,"hr"),o.Rb(5,"div",2),o.Rb(6,"div",3),o.Rb(7,"div",4),o.Rb(8,"a",5),o.Nb(9,"i",6),o.zc(10," Informaci\xf3n "),o.Qb(),o.Rb(11,"a",7),o.Nb(12,"i",8),o.zc(13," Cambiar contrase\xf1a "),o.Qb(),o.Rb(14,"a",9),o.Nb(15,"i",10),o.zc(16," Configuraci\xf3n "),o.Qb(),o.Qb(),o.Qb(),o.Rb(17,"div",11),o.Rb(18,"div",12),o.Rb(19,"div",13),o.Rb(20,"p"),o.zc(21,"Cillum ad ut irure tempor velit nostrud occaecat ullamco aliqua anim Lorem sint. Veniam sint duis incididunt do esse magna mollit excepteur laborum qui. Id id reprehenderit sit est eu aliqua occaecat quis et velit excepteur laborum mollit dolore eiusmod. Ipsum dolor in occaecat commodo et voluptate minim reprehenderit mollit pariatur. Deserunt non laborum enim et cillum eu deserunt excepteur ea incididunt minim occaecat."),o.Qb(),o.Qb(),o.Rb(22,"div",14),o.Rb(23,"p"),o.zc(24,"Culpa dolor voluptate do laboris laboris irure reprehenderit id incididunt duis pariatur mollit aute magna pariatur consectetur. Eu veniam duis non ut dolor deserunt commodo et minim in quis laboris ipsum velit id veniam. Quis ut consectetur adipisicing officia excepteur non sit. Ut et elit aliquip labore Lorem enim eu. Ullamco mollit occaecat dolore ipsum id officia mollit qui esse anim eiusmod do sint minim consectetur qui."),o.Qb(),o.Qb(),o.Rb(25,"div",15),o.Rb(26,"div",16),o.Rb(27,"h5",17),o.zc(28,"Cambiar colores de entorno"),o.Qb(),o.Rb(29,"div",18),o.Nb(30,"input",19),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb())},styles:[".nav-pills.om[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .nav-pills.om[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{color:#fff;background-color:#343a40}"]}),xi),Ti=c("qfBg"),Li=((_i=function(){function e(t,i,r){n(this,e),this.userService=t,this.handlerErrorsService=i,this.router=r}return r(e,[{key:"canActivate",value:function(e,t){var n=this.userService.storageSessModel,i=!0;switch(e.routeConfig.path){case"captura":i=n.roles.includes(1)||n.roles.includes(2)||n.roles.includes(4)||n.roles.includes(5);break;case"consultas":i=n.roles.includes(1)||n.roles.includes(2)||n.roles.includes(6);break;case"constancias":i=n.roles.includes(1)||n.roles.includes(2)||n.roles.includes(7);break;case"catalogo/usuarios":case"catalogo/delitos":case"catalogo/juzgados":case"catalogo/libertades":case"catalogo/salas":i=n.roles.includes(1)||n.roles.includes(2)||n.roles.includes(3);break;case"bitacora":i=n.roles.includes(1)||n.roles.includes(2)}return i||(this.handlerErrorsService.showErr("Restringido",{message:"Permisos insuficientes"},"error"),this.router.navigate(["/"])),i}}]),e}()).\u0275fac=function(e){return new(e||_i)(o.Yb(Ti.a),o.Yb(P.a),o.Yb(a.b))},_i.\u0275prov=o.Ib({token:_i,factory:_i.\u0275fac,providedIn:"root"}),_i),ji=[{path:"",component:y},{path:"captura",component:Q,canActivate:[Li]},{path:"consultas",component:x,canActivate:[Li]},{path:"constancias",component:w,canActivate:[Li]},{path:"catalogo/personas",component:at,canActivate:[Li]},{path:"catalogo/usuarios",component:An,canActivate:[Li]},{path:"catalogo/delitos",component:Ei,canActivate:[Li]},{path:"catalogo/juzgados",component:Ai,canActivate:[Li]},{path:"catalogo/libertades",component:Oi,canActivate:[Li]},{path:"catalogo/salas",component:Ni,canActivate:[Li]},{path:"bitacora",component:Pi,canActivate:[Li]},{path:"usuario/info",component:Di,canActivate:[Li]}],qi=(($i=function e(){n(this,e)}).\u0275mod=o.Kb({type:$i}),$i.\u0275inj=o.Jb({factory:function(e){return new(e||$i)},imports:[[a.e.forChild(ji)],a.e]}),$i)}}])}();