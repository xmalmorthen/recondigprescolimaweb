!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{E5tf:function(t,r,c){"use strict";c.r(r),c.d(r,"ChildRoutesModule",function(){return Ci});var s=c("tyNb"),a=c("Akov"),o=c("fXoL"),l=c("l7P3"),b=c("ofXK");function u(e,t){if(1&e&&(o.Sb(0,"h2",14),o.Ob(1,"i",15),o.Ac(2),o.Rb()),2&e){var n=o.fc();o.Ab(1),o.lc("ngClass",null==n.titlePageHeader?null:n.titlePageHeader.icon),o.Ab(1),o.Cc(" ",n.titlePageHeader.title," ")}}function d(e,t){1&e&&(o.Sb(0,"div",4),o.Sb(1,"div",5),o.Sb(2,"div",6),o.Ob(3,"i",16),o.Sb(4,"span",8),o.Ac(5,"CAPTURA"),o.Rb(),o.Rb(),o.Sb(6,"div",9),o.Sb(7,"a",17),o.Ob(8,"i",11),o.Rb(),o.Rb(),o.Rb(),o.Sb(9,"div",12),o.Sb(10,"p",13),o.Ac(11,"Captura de expediente de ingreso."),o.Rb(),o.Rb(),o.Rb())}function f(e,t){1&e&&(o.Sb(0,"div",4),o.Sb(1,"div",5),o.Sb(2,"div",6),o.Ob(3,"i",18),o.Sb(4,"span",8),o.Ac(5,"CONSULTA"),o.Rb(),o.Rb(),o.Sb(6,"div",9),o.Sb(7,"a",19),o.Ob(8,"i",11),o.Rb(),o.Rb(),o.Rb(),o.Sb(9,"div",12),o.Sb(10,"p",13),o.Ac(11,"Consulta de expedientes."),o.Rb(),o.Rb(),o.Rb())}function h(e,t){1&e&&(o.Sb(0,"div",4),o.Sb(1,"div",5),o.Sb(2,"div",6),o.Ob(3,"i",20),o.Sb(4,"span",8),o.Ac(5,"CONSTANCIA"),o.Rb(),o.Rb(),o.Sb(6,"div",9),o.Sb(7,"a",21),o.Ob(8,"i",11),o.Rb(),o.Rb(),o.Rb(),o.Sb(9,"div",12),o.Sb(10,"p",13),o.Ac(11,"Imprimir constancia de no antecedente penal."),o.Rb(),o.Rb(),o.Rb())}function p(e,t){1&e&&(o.Sb(0,"div",4),o.Sb(1,"div",5),o.Sb(2,"div",6),o.Ob(3,"i",22),o.Sb(4,"span",8),o.Ac(5,"CAT\xc1LOGOS"),o.Rb(),o.Rb(),o.Rb(),o.Sb(6,"div",12),o.Sb(7,"a",23),o.Ob(8,"i",24),o.Ac(9," PERSONAS"),o.Rb(),o.Sb(10,"a",25),o.Ob(11,"i",24),o.Ac(12," USUARIOS"),o.Rb(),o.Sb(13,"a",26),o.Ob(14,"i",24),o.Ac(15," DELITOS"),o.Rb(),o.Sb(16,"a",27),o.Ob(17,"i",24),o.Ac(18," JUZGADOS"),o.Rb(),o.Sb(19,"a",28),o.Ob(20,"i",24),o.Ac(21," LIBERTAD"),o.Rb(),o.Sb(22,"a",29),o.Ob(23,"i",24),o.Ac(24," SALAS"),o.Rb(),o.Rb(),o.Rb())}function g(e,t){1&e&&(o.Sb(0,"div",4),o.Sb(1,"div",5),o.Sb(2,"div",6),o.Ob(3,"i",30),o.Sb(4,"span",8),o.Ac(5,"BIT\xc1CORA"),o.Rb(),o.Rb(),o.Sb(6,"div",9),o.Sb(7,"a",31),o.Ob(8,"i",11),o.Rb(),o.Rb(),o.Rb(),o.Sb(9,"div",12),o.Sb(10,"p",13),o.Ac(11,"Registros de movimientos."),o.Rb(),o.Rb(),o.Rb())}var m,v,S,y,A,R=((y=function(){function e(t,r){var i=this;n(this,e),this.store=t,this.router=r,this._subs$=[],this.sessData=null,this._subs$.push(this.store.select("currentPage").subscribe(function(e){i.titlePageHeader=e})),this.store.dispatch(a.a({current:{icon:"fa-link",title:"Panel principal",description:"Tablero de opciones del sistema",url:this.router.url}}))}return i(e,[{key:"ngOnInit",value:function(){var e=this;this._subs$.push(this.store.select("sess").subscribe(function(t){return e.sessData=t}))}},{key:"ngOnDestroy",value:function(){this._subs$.forEach(function(e){try{e.unsubscribe()}catch(t){}})}}]),e}()).\u0275fac=function(e){return new(e||y)(o.Nb(l.h),o.Nb(s.b))},y.\u0275cmp=o.Hb({type:y,selectors:[["app-dashboard"]],decls:20,vars:6,consts:[[1,"container","extendWorkJob","d-flex","flex-column","justify-content-center"],["class","pageHeader",4,"ngIf"],[1,"card-columns"],["class","card border-secondary bg-t",4,"ngIf"],[1,"card","border-secondary","bg-t"],[1,"card-header","h4","row","m-0"],[1,"col"],["aria-hidden","true",1,"fa","fa-user-circle-o","fa-fw","fa-align-center"],[1,"pl-2"],[1,"col-auto","ml-auto"],["routerLink","usuario/info","title","Captura de expedientes",1,""],["aria-hidden","true",1,"fa","fa-external-link"],[1,"card-body","text-white","text-justify"],[1,"card-text"],[1,"pageHeader"],["aria-hidden","true",1,"fa",3,"ngClass"],["aria-hidden","true",1,"fa","fa-folder-o"],["routerLink","captura","title","Captura de expedientes",1,""],["aria-hidden","true",1,"fa","fa-search"],["routerLink","consultas","title","Captura de expedientes",1,""],["aria-hidden","true",1,"fa","fa-file-text-o"],["routerLink","constancias","title","Captura de expedientes",1,""],["aria-hidden","true",1,"fa","fa-table"],["routerLink","catalogo/personas","title","Cat\xe1logo de personas",1,"dropdown-item"],["aria-hidden","true",1,"fa","fa-minus","pr-2"],["routerLink","catalogo/usuarios","title","Cat\xe1logo de usuarios",1,"dropdown-item"],["routerLink","catalogo/delitos","title","Cat\xe1logo de delitos",1,"dropdown-item"],["routerLink","catalogo/juzgados","title","Cat\xe1logo de juzgados",1,"dropdown-item"],["routerLink","catalogo/libertades","title","Cat\xe1logo de libertades",1,"dropdown-item"],["routerLink","catalogo/salas","title","Cat\xe1logo de salas",1,"dropdown-item"],["aria-hidden","true",1,"fa","fa-binoculars"],["routerLink","bitacora","title","Captura de expedientes",1,""]],template:function(e,t){1&e&&(o.Sb(0,"div",0),o.yc(1,u,3,2,"h2",1),o.Sb(2,"div",2),o.yc(3,d,12,0,"div",3),o.yc(4,f,12,0,"div",3),o.yc(5,h,12,0,"div",3),o.yc(6,p,25,0,"div",3),o.yc(7,g,12,0,"div",3),o.Sb(8,"div",4),o.Sb(9,"div",5),o.Sb(10,"div",6),o.Ob(11,"i",7),o.Sb(12,"span",8),o.Ac(13,"USUARIO"),o.Rb(),o.Rb(),o.Sb(14,"div",9),o.Sb(15,"a",10),o.Ob(16,"i",11),o.Rb(),o.Rb(),o.Rb(),o.Sb(17,"div",12),o.Sb(18,"p",13),o.Ac(19,"Informaci\xf3n de usuario, cambio de contrase\xf1a y configuraciones del sistema."),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Rb()),2&e&&(o.Ab(1),o.lc("ngIf",t.titlePageHeader),o.Ab(2),o.lc("ngIf",t.sessData.roles.includes(1)||t.sessData.roles.includes(2)||t.sessData.roles.includes(4)||t.sessData.roles.includes(5)),o.Ab(1),o.lc("ngIf",t.sessData.roles.includes(1)||t.sessData.roles.includes(2)||t.sessData.roles.includes(6)),o.Ab(1),o.lc("ngIf",t.sessData.roles.includes(1)||t.sessData.roles.includes(2)||t.sessData.roles.includes(7)),o.Ab(1),o.lc("ngIf",t.sessData.roles.includes(1)||t.sessData.roles.includes(2)||t.sessData.roles.includes(3)),o.Ab(1),o.lc("ngIf",t.sessData.roles.includes(1)||t.sessData.roles.includes(2)))},directives:[b.n,s.d,b.l],styles:[".dropdown-item[_ngcontent-%COMP%]{color:#fff}.dropdown-item[_ngcontent-%COMP%]:hover{color:#000}.card-header[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.050980392156862744)}"]}),y),w=((S=function(){function e(){n(this,e)}return i(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||S)},S.\u0275cmp=o.Hb({type:S,selectors:[["app-capture"]],decls:3,vars:0,consts:[[1,"container","extendWorkJob","d-flex","flex-column","justify-content-center"]],template:function(e,t){1&e&&(o.Sb(0,"div",0),o.Sb(1,"h1"),o.Ac(2,"Ok"),o.Rb(),o.Rb())},styles:[""]}),S),I=((v=function(){function e(){n(this,e)}return i(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||v)},v.\u0275cmp=o.Hb({type:v,selectors:[["app-queryes"]],decls:2,vars:0,template:function(e,t){1&e&&(o.Sb(0,"p"),o.Ac(1,"queryes works!"),o.Rb())},styles:[""]}),v),O=((m=function(){function e(){n(this,e)}return i(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||m)},m.\u0275cmp=o.Hb({type:m,selectors:[["app-proof"]],decls:2,vars:0,template:function(e,t){1&e&&(o.Sb(0,"p"),o.Ac(1,"proof works!"),o.Rb())},styles:[""]}),m),M=c("1kSV"),C=c("XNiG"),k=c("wDfv"),x=c("3Pt+"),_=c("lJxs"),E=c("vkgz"),P=c("AytR"),D=c("tk/3"),T=((A=function(){function e(t){n(this,e),this.http=t}return i(e,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return this.http.get("".concat(P.a.apis.recon.url,"/admin/persons?skip=").concat(e,"&take=").concat(t,"&filter=").concat(n)).pipe(Object(_.a)(function(e){if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(E.a)(function(e){}))}},{key:"add",value:function(e){return this.http.post("".concat(P.a.apis.recon.url,"/admin/person"),e).pipe(Object(_.a)(function(e){if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(E.a)(function(e){}))}},{key:"edit",value:function(e){return this.http.patch("".concat(P.a.apis.recon.url,"/admin/person"),e).pipe(Object(_.a)(function(e){if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(E.a)(function(e){}))}}]),e}()).\u0275fac=function(e){return new(e||A)(o.Zb(D.b))},A.\u0275prov=o.Jb({token:A,factory:A.\u0275fac,providedIn:"root"}),A),L=c("fVQW");function j(e,t){if(1&e&&o.Ob(0,"i",24),2&e){var n=o.fc(2);o.Db("fa ",n.alertMsg.icon," mr-2")}}function N(e,t){if(1&e&&(o.Sb(0,"span"),o.Ac(1),o.Rb()),2&e){var n=o.fc(2);o.Ab(1),o.Bc(n.alertMsg.title)}}function z(e,t){if(1&e&&(o.Sb(0,"p",25),o.Ac(1),o.Rb()),2&e){var n=o.fc(2);o.Ab(1),o.Bc(n.alertMsg.message)}}function H(e,t){if(1&e&&(o.Sb(0,"ngb-alert",19),o.Sb(1,"h5",20),o.yc(2,j,1,3,"i",21),o.yc(3,N,2,1,"span",22),o.Rb(),o.yc(4,z,2,1,"p",23),o.Rb()),2&e){var n=o.fc();o.lc("type",n.alertMsg.type)("dismissible",!1),o.Ab(2),o.lc("ngIf",n.alertMsg.icon),o.Ab(1),o.lc("ngIf",n.alertMsg.title),o.Ab(1),o.lc("ngIf",n.alertMsg.message)}}function B(e,t){if(1&e&&(o.Sb(0,"div",4),o.Sb(1,"label"),o.Ac(2,"Nombre"),o.Rb(),o.Sb(3,"div",5),o.Sb(4,"h4"),o.Ac(5),o.Rb(),o.Rb(),o.Rb()),2&e){var n=o.fc();o.Ab(5),o.Cc(" ",(null==n.editModel?null:n.editModel.nombres)+" "+(null==n.editModel?null:n.editModel.primerApellido)+" "+(null==n.editModel?null:n.editModel.segundoApellido)," ")}}function q(e,t){1&e&&o.Ob(0,"i",26)}function V(e,t){1&e&&o.Ob(0,"i",27)}function F(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"Informaci\xf3n requerida"),o.Rb())}function J(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"La longitud m\xe1xima es de 50 caracteres"),o.Rb())}function U(e,t){if(1&e&&(o.Sb(0,"div",28),o.Ob(1,"i",29),o.yc(2,F,2,0,"span",22),o.yc(3,J,2,0,"span",22),o.Rb()),2&e){var n=o.fc();o.Ab(2),o.lc("ngIf",n.f.noCtrl.errors.required),o.Ab(1),o.lc("ngIf",n.f.noCtrl.errors.maxlength)}}function G(e,t){1&e&&o.Ob(0,"i",26)}function W(e,t){1&e&&o.Ob(0,"i",27)}function Z(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"Informaci\xf3n requerida"),o.Rb())}function Q(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"La longitud m\xednima es de 18 caracteres"),o.Rb())}function K(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"La longitud m\xe1xima es de 18 caracteres"),o.Rb())}function X(e,t){if(1&e&&(o.Sb(0,"div",28),o.Ob(1,"i",29),o.yc(2,Z,2,0,"span",22),o.yc(3,Q,2,0,"span",22),o.yc(4,K,2,0,"span",22),o.Rb()),2&e){var n=o.fc(2);o.Ab(2),o.lc("ngIf",n.f.curp.errors.required),o.Ab(1),o.lc("ngIf",n.f.curp.errors.minlength),o.Ab(1),o.lc("ngIf",n.f.curp.errors.maxlength)}}var Y=function(e){return{errBorder:e}};function ee(e,t){if(1&e&&(o.Sb(0,"div",4),o.Sb(1,"label"),o.Ac(2,"CURP"),o.Rb(),o.Sb(3,"div",5),o.yc(4,G,1,0,"i",6),o.yc(5,W,1,0,"i",7),o.Ob(6,"input",30),o.Rb(),o.yc(7,X,5,3,"div",9),o.Rb()),2&e){var n=o.fc();o.Ab(4),o.lc("ngIf",n.formSubmitted&&n.f.curp.valid),o.Ab(1),o.lc("ngIf",n.formSubmitted&&n.f.curp.invalid),o.Ab(1),o.lc("ngClass",o.pc(4,Y,n.formSubmitted&&n.f.curp.invalid)),o.Ab(1),o.lc("ngIf",n.formSubmitted&&n.f.curp.invalid)}}function te(e,t){1&e&&o.Ob(0,"i",26)}function ne(e,t){1&e&&o.Ob(0,"i",27)}function re(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"Informaci\xf3n requerida"),o.Rb())}function ie(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"La longitud m\xednima es de 10 caracteres"),o.Rb())}function ce(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"La longitud m\xe1xima es de 100 caracteres"),o.Rb())}function se(e,t){if(1&e&&(o.Sb(0,"div",28),o.Ob(1,"i",29),o.yc(2,re,2,0,"span",22),o.yc(3,ie,2,0,"span",22),o.yc(4,ce,2,0,"span",22),o.Rb()),2&e){var n=o.fc();o.Ab(2),o.lc("ngIf",n.f.tel.errors.required),o.Ab(1),o.lc("ngIf",n.f.tel.errors.minlength),o.Ab(1),o.lc("ngIf",n.f.tel.errors.maxlength)}}function ae(e,t){1&e&&o.Ob(0,"i",26)}function oe(e,t){1&e&&o.Ob(0,"i",27)}function le(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"Informaci\xf3n requerida"),o.Rb())}function be(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"La longitud m\xednima es de 10 caracteres"),o.Rb())}function ue(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"La longitud m\xe1xima es de 100 caracteres"),o.Rb())}function de(e,t){if(1&e&&(o.Sb(0,"div",28),o.Ob(1,"i",29),o.yc(2,le,2,0,"span",22),o.yc(3,be,2,0,"span",22),o.yc(4,ue,2,0,"span",22),o.Rb()),2&e){var n=o.fc();o.Ab(2),o.lc("ngIf",n.f.cel.errors.required),o.Ab(1),o.lc("ngIf",n.f.cel.errors.minlength),o.Ab(1),o.lc("ngIf",n.f.cel.errors.maxlength)}}function fe(e,t){1&e&&o.Ob(0,"i",26)}function he(e,t){1&e&&o.Ob(0,"i",27)}function pe(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"Informaci\xf3n requerida"),o.Rb())}function ge(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"La longitud m\xednima es de 3 caracteres"),o.Rb())}function me(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"La longitud m\xe1xima es de 50 caracteres"),o.Rb())}function ve(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"Formato de correo electr\xf3nico inv\xe1lido"),o.Rb())}function Se(e,t){if(1&e&&(o.Sb(0,"div",28),o.Ob(1,"i",29),o.yc(2,pe,2,0,"span",22),o.yc(3,ge,2,0,"span",22),o.yc(4,me,2,0,"span",22),o.yc(5,ve,2,0,"span",22),o.Rb()),2&e){var n=o.fc();o.Ab(2),o.lc("ngIf",n.f.mail.errors.required),o.Ab(1),o.lc("ngIf",n.f.mail.errors.minlength),o.Ab(1),o.lc("ngIf",n.f.mail.errors.maxlength),o.Ab(1),o.lc("ngIf",n.f.mail.errors.pattern)}}function ye(e,t){1&e&&o.Ob(0,"i",31)}function Ae(e,t){1&e&&o.Ob(0,"span",32)}var Re,we,Ie,Oe=((Re=function(){function e(t,r,i,c){n(this,e),this.fb=t,this.store=r,this.personsService=i,this.handlerErrorsService=c,this._subs$=[],this.onAddorEdit=new o.n,this.frmgp=this.fb.group({id:[""],noCtrl:["",[x.p.required,x.p.maxLength(50)]],curp:["",[x.p.required,x.p.minLength(18),x.p.maxLength(18)]],tel:["",[x.p.minLength(10),x.p.maxLength(100)]],cel:["",[x.p.minLength(10),x.p.maxLength(100)]],mail:["",[x.p.required,x.p.minLength(3),x.p.maxLength(50),x.p.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]]}),this.formSubmitted=!1,this.withErr=!1,this.alertMsg=null}return i(e,[{key:"ngOnInit",value:function(){var e=this;this._subs$.push(this.store.select("catalogPersons").subscribe(function(t){return e.editModel=t.selected})),this._subs$.push(this.editMode.subscribe(function(t){e._populateFormEditMode(t)}))}},{key:"ngOnDestroy",value:function(){this._subs$.forEach(function(e){try{e.unsubscribe()}catch(t){}})}},{key:"f",get:function(){return this.frmgp.controls}},{key:"_populateFormEditMode",value:function(e){var t,n,r,i,c,s;this.withErr=!1,this.formSubmitted=!1,this.alertMsg=null,this.f.id.patchValue(null===(t=this.editModel)||void 0===t?void 0:t.id),this.f.noCtrl.patchValue(null===(n=this.editModel)||void 0===n?void 0:n.noCtrl),this.f.curp.patchValue(null===(r=this.editModel)||void 0===r?void 0:r.curp),this.f.tel.patchValue(null===(i=this.editModel)||void 0===i?void 0:i.tel),this.f.cel.patchValue(null===(c=this.editModel)||void 0===c?void 0:c.cel),this.f.mail.patchValue(null===(s=this.editModel)||void 0===s?void 0:s.mail),$("form input:first").select()}},{key:"onSubmit",value:function(){this.withErr=!1,this.formSubmitted=!0,this.alertMsg=null;try{if(!this.frmgp.valid)throw new Error("Se encontraron errores de formulario");this.editModel?this.editAction():this.addAction()}catch(e){this.showAlert(e.message,"danger","fa-times-circle-o","Error"),this.withErr=!0}}},{key:"showAlert",value:function(e,t,n,r){this.alertMsg={type:t,icon:n,title:r,message:e}}},{key:"addAction",value:function(){var e=this;try{this._subs$.push(this.personsService.add(this.frmgp.value).subscribe(function(t){e.onAddorEdit.emit({status:!0,action:"add"})},function(t){e.showAlert(e.handlerErrorsService.parseMsgError(t),"danger","fa-times-circle-o","Error"),e.withErr=!0}))}catch(t){this.showAlert(this.handlerErrorsService.parseMsgError(t),"danger","fa-times-circle-o","Error"),this.withErr=!0}}},{key:"editAction",value:function(){var e=this;try{this._subs$.push(this.personsService.edit(this.frmgp.value).subscribe(function(t){e.onAddorEdit.emit({status:!0,action:"update"})},function(t){e.showAlert(e.handlerErrorsService.parseMsgError(t),"danger","fa-times-circle-o","Error"),e.withErr=!0}))}catch(t){this.showAlert(this.handlerErrorsService.parseMsgError(t),"danger","fa-times-circle-o","Error"),this.withErr=!0}}}]),e}()).\u0275fac=function(e){return new(e||Re)(o.Nb(x.c),o.Nb(l.h),o.Nb(T),o.Nb(L.a))},Re.\u0275cmp=o.Hb({type:Re,selectors:[["app-form-persons"]],inputs:{editMode:"editMode"},outputs:{onAddorEdit:"onAddorEdit"},decls:46,vars:36,consts:[["autocomplete","off",3,"formGroup","ngSubmit"],[3,"type","dismissible",4,"ngIf"],[1,"form-row"],["class","col-12 col-md-4 py-2",4,"ngIf"],[1,"col-12","col-md-4","py-2"],[1,"inner-addon","right-addon"],["class","fa fa-check-circle-o text-success","aria-hidden","true",4,"ngIf"],["class","fa fa-times-circle-o text-danger","aria-hidden","true",4,"ngIf"],["id","noctrl","type","text","placeholder","N\xfamero de control","formControlName","noCtrl",1,"form-control",3,"ngClass"],["class","text-danger",4,"ngIf"],["id","tel","type","text","placeholder","Tel\xe9fono fijo","formControlName","tel",1,"form-control",3,"ngClass"],["id","cel","type","text","placeholder","Celular","formControlName","cel",1,"form-control",3,"ngClass"],["id","mail","type","text","placeholder","Correo electr\xf3nico","formControlName","mail",1,"form-control",3,"ngClass"],[1,"text-right"],["ngClass","btn-outline-success",1,"btn",3,"disabled"],["class","fa fa-pencil-square-o","aria-hidden","true","type","submit",4,"ngIf"],["class","spinner-grow spinner-grow-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"ml-2"],["type","hidden","id","id","name","id","formControlName","id"],[3,"type","dismissible"],[1,"font-weight-bold"],["aria-hidden","true",3,"class",4,"ngIf"],[4,"ngIf"],["class","m-0 p-0",4,"ngIf"],["aria-hidden","true"],[1,"m-0","p-0"],["aria-hidden","true",1,"fa","fa-check-circle-o","text-success"],["aria-hidden","true",1,"fa","fa-times-circle-o","text-danger"],[1,"text-danger"],["aria-hidden","true",1,"fa","fa-exclamation-triangle","mr-2"],["id","curp","type","text","placeholder","CURP","formControlName","curp",1,"form-control",3,"ngClass"],["aria-hidden","true","type","submit",1,"fa","fa-pencil-square-o"],["role","status","aria-hidden","true",1,"spinner-grow","spinner-grow-sm"]],template:function(e,t){1&e&&(o.Sb(0,"form",0),o.cc("ngSubmit",function(){return t.onSubmit()}),o.yc(1,H,5,5,"ngb-alert",1),o.Sb(2,"div",2),o.yc(3,B,6,1,"div",3),o.gc(4,"async"),o.Sb(5,"div",4),o.Sb(6,"label"),o.Ac(7,"N\xfamero de control"),o.Rb(),o.Sb(8,"div",5),o.yc(9,q,1,0,"i",6),o.yc(10,V,1,0,"i",7),o.Ob(11,"input",8),o.Rb(),o.yc(12,U,4,2,"div",9),o.Rb(),o.yc(13,ee,8,6,"div",3),o.gc(14,"async"),o.Sb(15,"div",4),o.Sb(16,"label"),o.Ac(17,"Tel\xe9fono fijo"),o.Rb(),o.Sb(18,"div",5),o.yc(19,te,1,0,"i",6),o.yc(20,ne,1,0,"i",7),o.Ob(21,"input",10),o.Rb(),o.yc(22,se,5,3,"div",9),o.Rb(),o.Sb(23,"div",4),o.Sb(24,"label"),o.Ac(25,"Celular"),o.Rb(),o.Sb(26,"div",5),o.yc(27,ae,1,0,"i",6),o.yc(28,oe,1,0,"i",7),o.Ob(29,"input",11),o.Rb(),o.yc(30,de,5,3,"div",9),o.Rb(),o.Sb(31,"div",4),o.Sb(32,"label"),o.Ac(33,"Correo electr\xf3nico"),o.Rb(),o.Sb(34,"div",5),o.yc(35,fe,1,0,"i",6),o.yc(36,he,1,0,"i",7),o.Ob(37,"input",12),o.Rb(),o.yc(38,Se,6,4,"div",9),o.Rb(),o.Rb(),o.Sb(39,"div",13),o.Sb(40,"button",14),o.yc(41,ye,1,0,"i",15),o.yc(42,Ae,1,0,"span",16),o.Sb(43,"span",17),o.Ac(44),o.Rb(),o.Rb(),o.Rb(),o.Ob(45,"input",18),o.Rb()),2&e&&(o.lc("formGroup",t.frmgp),o.Ab(1),o.lc("ngIf",t.alertMsg),o.Ab(2),o.lc("ngIf",1==o.hc(4,24,t.editMode)),o.Ab(6),o.lc("ngIf",t.formSubmitted&&t.f.noCtrl.valid),o.Ab(1),o.lc("ngIf",t.formSubmitted&&t.f.noCtrl.invalid),o.Ab(1),o.lc("ngClass",o.pc(28,Y,t.formSubmitted&&t.f.noCtrl.invalid)),o.Ab(1),o.lc("ngIf",t.formSubmitted&&t.f.noCtrl.invalid),o.Ab(1),o.lc("ngIf",1!=o.hc(14,26,t.editMode)),o.Ab(6),o.lc("ngIf",t.formSubmitted&&t.f.tel.valid),o.Ab(1),o.lc("ngIf",t.formSubmitted&&t.f.tel.invalid),o.Ab(1),o.lc("ngClass",o.pc(30,Y,t.formSubmitted&&t.f.tel.invalid)),o.Ab(1),o.lc("ngIf",t.formSubmitted&&t.f.tel.invalid),o.Ab(5),o.lc("ngIf",t.formSubmitted&&t.f.cel.valid),o.Ab(1),o.lc("ngIf",t.formSubmitted&&t.f.cel.invalid),o.Ab(1),o.lc("ngClass",o.pc(32,Y,t.formSubmitted&&t.f.cel.invalid)),o.Ab(1),o.lc("ngIf",t.formSubmitted&&t.f.cel.invalid),o.Ab(5),o.lc("ngIf",t.formSubmitted&&t.f.mail.valid),o.Ab(1),o.lc("ngIf",t.formSubmitted&&t.f.mail.invalid),o.Ab(1),o.lc("ngClass",o.pc(34,Y,t.formSubmitted&&t.f.mail.invalid)),o.Ab(1),o.lc("ngIf",t.formSubmitted&&t.f.mail.invalid),o.Ab(2),o.lc("disabled",t.formSubmitted&&!t.withErr),o.Ab(1),o.lc("ngIf",!t.formSubmitted||t.withErr),o.Ab(1),o.lc("ngIf",t.formSubmitted&&!t.withErr),o.Ab(2),o.Cc(" ",!t.formSubmitted||t.withErr?t.editModel?"Editar":"Registrar":"Procesando..."," "))},directives:[x.r,x.j,x.e,b.n,x.b,x.i,x.d,b.l,M.b],pipes:[b.b],styles:[""]}),Re),Me=c("Kj3r"),Ce=c("2Vo4"),ke=c("LRne"),xe=c("eIep"),_e=c("JIr8"),$e=((we=function(){function t(e,r,i){var c=this;n(this,t),this.pipe=e,this.personsService=r,this.store=i,this._subs$=[],this._loading$=new Ce.a(!0),this._err$=new Ce.a(null),this._search$=new C.a,this._persons$=new Ce.a([]),this._total$=new Ce.a(0),this._state={page:1,pageSize:10,searchTerm:"",sortColumn:"",sortDirection:""},this._subs$.push(this._search$.pipe(Object(E.a)(function(){c._err$.next(null),c._loading$.next(!0)}),Object(Me.a)(500),Object(xe.a)(function(){return c._dataList()}),Object(_.a)(function(e){return c._formating(e)}),Object(E.a)(function(){return c._loading$.next(!1)})).subscribe(function(e){c._persons$.next(e.data),c._total$.next(e.total)})),this._search$.next()}return i(t,[{key:"ngOnDestroy",value:function(){this._subs$.forEach(function(e){try{e.unsubscribe()}catch(t){}})}},{key:"persons$",get:function(){return this._persons$.asObservable()}},{key:"total$",get:function(){return this._total$.asObservable()}},{key:"loading$",get:function(){return this._loading$.asObservable()}},{key:"err$",get:function(){return this._err$.asObservable()}},{key:"page",get:function(){return this._state.page},set:function(e){this._set({page:e})}},{key:"pageSize",get:function(){return this._state.pageSize},set:function(e){this._set({pageSize:e})}},{key:"searchTerm",get:function(){return this._state.searchTerm},set:function(e){this._set({searchTerm:e})}},{key:"sortColumn",set:function(e){this._set({sortColumn:e})}},{key:"sortDirection",set:function(e){this._set({sortDirection:e})}},{key:"refreshTable",value:function(){this._search$.next()}},{key:"_set",value:function(e){Object.assign(this._state,e),this._search$.next()}},{key:"_dataList",value:function(){var e=this,t=this._state.searchTerm;return this.personsService.data(null,null,t).pipe(Object(_e.a)(function(t){return e._err$.next(t),Object(ke.a)([])}))}},{key:"_formating",value:function(t){var n,r,i,c=this._state,s=c.searchTerm,a=c.sortColumn,o=c.sortDirection,l=c.pageSize,b=c.page,u=t;(a||o)&&(n=u,r=a,u=""===(i=o)||""===r?n:e(n).sort(function(e,t){var n,c,s=(n=e[r])<(c=t[r])?-1:n>c?1:0;return"asc"===i?s:-s})),s&&(u=u.filter(function(e){return function(e,t,n){return e.noCtrl.toLowerCase().includes(t.toLowerCase())||e.curp.toLowerCase().includes(t.toLowerCase())||e.primerApellido.toLowerCase().includes(t.toLowerCase())||e.segundoApellido.toLowerCase().includes(t.toLowerCase())||e.nombres.toLowerCase().includes(t.toLowerCase())||e.tel.toLowerCase().includes(t.toLowerCase())||e.cel.toLowerCase().includes(t.toLowerCase())||e.mail.toLowerCase().includes(t.toLowerCase())}(e,s)}));var d=u.length;return u=u.slice((b-1)*l,(b-1)*l+l),this.store.dispatch(k.a({data:u})),{data:u,total:d}}}]),t}()).\u0275fac=function(e){return new(e||we)(o.Zb(b.f),o.Zb(T),o.Zb(l.h))},we.\u0275prov=o.Jb({token:we,factory:we.\u0275fac,providedIn:"root"}),we),Ee={asc:"desc",desc:"","":"asc"},Pe=((Ie=function(){function e(){n(this,e),this.sortable="",this.direction="",this.sort=new o.n}return i(e,[{key:"rotate",value:function(){this.direction=Ee[this.direction],this.sort.emit({column:this.sortable,direction:this.direction})}}]),e}()).\u0275fac=function(e){return new(e||Ie)},Ie.\u0275dir=o.Ib({type:Ie,selectors:[["th","sortable",""]],hostVars:4,hostBindings:function(e,t){1&e&&o.cc("click",function(){return t.rotate()}),2&e&&o.Fb("asc","asc"===t.direction)("desc","desc"===t.direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sort:"sort"}}),Ie);function De(e,t){if(1&e&&o.Ob(0,"i",32),2&e){var n=o.fc(2);o.Db("fa ",n.alertMsg.icon," mr-2")}}function Te(e,t){if(1&e&&(o.Sb(0,"span"),o.Ac(1),o.Rb()),2&e){var n=o.fc(2);o.Ab(1),o.Bc(n.alertMsg.title)}}function Le(e,t){if(1&e&&(o.Sb(0,"p",33),o.Ac(1),o.Rb()),2&e){var n=o.fc(2);o.Ab(1),o.Bc(n.alertMsg.message)}}function je(e,t){if(1&e&&(o.Sb(0,"ngb-alert",27),o.Sb(1,"h5",28),o.yc(2,De,1,3,"i",29),o.yc(3,Te,2,1,"span",30),o.Rb(),o.yc(4,Le,2,1,"p",31),o.Rb()),2&e){var n=o.fc();o.lc("type","danger")("dismissible",!1),o.Ab(2),o.lc("ngIf",n.alertMsg.icon),o.Ab(1),o.lc("ngIf",n.alertMsg.title),o.Ab(1),o.lc("ngIf",n.alertMsg.message)}}function Ne(e,t){if(1&e&&o.Ob(0,"i",32),2&e){var n=o.fc(2);o.Db("fa ",n.alertMsg.icon," mr-2")}}function ze(e,t){if(1&e&&(o.Sb(0,"span"),o.Ac(1),o.Rb()),2&e){var n=o.fc(2);o.Ab(1),o.Bc(n.alertMsg.title)}}function He(e,t){if(1&e&&(o.Sb(0,"p",33),o.Ac(1),o.Rb()),2&e){var n=o.fc(2);o.Ab(1),o.Bc(n.alertMsg.message)}}function Be(e,t){if(1&e){var n=o.Tb();o.Sb(0,"ngb-alert",34),o.cc("closed",function(){return o.uc(n),o.fc().alertMsg=null}),o.Sb(1,"h5",28),o.yc(2,Ne,1,3,"i",29),o.yc(3,ze,2,1,"span",30),o.Rb(),o.yc(4,He,2,1,"p",31),o.Rb()}if(2&e){var r=o.fc();o.lc("type",r.alertMsg.type),o.Ab(2),o.lc("ngIf",r.alertMsg.icon),o.Ab(1),o.lc("ngIf",r.alertMsg.title),o.Ab(1),o.lc("ngIf",r.alertMsg.message)}}function qe(e,t){1&e&&o.Ob(0,"i",35)}function Ve(e,t){1&e&&(o.Sb(0,"tbody"),o.Sb(1,"tr"),o.Sb(2,"th",36),o.Ob(3,"i",37),o.Sb(4,"span"),o.Ac(5,"Actualizndo informaci\xf3n..."),o.Rb(),o.Rb(),o.Rb(),o.Rb())}function Fe(e,t){if(1&e){var n=o.Tb();o.Qb(0),o.Sb(1,"tr"),o.Sb(2,"td",39),o.Sb(3,"button",40),o.cc("click",function(e){o.uc(n);var r=t.$implicit;return o.fc(3).toggleTableDetail(r.id,e)}),o.Ob(4,"i",41),o.Rb(),o.Rb(),o.Sb(5,"th",42),o.Ac(6),o.Rb(),o.Sb(7,"td"),o.Ob(8,"ngb-highlight",43),o.Rb(),o.Sb(9,"td"),o.Ob(10,"ngb-highlight",43),o.Rb(),o.Sb(11,"td"),o.Ob(12,"ngb-highlight",43),o.Rb(),o.Sb(13,"td"),o.Ob(14,"ngb-highlight",43),o.Rb(),o.Sb(15,"td"),o.Ob(16,"ngb-highlight",43),o.Rb(),o.Sb(17,"td",39),o.Sb(18,"div",44),o.Sb(19,"button",45),o.cc("click",function(){o.uc(n);var e=t.$implicit;return o.fc(3).editRecord(e)}),o.Ob(20,"i",46),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Sb(21,"tr",47),o.Sb(22,"td",48),o.Sb(23,"div",3),o.Sb(24,"div",49),o.Sb(25,"h6",50),o.Ac(26,"Tel\xe9fono"),o.Rb(),o.Sb(27,"p",51),o.Ac(28),o.Rb(),o.Rb(),o.Sb(29,"div",49),o.Sb(30,"h6",50),o.Ac(31,"Celular"),o.Rb(),o.Sb(32,"p",51),o.Ac(33),o.Rb(),o.Rb(),o.Sb(34,"div",49),o.Sb(35,"h6",50),o.Ac(36,"Correo electr\xf3nico"),o.Rb(),o.Sb(37,"p",52),o.Ac(38),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Pb()}if(2&e){var r=t.$implicit,i=o.fc(3);o.Ab(6),o.Bc(r.id),o.Ab(2),o.lc("result",r.noCtrl)("term",i.service.searchTerm),o.Ab(2),o.lc("result",r.curp)("term",i.service.searchTerm),o.Ab(2),o.lc("result",r.primerApellido)("term",i.service.searchTerm),o.Ab(2),o.lc("result",r.segundoApellido)("term",i.service.searchTerm),o.Ab(2),o.lc("result",r.nombres)("term",i.service.searchTerm),o.Ab(5),o.lc("ngClass","id_"+r.id),o.Ab(7),o.Bc(r.tel),o.Ab(5),o.Bc(r.cel),o.Ab(5),o.Bc(r.mail)}}function Je(e,t){if(1&e&&(o.Sb(0,"tbody"),o.yc(1,Fe,39,15,"ng-container",38),o.gc(2,"async"),o.Rb()),2&e){var n=o.fc(2);o.Ab(1),o.lc("ngForOf",o.hc(2,1,n.persons$))}}function Ue(e,t){if(1&e&&(o.yc(0,Je,3,3,"tbody",23),o.gc(1,"async")),2&e){var n=o.fc(),r=o.tc(53);o.lc("ngIf",o.hc(1,2,n.total$))("ngIfElse",r)}}function Ge(e,t){1&e&&(o.Sb(0,"tbody"),o.Sb(1,"tr"),o.Sb(2,"th",53),o.Ob(3,"i",54),o.Ac(4," No se encontr\xf3 informaci\xf3n "),o.Rb(),o.Rb(),o.Rb())}function We(e,t){if(1&e){var n=o.Tb();o.Sb(0,"div",2),o.Sb(1,"ngb-pagination",55),o.cc("pageChange",function(e){return o.uc(n),o.fc().service.page=e}),o.gc(2,"async"),o.Rb(),o.Sb(3,"span",56),o.Ac(4),o.gc(5,"async"),o.gc(6,"async"),o.gc(7,"async"),o.Rb(),o.Rb()}if(2&e){var r=o.fc();o.Ab(1),o.lc("collectionSize",o.hc(2,6,r.total$))("page",r.service.page)("pageSize",r.service.pageSize),o.Ab(3),o.Ec(" Mostrando ",r.service.page*r.service.pageSize-r.service.pageSize+1," al ",r.service.page*r.service.pageSize<=o.hc(5,8,r.total$)?r.service.page*r.service.pageSize:o.hc(6,10,r.total$)," de ",o.hc(7,12,r.total$)," registros")}}var Ze,Qe=((Ze=function(){function e(t,r,i){n(this,e),this.service=t,this.store=r,this.handlerErrorsService=i,this._subs$=[],this.onSelected=new o.n,this.forceRefreshData=new C.a,this._autoCloseAlert=new C.a,this.alertMsg=null,this.persons$=t.persons$,this.total$=t.total$}return i(e,[{key:"ngOnInit",value:function(){var e=this;this._subs$.push(this._autoCloseAlert.pipe(Object(Me.a)(1e4)).subscribe(function(){e.alertMsg=null})),this._subs$.push(this.forceRefreshData.subscribe(function(t){return e.refreshTable(t)})),this._subs$.push(this.service.err$.subscribe(function(t){e.alertMsg=t?{type:"error",icon:"fa-info-circle",title:"Error",message:" ".concat(e.handlerErrorsService.parseMsgError(t)," </br> favor de intentarlo de nuevo. ")}:null}))}},{key:"ngOnDestroy",value:function(){this._subs$.forEach(function(e){try{e.unsubscribe()}catch(t){}})}},{key:"onSort",value:function(e){var t=e.column,n=e.direction;this.headers.forEach(function(e){e.sortable!==t&&(e.direction="")}),this.service.sortColumn=t,this.service.sortDirection=n}},{key:"toggleTableDetail",value:function(e,t){var n=$(".tableDetail.id_".concat(e)),r=$(t.currentTarget);n.hasClass("d-none")?(n.removeClass("d-none"),r.html('<i class="fa fa-minus-circle" aria-hidden="true"></i>'),r.removeClass("text-success"),r.addClass("text-warning")):(n.addClass("d-none"),r.html('<i class="fa fa-plus-circle" aria-hidden="true"></i>'),r.removeClass("text-warning"),r.addClass("text-success"))}},{key:"editRecord",value:function(e){this.store.dispatch(k.b({dataModel:e})),this.onSelected.emit(e)}},{key:"refreshTable",value:function(e){if(e.status){this.service.refreshTable();var t="Registro ";switch(e.action){case"add":t+="agregado";break;case"update":t+="actualizado"}t+=" correctamente",this.alertMsg={type:"success",icon:"fa-info-circle",title:"Acci\xf3n",message:t},this._autoCloseAlert.next(!0)}}}]),e}()).\u0275fac=function(e){return new(e||Ze)(o.Nb($e),o.Nb(l.h),o.Nb(L.a))},Ze.\u0275cmp=o.Hb({type:Ze,selectors:[["app-table-persons"]],viewQuery:function(e,t){var n;1&e&&o.Fc(Pe,1),2&e&&o.sc(n=o.dc())&&(t.headers=n)},inputs:{forceRefreshData:"forceRefreshData"},outputs:{onSelected:"onSelected"},features:[o.zb([$e,b.f])],decls:57,vars:24,consts:[[3,"type","dismissible",4,"ngIf"],[3,"type","closed",4,"ngIf"],[1,"d-flex","justify-content-between","p-2"],[1,"row"],[1,"col-"],["type","button","ngbTooltip","Actualizar lista de registros",1,"btn","btn-outline-primary",3,"click"],["aria-hidden","true",1,"fa","fa-refresh"],[1,"col-auto","form-group","form-inline","d-none","d-sm-inline"],[1,"d-none","d-sm-inline"],["name","pageSize",1,"custom-select","mx-2",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],[1,"col-auto","form-group","form-inline"],[1,"inner-addon","right-addon"],["class","fa fa-refresh fa-spin fa-fw text-warning p-0",4,"ngIf"],["type","text","name","searchTerm","placeholder","Buscar en la lista",1,"form-control","ml-2",3,"ngModel","ngModelChange"],[1,"table","table-striped","text-white"],["scope","col"],["scope","col","sortable","id",3,"sort"],["scope","col","sortable","noCtrl",3,"sort"],["scope","col","sortable","curp",3,"sort"],["scope","col","sortable","primerApellido",3,"sort"],["scope","col","sortable","segundoApellido",3,"sort"],["scope","col","sortable","nombres",3,"sort"],[4,"ngIf","ngIfElse"],["renderData",""],["nodataResult",""],["class","d-flex justify-content-between p-2",4,"ngIf"],[3,"type","dismissible"],[1,"font-weight-bold"],["aria-hidden","true",3,"class",4,"ngIf"],[4,"ngIf"],["class","m-0 p-0",4,"ngIf"],["aria-hidden","true"],[1,"m-0","p-0"],[3,"type","closed"],[1,"fa","fa-refresh","fa-spin","fa-fw","text-warning","p-0"],["scope","row","colspan","8",1,"text-center"],[1,"fa","fa-cog","fa-spin","fa-3x","fa-fw",2,"vertical-align","middle"],[4,"ngFor","ngForOf"],[2,"width","1px"],["type","button","ngbTooltip","Mostrar detalle del registro",1,"btn","btn-link","text-success",3,"click"],["aria-hidden","true",1,"fa","fa-plus-circle"],["scope","row"],[3,"result","term"],["role","group","aria-label","",1,"btn-group"],["type","button","ngbTooltip","Editar registro",1,"btn","btn-secondary",3,"click"],["aria-hidden","true",1,"fa","fa-pencil-square-o"],[1,"tableDetail","d-none",3,"ngClass"],["colspan","8",1,"_d-none"],[1,"col-12","col-md-4"],[1,"tableDetailSccionTitle"],[1,"m-0","p-0","pl-2"],[1,"m-0","p-0","pl-2","text-lowercase"],["scope","row","colspan","8",1,"text-center","text-danger"],["aria-hidden","true",1,"fa","fa-info-circle","pr-2"],[3,"collectionSize","page","pageSize","pageChange"],[1,"font-weight-bold","pl-2"]],template:function(e,t){if(1&e&&(o.yc(0,je,5,5,"ngb-alert",0),o.gc(1,"async"),o.yc(2,Be,5,4,"ngb-alert",1),o.gc(3,"async"),o.Sb(4,"form"),o.Sb(5,"div",2),o.Sb(6,"div",3),o.Sb(7,"div",4),o.Sb(8,"button",5),o.cc("click",function(){return t.service.refreshTable()}),o.Ob(9,"i",6),o.Rb(),o.Rb(),o.Sb(10,"div",7),o.Sb(11,"span",8),o.Ac(12,"Mostrar"),o.Rb(),o.Sb(13,"select",9),o.cc("ngModelChange",function(e){return t.service.pageSize=e}),o.Sb(14,"option",10),o.Ac(15,"10"),o.Rb(),o.Sb(16,"option",10),o.Ac(17,"30"),o.Rb(),o.Sb(18,"option",10),o.Ac(19,"50"),o.Rb(),o.Sb(20,"option",10),o.Ac(21,"100"),o.Rb(),o.Rb(),o.Sb(22,"span",8),o.Ac(23,"registros"),o.Rb(),o.Rb(),o.Rb(),o.Sb(24,"div",11),o.Sb(25,"div",12),o.yc(26,qe,1,0,"i",13),o.gc(27,"async"),o.Sb(28,"input",14),o.cc("ngModelChange",function(e){return t.service.searchTerm=e}),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Sb(29,"table",15),o.Sb(30,"thead"),o.Sb(31,"tr"),o.Sb(32,"th",16),o.Ac(33,"\xa0"),o.Rb(),o.Sb(34,"th",17),o.cc("sort",function(e){return t.onSort(e)}),o.Ac(35,"#"),o.Rb(),o.Sb(36,"th",18),o.cc("sort",function(e){return t.onSort(e)}),o.Ac(37,"N\xfamero de control"),o.Rb(),o.Sb(38,"th",19),o.cc("sort",function(e){return t.onSort(e)}),o.Ac(39,"CURP"),o.Rb(),o.Sb(40,"th",20),o.cc("sort",function(e){return t.onSort(e)}),o.Ac(41,"Primer apellido"),o.Rb(),o.Sb(42,"th",21),o.cc("sort",function(e){return t.onSort(e)}),o.Ac(43,"Segundo apellido"),o.Rb(),o.Sb(44,"th",22),o.cc("sort",function(e){return t.onSort(e)}),o.Ac(45,"Nombre(s)"),o.Rb(),o.Sb(46,"th",16),o.Ac(47,"\xa0"),o.Rb(),o.Rb(),o.Rb(),o.yc(48,Ve,6,0,"tbody",23),o.gc(49,"async"),o.yc(50,Ue,2,4,"ng-template",null,24,o.zc),o.yc(52,Ge,5,0,"ng-template",null,25,o.zc),o.Rb(),o.yc(54,We,8,14,"div",26),o.gc(55,"async"),o.gc(56,"async"),o.Rb()),2&e){var n=o.tc(51);o.lc("ngIf",o.hc(1,12,t.service.err$)),o.Ab(2),o.lc("ngIf",t.alertMsg&&!o.hc(3,14,t.service.err$)),o.Ab(11),o.lc("ngModel",t.service.pageSize),o.Ab(1),o.lc("ngValue",10),o.Ab(2),o.lc("ngValue",30),o.Ab(2),o.lc("ngValue",50),o.Ab(2),o.lc("ngValue",100),o.Ab(6),o.lc("ngIf",o.hc(27,16,t.service.loading$)),o.Ab(2),o.lc("ngModel",t.service.searchTerm),o.Ab(20),o.lc("ngIf",o.hc(49,18,t.service.loading$))("ngIfElse",n),o.Ab(6),o.lc("ngIf",0==o.hc(55,20,t.service.loading$)&&o.hc(56,22,t.total$)>0)}},directives:[b.n,x.r,x.j,x.k,M.n,x.o,x.i,x.l,x.m,x.q,x.b,Pe,M.b,b.m,M.d,b.l,M.g],pipes:[b.b],styles:['th[sortable][_ngcontent-%COMP%]{cursor:pointer;-moz-user-select:none;user-select:none;-webkit-user-select:none}th[sortable].asc[_ngcontent-%COMP%]:before, th[sortable].desc[_ngcontent-%COMP%]:before{font-family:FontAwesome;font-weight:900;content:"\\f063";display:block;float:left;margin-left:-30px;color:#fff}th[sortable].desc[_ngcontent-%COMP%]:before{transform:rotate(180deg);-ms-transform:rotate(180deg)}ngbd-table-complete[_ngcontent-%COMP%]   span.ngb-highlight[_ngcontent-%COMP%], ngbd-table-filtering[_ngcontent-%COMP%]   span.ngb-highlight[_ngcontent-%COMP%]{background-color:#ff0}.inner-addon[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin:12px 0 0!important}  body:not(.om) .table.text-white{color:#333!important}  body.om .table-striped tbody tr:nth-of-type(odd){background-color:hsla(0,0%,100%,.11)}']}),Ze);function Ke(e,t){if(1&e&&(o.Sb(0,"h2",8),o.Ob(1,"i",9),o.Ac(2),o.Rb()),2&e){var n=o.fc();o.Ab(1),o.lc("ngClass",null==n.titlePageHeader?null:n.titlePageHeader.icon),o.Ab(1),o.Cc(" ",n.titlePageHeader.title," ")}}function Xe(e,t){if(1&e){var n=o.Tb();o.Sb(0,"div"),o.Sb(1,"button",14),o.cc("click",function(){return o.uc(n),o.fc(2).newRecord()}),o.Ob(2,"i",15),o.Ac(3," Nuevo"),o.Rb(),o.Rb()}}function Ye(e,t){if(1&e&&(o.Sb(0,"div",10),o.Sb(1,"button",11),o.Sb(2,"h5"),o.Ob(3,"i",12),o.Ac(4," Formulario de registro"),o.Rb(),o.Rb(),o.yc(5,Xe,4,0,"div",13),o.gc(6,"async"),o.Rb()),2&e){var n=o.fc();o.Ab(5),o.lc("ngIf",o.hc(6,1,n.editMode))}}function et(e,t){if(1&e){var n=o.Tb();o.Sb(0,"app-form-persons",16),o.cc("onAddorEdit",function(e){return o.uc(n),o.fc().refreshControls(e)}),o.Rb()}if(2&e){var r=o.fc();o.lc("editMode",r.editMode)}}function tt(e,t){1&e&&(o.Sb(0,"h5"),o.Ob(1,"i",17),o.Ac(2," Lista de registros"),o.Rb())}function nt(e,t){if(1&e){var n=o.Tb();o.Sb(0,"app-table-persons",18),o.cc("onSelected",function(e){return o.uc(n),o.fc().recordSelected(e)}),o.Rb()}if(2&e){var r=o.fc();o.lc("forceRefreshData",r.refreshData)}}var rt,it,ct,st=((rt=function(){function e(t,r){var i=this;n(this,e),this.store=t,this.router=r,this._subs$=[],this.activeIds="",this.editMode=new C.a,this.refreshData=new C.a,this._subs$.push(this.store.select("currentPage").subscribe(function(e){i.titlePageHeader=e})),this.activeIds="static-2",this.store.dispatch(a.a({current:{icon:"fa-table",title:"Cat\xe1logo de Personas",description:"",url:this.router.url}}))}return i(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this._subs$.forEach(function(e){try{e.unsubscribe()}catch(t){}})}},{key:"newRecord",value:function(){this.store.dispatch(k.b({dataModel:null})),this.editMode.next(!1)}},{key:"recordSelected",value:function(e){this.store.dispatch(k.b({dataModel:e})),this.dtElement.expand("static-1"),this.editMode.next(!0)}},{key:"refreshControls",value:function(e){this.store.dispatch(k.b({dataModel:null})),this.dtElement.expand("static-2"),this.editMode.next(!1),this.refreshData.next(e)}}]),e}()).\u0275fac=function(e){return new(e||rt)(o.Nb(l.h),o.Nb(s.b))},rt.\u0275cmp=o.Hb({type:rt,selectors:[["app-persons"]],viewQuery:function(e,t){var n;1&e&&o.Fc(M.a,1),2&e&&o.sc(n=o.dc())&&(t.dtElement=n.first)},decls:9,vars:4,consts:[[1,"extendWorkJob","d-flex","flex-column","justify-content-center","px-lg-5","px-1"],["class","pageHeader",4,"ngIf"],["ngbAccordion","",3,"closeOthers","activeIds","destroyOnHide"],["id","static-1"],["ngbPanelHeader",""],["ngbPanelContent",""],["id","static-2"],["ngbPanelTitle",""],[1,"pageHeader"],["aria-hidden","true",1,"fa",3,"ngClass"],[1,"d-flex","align-items-center","justify-content-between"],["ngbPanelToggle","",1,"btn","btn-link"],["aria-hidden","true",1,"fa","fa-newspaper-o"],[4,"ngIf"],[1,"btn","btn-sm","btn-outline-primary","ml-2",3,"click"],["aria-hidden","true",1,"fa","fa-plus"],[3,"editMode","onAddorEdit"],["aria-hidden","true",1,"fa","fa-th"],[3,"forceRefreshData","onSelected"]],template:function(e,t){1&e&&(o.Sb(0,"div",0),o.yc(1,Ke,3,2,"h2",1),o.Sb(2,"ngb-accordion",2),o.Sb(3,"ngb-panel",3),o.yc(4,Ye,7,3,"ng-template",4),o.yc(5,et,1,1,"ng-template",5),o.Rb(),o.Sb(6,"ngb-panel",6),o.yc(7,tt,3,0,"ng-template",7),o.yc(8,nt,1,1,"ng-template",5),o.Rb(),o.Rb(),o.Rb()),2&e&&(o.Ab(1),o.lc("ngIf",t.titlePageHeader),o.Ab(1),o.lc("closeOthers",!0)("activeIds",t.activeIds)("destroyOnHide",!1))},directives:[b.n,M.a,M.h,M.j,M.i,M.k,b.l,M.l,Oe,Qe],pipes:[b.b],styles:[".card{background-color:transparent!important}  .card .card-header{background-color:hsla(0,0%,100%,.050980392156862744)}  .card .card-header button{width:100%;text-align:left}  .btn-link{color:#fff;text-decoration:none!important}  .btn-link:hover,   body:not(.om) .btn-link:hover{color:#0056b3;text-decoration:none!important}  body:not(.om) .btn-link{color:#333;text-decoration:none!important}"]}),rt),at=c("qvEf"),ot=((ct=function(){function e(t){n(this,e),this.http=t}return i(e,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.http.get("".concat(P.a.apis.recon.url,"/admin/users?skip=").concat(e,"&take=").concat(t,"&filter=").concat(n)).pipe(Object(_.a)(function(e){if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(E.a)(function(e){}))}},{key:"byId",value:function(e){return this.http.get("".concat(P.a.apis.recon.url,"/admin/user?id=").concat(e)).pipe(Object(_.a)(function(e){if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(E.a)(function(e){}))}},{key:"add",value:function(e){return this.http.post("".concat(P.a.apis.recon.url,"/admin/user"),e).pipe(Object(_.a)(function(e){if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(E.a)(function(e){}))}},{key:"edit",value:function(e){return this.http.patch("".concat(P.a.apis.recon.url,"/admin/user"),e).pipe(Object(_.a)(function(e){if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(E.a)(function(e){}))}}]),e}()).\u0275fac=function(e){return new(e||ct)(o.Zb(D.b))},ct.\u0275prov=o.Jb({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct),lt=((it=function(){function e(t){n(this,e),this.http=t}return i(e,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return this.http.get("".concat(P.a.apis.recon.url,"/admin/roles?skip=").concat(e,"&take=").concat(t,"&filter=").concat(n)).pipe(Object(_.a)(function(e){if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(E.a)(function(e){}))}}]),e}()).\u0275fac=function(e){return new(e||it)(o.Zb(D.b))},it.\u0275prov=o.Jb({token:it,factory:it.\u0275fac,providedIn:"root"}),it),bt=c("eACs");function ut(e,t){if(1&e&&o.Ob(0,"i",22),2&e){var n=o.fc(2);o.Db("fa ",n.alertMsg.icon," mr-2")}}function dt(e,t){if(1&e&&(o.Sb(0,"span"),o.Ac(1),o.Rb()),2&e){var n=o.fc(2);o.Ab(1),o.Bc(n.alertMsg.title)}}function ft(e,t){if(1&e&&(o.Sb(0,"p",23),o.Ac(1),o.Rb()),2&e){var n=o.fc(2);o.Ab(1),o.Bc(n.alertMsg.message)}}function ht(e,t){if(1&e&&(o.Sb(0,"ngb-alert",17),o.Sb(1,"h5",18),o.yc(2,ut,1,3,"i",19),o.yc(3,dt,2,1,"span",20),o.Rb(),o.yc(4,ft,2,1,"p",21),o.Rb()),2&e){var n=o.fc();o.lc("type",n.alertMsg.type)("dismissible",!1),o.Ab(2),o.lc("ngIf",n.alertMsg.icon),o.Ab(1),o.lc("ngIf",n.alertMsg.title),o.Ab(1),o.lc("ngIf",n.alertMsg.message)}}function pt(e,t){1&e&&o.Ob(0,"i",25)}function gt(e,t){1&e&&o.Ob(0,"i",26)}function mt(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"Informaci\xf3n requerida"),o.Rb())}function vt(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"La longitud m\xednima es de 4 caracteres"),o.Rb())}function St(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"La longitud m\xe1xima es de 50 caracteres"),o.Rb())}function yt(e,t){if(1&e&&(o.Sb(0,"div",27),o.Ob(1,"i",28),o.yc(2,mt,2,0,"span",20),o.yc(3,vt,2,0,"span",20),o.yc(4,St,2,0,"span",20),o.Rb()),2&e){var n=o.fc(2);o.Ab(2),o.lc("ngIf",n.f.username.errors.required),o.Ab(1),o.lc("ngIf",n.f.username.errors.minlength),o.Ab(1),o.lc("ngIf",n.f.username.errors.maxlength)}}var At=function(e){return{errBorder:e}};function Rt(e,t){if(1&e&&(o.Sb(0,"div",4),o.Sb(1,"label"),o.Ac(2,"Nombre de usuario"),o.Rb(),o.Sb(3,"div",5),o.yc(4,pt,1,0,"i",6),o.yc(5,gt,1,0,"i",7),o.Ob(6,"input",24),o.Rb(),o.yc(7,yt,5,3,"div",9),o.Rb()),2&e){var n=o.fc();o.Ab(4),o.lc("ngIf",n.formSubmitted&&n.f.username.valid),o.Ab(1),o.lc("ngIf",n.formSubmitted&&n.f.username.invalid),o.Ab(1),o.lc("ngClass",o.pc(4,At,n.formSubmitted&&n.f.username.invalid)),o.Ab(1),o.lc("ngIf",n.formSubmitted&&n.f.username.invalid)}}function wt(e,t){if(1&e&&(o.Sb(0,"div",4),o.Sb(1,"label"),o.Ac(2,"Nombre de usuario"),o.Rb(),o.Sb(3,"div",29),o.Sb(4,"h4"),o.Ac(5),o.Rb(),o.Rb(),o.Rb()),2&e){var n=o.fc();o.Ab(5),o.Bc(n.f.username.value)}}function It(e,t){1&e&&o.Ob(0,"i",25)}function Ot(e,t){1&e&&o.Ob(0,"i",26)}function Mt(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"Informaci\xf3n requerida"),o.Rb())}function Ct(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"La longitud m\xednima es de 6 caracteres"),o.Rb())}function kt(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"La longitud m\xe1xima es de 50 caracteres"),o.Rb())}function xt(e,t){if(1&e&&(o.Sb(0,"div",27),o.Ob(1,"i",28),o.yc(2,Mt,2,0,"span",20),o.yc(3,Ct,2,0,"span",20),o.yc(4,kt,2,0,"span",20),o.Rb()),2&e){var n=o.fc(2);o.Ab(2),o.lc("ngIf",n.f.password.errors.required),o.Ab(1),o.lc("ngIf",n.f.password.errors.minlength),o.Ab(1),o.lc("ngIf",n.f.password.errors.maxlength)}}function _t(e,t){if(1&e&&(o.Sb(0,"div",4),o.Sb(1,"label"),o.Ac(2,"Contrase\xf1a"),o.Rb(),o.Sb(3,"div",5),o.yc(4,It,1,0,"i",6),o.yc(5,Ot,1,0,"i",7),o.Ob(6,"input",30),o.Rb(),o.yc(7,xt,5,3,"div",9),o.Rb()),2&e){var n=o.fc();o.Ab(4),o.lc("ngIf",n.formSubmitted&&n.f.password.valid),o.Ab(1),o.lc("ngIf",n.formSubmitted&&n.f.password.invalid),o.Ab(1),o.lc("ngClass",o.pc(4,At,n.formSubmitted&&n.f.password.invalid)),o.Ab(1),o.lc("ngIf",n.formSubmitted&&n.f.password.invalid)}}function $t(e,t){1&e&&o.Ob(0,"i",25)}function Et(e,t){1&e&&o.Ob(0,"i",26)}function Pt(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"Informaci\xf3n requerida"),o.Rb())}function Dt(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"La longitud m\xednima es de 6 caracteres"),o.Rb())}function Tt(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"La longitud m\xe1xima es de 50 caracteres"),o.Rb())}function Lt(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"La contrase\xf1a y confirmaci\xf3n no coinciden"),o.Rb())}function jt(e,t){if(1&e&&(o.Sb(0,"div",27),o.Ob(1,"i",28),o.yc(2,Pt,2,0,"span",20),o.yc(3,Dt,2,0,"span",20),o.yc(4,Tt,2,0,"span",20),o.yc(5,Lt,2,0,"span",20),o.Rb()),2&e){var n=o.fc(2);o.Ab(2),o.lc("ngIf",null==n.f.confPwd.errors?null:n.f.confPwd.errors.required),o.Ab(1),o.lc("ngIf",null==n.f.confPwd.errors?null:n.f.confPwd.errors.minlength),o.Ab(1),o.lc("ngIf",null==n.f.confPwd.errors?null:n.f.confPwd.errors.maxlength),o.Ab(1),o.lc("ngIf",(null==n.frmgp.errors?null:n.frmgp.errors.confirm)&&n.f.confPwd.valid)}}function Nt(e,t){if(1&e&&(o.Sb(0,"div",4),o.Sb(1,"label"),o.Ac(2,"Confirmar contrase\xf1a"),o.Rb(),o.Sb(3,"div",5),o.yc(4,$t,1,0,"i",6),o.yc(5,Et,1,0,"i",7),o.Ob(6,"input",31),o.Rb(),o.yc(7,jt,6,4,"div",9),o.Rb()),2&e){var n=o.fc();o.Ab(4),o.lc("ngIf",n.formSubmitted&&n.f.confPwd.valid),o.Ab(1),o.lc("ngIf",n.formSubmitted&&n.f.confPwd.invalid),o.Ab(1),o.lc("ngClass",o.pc(4,At,n.formSubmitted&&n.f.confPwd.invalid)),o.Ab(1),o.lc("ngIf",n.formSubmitted&&(n.f.confPwd.invalid||(null==n.frmgp.errors?null:n.frmgp.errors.confirm)))}}function zt(e,t){1&e&&o.Ob(0,"i",25)}function Ht(e,t){1&e&&o.Ob(0,"i",26)}function Bt(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"Informaci\xf3n requerida"),o.Rb())}function qt(e,t){if(1&e&&(o.Sb(0,"div",27),o.Ob(1,"i",28),o.yc(2,Bt,2,0,"span",20),o.Rb()),2&e){var n=o.fc();o.Ab(2),o.lc("ngIf",n.f.idPerson.errors.required)}}function Vt(e,t){1&e&&o.Ob(0,"i",25)}function Ft(e,t){1&e&&o.Ob(0,"i",26)}function Jt(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"Debe seleccionar al menos un rol"),o.Rb())}function Ut(e,t){if(1&e&&(o.Sb(0,"div",27),o.Ob(1,"i",28),o.yc(2,Jt,2,0,"span",20),o.Rb()),2&e){var n=o.fc();o.Ab(2),o.lc("ngIf",n.f.idRoles.errors.required)}}function Gt(e,t){1&e&&o.Ob(0,"i",32)}function Wt(e,t){1&e&&o.Ob(0,"span",33)}var Zt,Qt,Kt=function(){return{width:"100%",multiple:!0}},Xt=((Zt=function(){function e(t,r,i,c,s,a){n(this,e),this.fb=t,this.store=r,this.usersService=i,this.handlerErrorsService=c,this.rolesService=s,this.personsService=a,this._subs$=[],this.onAddorEdit=new o.n,this.select2Language={noResults:function(){return"No se encontraron resultado"},searching:function(){return"Buscando.."}},this.persons=[],this.personsSelect=[],this.roles=[],this.rolesSelect=[],this.frmgp=this.fb.group({id:[""],idPerson:["",[x.p.required]],idDepto:[0,[x.p.required]],username:["",[x.p.required,x.p.minLength(4),x.p.maxLength(50)]],password:["",[x.p.required,x.p.minLength(6),x.p.maxLength(50)]],confPwd:["",[x.p.required,x.p.minLength(6),x.p.maxLength(50)]],idRoles:[null,[x.p.required]]},{validator:this.passwordConfirming}),this.formSubmitted=!1,this.withErr=!1,this.alertMsg=null}return i(e,[{key:"ngOnInit",value:function(){var e=this;this._subs$.push(this.store.select("catalogUsers").subscribe(function(t){return e.editModel=t.selected})),this._subs$.push(this.editMode.subscribe(function(t){e._populateFormEditMode(t)})),this._subs$.push(this.personsService.data().subscribe(function(t){e.persons=t,e.personsSelect=e.persons.sort(function(e,t){var n="".concat(e.nombres," ").concat(e.primerApellido," ").concat(e.segundoApellido),r="".concat(t.nombres," ").concat(t.primerApellido," ").concat(t.segundoApellido);return n>r?1:n<r?-1:0}).map(function(e){return{id:e.id.toString(),text:"".concat(e.nombres," ").concat(e.primerApellido," ").concat(e.segundoApellido)}})})),this._subs$.push(this.rolesService.data().subscribe(function(t){e.roles=t,e.rolesSelect=e.roles.sort(function(e,t){return e.role>t.role?1:e.role<t.role?-1:0}).map(function(e){return{id:e.id.toString(),text:e.role}})})),this.personsSelectValue="",this.rolesSelectValue=[],this.personsSelectOptions={width:"100%",multiple:!1,language:this.select2Language},this.rolesSelectOptions={width:"100%",multiple:!0,language:this.select2Language}}},{key:"ngOnDestroy",value:function(){this._subs$.forEach(function(e){try{e.unsubscribe()}catch(t){}})}},{key:"f",get:function(){return this.frmgp.controls}},{key:"passwordConfirming",value:function(e){if(e.get("password").value!==e.get("confPwd").value)return{confirm:!0}}},{key:"_populateFormEditMode",value:function(e){var t,n,r,i,c,s;this.withErr=!1,this.formSubmitted=!1,this.alertMsg=null,this.f.id.patchValue(null===(t=this.editModel)||void 0===t?void 0:t.id),this.f.idDepto.patchValue(null===(n=this.editModel)||void 0===n?void 0:n.idDepto),this.f.username.patchValue(null===(r=this.editModel)||void 0===r?void 0:r.username),this.personsSelectValue=null===(c=null===(i=this.editModel)||void 0===i?void 0:i.person)||void 0===c?void 0:c.id.toString(),this.f.idPerson.patchValue(this.personsSelectValue),this.rolesSelectValue=null===(s=this.editModel)||void 0===s?void 0:s.roles.map(function(e){return e.id.toString()}),this.f.idRoles.patchValue(this.rolesSelectValue),this.f.password.patchValue(e?"dataPatched":""),this.f.confPwd.patchValue(e?"dataPatched":""),$("form input:first").select()}},{key:"changedPersonsSelect",value:function(e){this.f.idPerson.patchValue(e)}},{key:"changedRolesSelect",value:function(e){this.f.idRoles.patchValue(e)}},{key:"onSubmit",value:function(){this.withErr=!1,this.formSubmitted=!0,this.alertMsg=null;try{if(!this.frmgp.valid)throw new Error("Se encontraron errores de formulario");this.editModel?this.editAction():this.addAction()}catch(e){this.showAlert(e.message,"danger","fa-times-circle-o","Error"),this.withErr=!0}}},{key:"showAlert",value:function(e,t,n,r){this.alertMsg={type:t,icon:n,title:r,message:e}}},{key:"addAction",value:function(){var e=this;try{this._subs$.push(this.usersService.add(this.frmgp.value).subscribe(function(t){e.onAddorEdit.emit({status:!0,action:"add"})},function(t){e.showAlert(e.handlerErrorsService.parseMsgError(t),"danger","fa-times-circle-o","Error"),e.withErr=!0}))}catch(t){this.showAlert(this.handlerErrorsService.parseMsgError(t),"danger","fa-times-circle-o","Error"),this.withErr=!0}}},{key:"editAction",value:function(){var e=this;try{this.f.password.patchValue(null),this.f.confPwd.patchValue(null),this._subs$.push(this.usersService.edit(this.frmgp.value).subscribe(function(t){e.onAddorEdit.emit({status:!0,action:"update"})},function(t){e.showAlert(e.handlerErrorsService.parseMsgError(t),"danger","fa-times-circle-o","Error"),e.withErr=!0}))}catch(t){this.showAlert(this.handlerErrorsService.parseMsgError(t),"danger","fa-times-circle-o","Error"),this.withErr=!0}}}]),e}()).\u0275fac=function(e){return new(e||Zt)(o.Nb(x.c),o.Nb(l.h),o.Nb(ot),o.Nb(L.a),o.Nb(lt),o.Nb(T))},Zt.\u0275cmp=o.Hb({type:Zt,selectors:[["app-form-users"]],inputs:{editMode:"editMode"},outputs:{onAddorEdit:"onAddorEdit"},decls:34,vars:31,consts:[["autocomplete","off",3,"formGroup","ngSubmit"],[3,"type","dismissible",4,"ngIf"],[1,"form-row"],["class","col-12 col-md-4 py-2",4,"ngIf"],[1,"col-12","col-md-4","py-2"],[1,"inner-addon","right-addon"],["class","fa fa-check-circle-o text-success","aria-hidden","true",4,"ngIf"],["class","fa fa-times-circle-o text-danger","aria-hidden","true",4,"ngIf"],["placeholder","Persona",3,"data","options","value","valueChanged"],["class","text-danger",4,"ngIf"],["placeholder","Selecciona al menos 1 rol",3,"data","options","value","valueChanged"],[1,"text-right"],["ngClass","btn-outline-success",1,"btn",3,"disabled"],["class","fa fa-pencil-square-o","aria-hidden","true","type","submit",4,"ngIf"],["class","spinner-grow spinner-grow-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"ml-2"],["type","hidden","id","id","name","id","formControlName","id"],[3,"type","dismissible"],[1,"font-weight-bold"],["aria-hidden","true",3,"class",4,"ngIf"],[4,"ngIf"],["class","m-0 p-0",4,"ngIf"],["aria-hidden","true"],[1,"m-0","p-0"],["id","noctrl","type","text","placeholder","Nombre de usuario","formControlName","username",1,"form-control",3,"ngClass"],["aria-hidden","true",1,"fa","fa-check-circle-o","text-success"],["aria-hidden","true",1,"fa","fa-times-circle-o","text-danger"],[1,"text-danger"],["aria-hidden","true",1,"fa","fa-exclamation-triangle","mr-2"],[1,"inner-addon","right-addon","text-center"],["id","password","type","password","placeholder","Contrase\xf1a","formControlName","password",1,"form-control",3,"ngClass"],["id","confPwd","type","password","placeholder","Confirmar contrase\xf1a","formControlName","confPwd",1,"form-control",3,"ngClass"],["aria-hidden","true","type","submit",1,"fa","fa-pencil-square-o"],["role","status","aria-hidden","true",1,"spinner-grow","spinner-grow-sm"]],template:function(e,t){1&e&&(o.Sb(0,"form",0),o.cc("ngSubmit",function(){return t.onSubmit()}),o.yc(1,ht,5,5,"ngb-alert",1),o.Sb(2,"div",2),o.yc(3,Rt,8,6,"div",3),o.gc(4,"async"),o.yc(5,wt,6,1,"div",3),o.gc(6,"async"),o.yc(7,_t,8,6,"div",3),o.gc(8,"async"),o.yc(9,Nt,8,6,"div",3),o.gc(10,"async"),o.Sb(11,"div",4),o.Sb(12,"label"),o.Ac(13,"Persona"),o.Rb(),o.Sb(14,"div",5),o.yc(15,zt,1,0,"i",6),o.yc(16,Ht,1,0,"i",7),o.Sb(17,"ng-select2",8),o.cc("valueChanged",function(e){return t.changedPersonsSelect(e)}),o.Rb(),o.Rb(),o.yc(18,qt,3,1,"div",9),o.Rb(),o.Sb(19,"div",4),o.Sb(20,"label"),o.Ac(21,"Rol(es)"),o.Rb(),o.Sb(22,"div",5),o.yc(23,Vt,1,0,"i",6),o.yc(24,Ft,1,0,"i",7),o.Sb(25,"ng-select2",10),o.cc("valueChanged",function(e){return t.changedRolesSelect(e)}),o.Rb(),o.Rb(),o.yc(26,Ut,3,1,"div",9),o.Rb(),o.Rb(),o.Sb(27,"div",11),o.Sb(28,"button",12),o.yc(29,Gt,1,0,"i",13),o.yc(30,Wt,1,0,"span",14),o.Sb(31,"span",15),o.Ac(32),o.Rb(),o.Rb(),o.Rb(),o.Ob(33,"input",16),o.Rb()),2&e&&(o.lc("formGroup",t.frmgp),o.Ab(1),o.lc("ngIf",t.alertMsg),o.Ab(2),o.lc("ngIf",1!=o.hc(4,22,t.editMode)),o.Ab(2),o.lc("ngIf",1==o.hc(6,24,t.editMode)),o.Ab(2),o.lc("ngIf",1!=o.hc(8,26,t.editMode)),o.Ab(2),o.lc("ngIf",1!=o.hc(10,28,t.editMode)),o.Ab(6),o.lc("ngIf",t.formSubmitted&&t.f.idPerson.valid),o.Ab(1),o.lc("ngIf",t.formSubmitted&&t.f.idPerson.invalid),o.Ab(1),o.lc("data",t.personsSelect)("options",t.personsSelectOptions)("value",t.personsSelectValue),o.Ab(1),o.lc("ngIf",t.formSubmitted&&t.f.idPerson.invalid),o.Ab(5),o.lc("ngIf",t.formSubmitted&&t.f.idRoles.valid),o.Ab(1),o.lc("ngIf",t.formSubmitted&&t.f.idRoles.invalid),o.Ab(1),o.lc("data",t.rolesSelect)("options",o.oc(30,Kt))("value",t.rolesSelectValue),o.Ab(1),o.lc("ngIf",t.formSubmitted&&t.f.idRoles.invalid),o.Ab(2),o.lc("disabled",t.formSubmitted&&!t.withErr),o.Ab(1),o.lc("ngIf",!t.formSubmitted||t.withErr),o.Ab(1),o.lc("ngIf",t.formSubmitted&&!t.withErr),o.Ab(2),o.Cc(" ",!t.formSubmitted||t.withErr?t.editModel?"Editar":"Registrar":"Procesando..."," "))},directives:[x.r,x.j,x.e,b.n,bt.a,b.l,x.b,x.i,x.d,M.b],pipes:[b.b],styles:[".select2-selection{min-height:38px!important}  .select2,   .select2-container{color:#333}  .select2-selection--single .select2-selection__rendered{line-height:36px!important}  .select2-selection--single .select2-selection__arrow{height:36px!important}"]}),Zt),Yt=c("PSD3"),en=c.n(Yt),tn=((Qt=function(){function t(e,r,i){var c=this;n(this,t),this.pipe=e,this.usersService=r,this.store=i,this._subs$=[],this._loading$=new Ce.a(!0),this._err$=new Ce.a(null),this._search$=new C.a,this._users$=new Ce.a([]),this._total$=new Ce.a(0),this._state={page:1,pageSize:10,searchTerm:"",sortColumn:"",sortDirection:""},this._subs$.push(this._search$.pipe(Object(E.a)(function(){c._err$.next(null),c._loading$.next(!0)}),Object(Me.a)(500),Object(xe.a)(function(){return c._dataList()}),Object(_.a)(function(e){return c._formating(e)}),Object(E.a)(function(){return c._loading$.next(!1)})).subscribe(function(e){c._users$.next(e.data),c._total$.next(e.total)})),this._search$.next()}return i(t,[{key:"ngOnDestroy",value:function(){this._subs$.forEach(function(e){try{e.unsubscribe()}catch(t){}})}},{key:"users$",get:function(){return this._users$.asObservable()}},{key:"total$",get:function(){return this._total$.asObservable()}},{key:"loading$",get:function(){return this._loading$.asObservable()}},{key:"err$",get:function(){return this._err$.asObservable()}},{key:"page",get:function(){return this._state.page},set:function(e){this._set({page:e})}},{key:"pageSize",get:function(){return this._state.pageSize},set:function(e){this._set({pageSize:e})}},{key:"searchTerm",get:function(){return this._state.searchTerm},set:function(e){this._set({searchTerm:e})}},{key:"sortColumn",set:function(e){this._set({sortColumn:e})}},{key:"sortDirection",set:function(e){this._set({sortDirection:e})}},{key:"refreshTable",value:function(){this._search$.next()}},{key:"_set",value:function(e){Object.assign(this._state,e),this._search$.next()}},{key:"_dataList",value:function(){var e=this,t=this._state.searchTerm;return this.usersService.data(null,null,t).pipe(Object(_e.a)(function(t){return e._err$.next(t),Object(ke.a)([])}))}},{key:"_formating",value:function(t){var n,r,i,c=this._state,s=c.searchTerm,a=c.sortColumn,o=c.sortDirection,l=c.pageSize,b=c.page,u=t;(a||o)&&(n=u,r=a,u=""===(i=o)||""===r?n:e(n).sort(function(e,t){var n,c,s=(n=e[r])<(c=t[r])?-1:n>c?1:0;return"asc"===i?s:-s})),s&&(u=u.filter(function(e){return function(e,t,n){return e.username.toLowerCase().includes(t.toLowerCase())||(e.active?"activo":"inactivo").includes(t)||e.fIns.toString().includes(t)||e.fAct.toString().includes(t)}(e,s)}));var d=u.length;return u=u.slice((b-1)*l,(b-1)*l+l),this.store.dispatch(at.a({data:u})),{data:u,total:d}}}]),t}()).\u0275fac=function(e){return new(e||Qt)(o.Zb(b.f),o.Zb(ot),o.Zb(l.h))},Qt.\u0275prov=o.Jb({token:Qt,factory:Qt.\u0275fac,providedIn:"root"}),Qt),nn={asc:"desc",desc:"","":"asc"},rn=function(){var e=function(){function e(){n(this,e),this.sortable="",this.direction="",this.sort=new o.n}return i(e,[{key:"rotate",value:function(){this.direction=nn[this.direction],this.sort.emit({column:this.sortable,direction:this.direction})}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=o.Ib({type:e,selectors:[["th","sortable",""]],hostVars:4,hostBindings:function(e,t){1&e&&o.cc("click",function(){return t.rotate()}),2&e&&o.Fb("asc","asc"===t.direction)("desc","desc"===t.direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sort:"sort"}}),e}();function cn(e,t){if(1&e&&o.Ob(0,"i",31),2&e){var n=o.fc(2);o.Db("fa ",n.alertMsg.icon," mr-2")}}function sn(e,t){if(1&e&&(o.Sb(0,"span"),o.Ac(1),o.Rb()),2&e){var n=o.fc(2);o.Ab(1),o.Bc(n.alertMsg.title)}}function an(e,t){if(1&e&&(o.Sb(0,"p",32),o.Ac(1),o.Rb()),2&e){var n=o.fc(2);o.Ab(1),o.Bc(n.alertMsg.message)}}function on(e,t){if(1&e&&(o.Sb(0,"ngb-alert",26),o.Sb(1,"h5",27),o.yc(2,cn,1,3,"i",28),o.yc(3,sn,2,1,"span",29),o.Rb(),o.yc(4,an,2,1,"p",30),o.Rb()),2&e){var n=o.fc();o.lc("type","danger")("dismissible",!1),o.Ab(2),o.lc("ngIf",n.alertMsg.icon),o.Ab(1),o.lc("ngIf",n.alertMsg.title),o.Ab(1),o.lc("ngIf",n.alertMsg.message)}}function ln(e,t){if(1&e&&o.Ob(0,"i",31),2&e){var n=o.fc(2);o.Db("fa ",n.alertMsg.icon," mr-2")}}function bn(e,t){if(1&e&&(o.Sb(0,"span"),o.Ac(1),o.Rb()),2&e){var n=o.fc(2);o.Ab(1),o.Bc(n.alertMsg.title)}}function un(e,t){if(1&e&&(o.Sb(0,"p",32),o.Ac(1),o.Rb()),2&e){var n=o.fc(2);o.Ab(1),o.Bc(n.alertMsg.message)}}function dn(e,t){if(1&e){var n=o.Tb();o.Sb(0,"ngb-alert",33),o.cc("closed",function(){return o.uc(n),o.fc().alertMsg=null}),o.Sb(1,"h5",27),o.yc(2,ln,1,3,"i",28),o.yc(3,bn,2,1,"span",29),o.Rb(),o.yc(4,un,2,1,"p",30),o.Rb()}if(2&e){var r=o.fc();o.lc("type",r.alertMsg.type),o.Ab(2),o.lc("ngIf",r.alertMsg.icon),o.Ab(1),o.lc("ngIf",r.alertMsg.title),o.Ab(1),o.lc("ngIf",r.alertMsg.message)}}function fn(e,t){1&e&&o.Ob(0,"i",34)}function hn(e,t){1&e&&(o.Sb(0,"tbody"),o.Sb(1,"tr"),o.Sb(2,"th",35),o.Ob(3,"i",36),o.Sb(4,"span"),o.Ac(5,"Actualizndo informaci\xf3n..."),o.Rb(),o.Rb(),o.Rb(),o.Rb())}function pn(e,t){if(1&e){var n=o.Tb();o.Sb(0,"button",54),o.cc("click",function(){o.uc(n);var e=o.fc().$implicit;return o.fc(3).activeInactiveRecord(e.id,!1)}),o.Ob(1,"i",55),o.Rb()}}function gn(e,t){if(1&e){var n=o.Tb();o.Sb(0,"button",56),o.cc("click",function(){o.uc(n);var e=o.fc().$implicit;return o.fc(3).activeInactiveRecord(e.id,!0)}),o.Ob(1,"i",57),o.Rb()}}function mn(e,t){if(1&e&&(o.Sb(0,"li"),o.Ac(1),o.Rb()),2&e){var n=t.$implicit;o.Ab(1),o.Bc(n.role)}}function vn(e,t){if(1&e){var n=o.Tb();o.Qb(0),o.Sb(1,"tr"),o.Sb(2,"td",38),o.Sb(3,"button",39),o.cc("click",function(e){o.uc(n);var r=t.$implicit;return o.fc(3).toggleTableDetail(r.id,e)}),o.Ob(4,"i",40),o.Rb(),o.Rb(),o.Sb(5,"th",41),o.Ac(6),o.Rb(),o.Sb(7,"td"),o.Ob(8,"ngb-highlight",42),o.Rb(),o.Sb(9,"td"),o.Ob(10,"ngb-highlight",42),o.Rb(),o.Sb(11,"td"),o.Ob(12,"ngb-highlight",42),o.gc(13,"date"),o.Rb(),o.Sb(14,"td"),o.Ob(15,"ngb-highlight",42),o.gc(16,"date"),o.Rb(),o.Sb(17,"td",38),o.Sb(18,"div",43),o.Sb(19,"button",44),o.cc("click",function(){o.uc(n);var e=t.$implicit;return o.fc(3).editRecord(e)}),o.Ob(20,"i",45),o.Rb(),o.yc(21,pn,2,0,"button",46),o.yc(22,gn,2,0,"button",47),o.Rb(),o.Rb(),o.Rb(),o.Sb(23,"tr",48),o.Sb(24,"td",49),o.Sb(25,"div",3),o.Sb(26,"div",50),o.Sb(27,"h6",51),o.Ac(28,"N\xfamero de control"),o.Rb(),o.Sb(29,"p",52),o.Ac(30),o.Rb(),o.Rb(),o.Sb(31,"div",50),o.Sb(32,"h6",51),o.Ac(33,"Nombre"),o.Rb(),o.Sb(34,"p",52),o.Ac(35),o.Rb(),o.Rb(),o.Sb(36,"div",50),o.Sb(37,"h6",51),o.Ac(38,"CURP"),o.Rb(),o.Sb(39,"p",52),o.Ac(40),o.Rb(),o.Rb(),o.Sb(41,"div",50),o.Sb(42,"h6",51),o.Ac(43,"Correo electr\xf3nico"),o.Rb(),o.Sb(44,"p",53),o.Ac(45),o.Rb(),o.Rb(),o.Sb(46,"div",50),o.Sb(47,"h6",51),o.Ac(48,"Tel\xe9fono fijo"),o.Rb(),o.Sb(49,"p",53),o.Ac(50),o.Rb(),o.Rb(),o.Sb(51,"div",50),o.Sb(52,"h6",51),o.Ac(53,"Celular"),o.Rb(),o.Sb(54,"p",53),o.Ac(55),o.Rb(),o.Rb(),o.Sb(56,"div",50),o.Sb(57,"h6",51),o.Ac(58,"Roles"),o.Rb(),o.Sb(59,"ul"),o.yc(60,mn,2,1,"li",37),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Pb()}if(2&e){var r=t.$implicit,i=o.fc(3);o.Ab(6),o.Bc(r.id),o.Ab(2),o.lc("result",r.username)("term",i.service.searchTerm),o.Ab(2),o.lc("result",r.active?"Activo":"Inactivo")("term",i.service.searchTerm),o.Ab(2),o.lc("result",o.ic(13,19,r.fIns,"dd/MM/yyyy HH:mm"))("term",i.service.searchTerm),o.Ab(3),o.lc("result",o.ic(16,22,r.fAct,"dd/MM/yyyy HH:mm"))("term",i.service.searchTerm),o.Ab(6),o.lc("ngIf",r.active),o.Ab(1),o.lc("ngIf",!r.active),o.Ab(1),o.lc("ngClass","id_"+r.id),o.Ab(7),o.Bc(r.person.noCtrl),o.Ab(5),o.Bc(r.person.nombres+" "+r.person.primerApellido+" "+r.person.segundoApellido),o.Ab(5),o.Bc(r.person.curp),o.Ab(5),o.Bc(r.person.mail),o.Ab(5),o.Bc(r.person.tel),o.Ab(5),o.Bc(r.person.cel),o.Ab(5),o.lc("ngForOf",r.roles)}}function Sn(e,t){if(1&e&&(o.Sb(0,"tbody"),o.yc(1,vn,61,25,"ng-container",37),o.gc(2,"async"),o.Rb()),2&e){var n=o.fc(2);o.Ab(1),o.lc("ngForOf",o.hc(2,1,n.users$))}}function yn(e,t){if(1&e&&(o.yc(0,Sn,3,3,"tbody",22),o.gc(1,"async")),2&e){var n=o.fc(),r=o.tc(51);o.lc("ngIf",o.hc(1,2,n.total$))("ngIfElse",r)}}function An(e,t){1&e&&(o.Sb(0,"tbody"),o.Sb(1,"tr"),o.Sb(2,"th",58),o.Ob(3,"i",59),o.Ac(4," No se encontr\xf3 informaci\xf3n "),o.Rb(),o.Rb(),o.Rb())}function Rn(e,t){if(1&e){var n=o.Tb();o.Sb(0,"div",2),o.Sb(1,"ngb-pagination",60),o.cc("pageChange",function(e){return o.uc(n),o.fc().service.page=e}),o.gc(2,"async"),o.Rb(),o.Sb(3,"span",61),o.Ac(4),o.gc(5,"async"),o.gc(6,"async"),o.gc(7,"async"),o.Rb(),o.Rb()}if(2&e){var r=o.fc();o.Ab(1),o.lc("collectionSize",o.hc(2,6,r.total$))("page",r.service.page)("pageSize",r.service.pageSize),o.Ab(3),o.Ec(" Mostrando ",r.service.page*r.service.pageSize-r.service.pageSize+1," al ",r.service.page*r.service.pageSize<=o.hc(5,8,r.total$)?r.service.page*r.service.pageSize:o.hc(6,10,r.total$)," de ",o.hc(7,12,r.total$)," registros")}}var wn,In=((wn=function(){function e(t,r,i,c){n(this,e),this.service=t,this.store=r,this.handlerErrorsService=i,this.usersService=c,this._subs$=[],this.onSelected=new o.n,this.forceRefreshData=new C.a,this._autoCloseAlert=new C.a,this.alertMsg=null,this.users$=t.users$,this.total$=t.total$}return i(e,[{key:"ngOnInit",value:function(){var e=this;this._subs$.push(this._autoCloseAlert.pipe(Object(Me.a)(1e4)).subscribe(function(){e.alertMsg=null})),this._subs$.push(this.forceRefreshData.subscribe(function(t){return e.refreshTable(t)})),this._subs$.push(this.service.err$.subscribe(function(t){e.alertMsg=t?{type:"error",icon:"fa-info-circle",title:"Error",message:" ".concat(e.handlerErrorsService.parseMsgError(t)," </br> favor de intentarlo de nuevo. ")}:null}))}},{key:"ngOnDestroy",value:function(){this._subs$.forEach(function(e){try{e.unsubscribe()}catch(t){}})}},{key:"onSort",value:function(e){var t=e.column,n=e.direction;this.headers.forEach(function(e){e.sortable!==t&&(e.direction="")}),this.service.sortColumn=t,this.service.sortDirection=n}},{key:"toggleTableDetail",value:function(e,t){var n=$(".tableDetail.id_".concat(e)),r=$(t.currentTarget);n.hasClass("d-none")?(n.removeClass("d-none"),r.html('<i class="fa fa-minus-circle" aria-hidden="true"></i>'),r.removeClass("text-success"),r.addClass("text-warning")):(n.addClass("d-none"),r.html('<i class="fa fa-plus-circle" aria-hidden="true"></i>'),r.removeClass("text-warning"),r.addClass("text-success"))}},{key:"editRecord",value:function(e){this.store.dispatch(at.b({dataModel:e})),this.onSelected.emit(e)}},{key:"refreshTable",value:function(e){if(e.status){this.service.refreshTable();var t="Registro ";switch(e.action){case"add":t+="agregado";break;case"update":t+="actualizado"}t+=" correctamente",this.alertMsg={type:"success",icon:"fa-info-circle",title:"Acci\xf3n",message:t},this._autoCloseAlert.next(!0)}}},{key:"activeInactiveRecord",value:function(e,t){var n=this;this.alertMsg=null,en.a.fire({title:"Confirmar",text:(t?"Activar":"Desactivar")+" usuario",icon:"question",showCancelButton:!0,confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"}).then(function(r){r.isConfirmed&&n.activeInactiveAction({id:e,active:t})})}},{key:"activeInactiveAction",value:function(e){var t=this;try{this._subs$.push(this.usersService.edit(e).subscribe(function(e){t.refreshTable({status:!0,action:"update"})},function(e){t.alertMsg={type:"error",icon:"fa-info-circle",title:"Acci\xf3n",message:t.handlerErrorsService.parseMsgError(e)}}))}catch(n){this.alertMsg={type:"error",icon:"fa-info-circle",title:"Acci\xf3n",message:this.handlerErrorsService.parseMsgError(n)}}}}]),e}()).\u0275fac=function(e){return new(e||wn)(o.Nb(tn),o.Nb(l.h),o.Nb(L.a),o.Nb(ot))},wn.\u0275cmp=o.Hb({type:wn,selectors:[["app-table-users"]],viewQuery:function(e,t){var n;1&e&&o.Fc(rn,1),2&e&&o.sc(n=o.dc())&&(t.headers=n)},inputs:{forceRefreshData:"forceRefreshData"},outputs:{onSelected:"onSelected"},features:[o.zb([tn,b.f])],decls:55,vars:24,consts:[[3,"type","dismissible",4,"ngIf"],[3,"type","closed",4,"ngIf"],[1,"d-flex","justify-content-between","p-2"],[1,"row"],[1,"col-"],["type","button","ngbTooltip","Actualizar lista de registros",1,"btn","btn-outline-primary",3,"click"],["aria-hidden","true",1,"fa","fa-refresh"],[1,"col-auto","form-group","form-inline","d-none","d-sm-inline"],[1,"d-none","d-sm-inline"],["name","pageSize",1,"custom-select","mx-2",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],[1,"col-auto","form-group","form-inline"],[1,"inner-addon","right-addon"],["class","fa fa-refresh fa-spin fa-fw text-warning p-0",4,"ngIf"],["type","text","name","searchTerm","placeholder","Buscar en la lista",1,"form-control","ml-2",3,"ngModel","ngModelChange"],[1,"table","table-striped","text-white"],["scope","col"],["scope","col","sortable","id",3,"sort"],["scope","col","sortable","username",3,"sort"],["scope","col","sortable","active",3,"sort"],["scope","col","sortable","fIns",3,"sort"],["scope","col","sortable","fAct",3,"sort"],[4,"ngIf","ngIfElse"],["renderData",""],["nodataResult",""],["class","d-flex justify-content-between p-2",4,"ngIf"],[3,"type","dismissible"],[1,"font-weight-bold"],["aria-hidden","true",3,"class",4,"ngIf"],[4,"ngIf"],["class","m-0 p-0",4,"ngIf"],["aria-hidden","true"],[1,"m-0","p-0"],[3,"type","closed"],[1,"fa","fa-refresh","fa-spin","fa-fw","text-warning","p-0"],["scope","row","colspan","7",1,"text-center"],[1,"fa","fa-cog","fa-spin","fa-3x","fa-fw",2,"vertical-align","middle"],[4,"ngFor","ngForOf"],[2,"width","1px"],["type","button","ngbTooltip","Mostrar detalle del registro",1,"btn","btn-link","text-success",3,"click"],["aria-hidden","true",1,"fa","fa-plus-circle"],["scope","row"],[3,"result","term"],["role","group","aria-label","",1,"btn-group"],["type","button","ngbTooltip","Editar registro",1,"btn","btn-secondary","w-btn-50px",3,"click"],["aria-hidden","true",1,"fa","fa-pencil-square-o"],["type","button","class","btn btn-danger w-btn-50px","ngbTooltip","Desactivar usuario",3,"click",4,"ngIf"],["type","button","class","btn btn-warning w-btn-50px","ngbTooltip","Desactivar usuario",3,"click",4,"ngIf"],[1,"tableDetail","d-none",3,"ngClass"],["colspan","7",1,"_d-none"],[1,"col-12","col-md-4","py-2"],[1,"tableDetailSccionTitle"],[1,"m-0","p-0","pl-2"],[1,"m-0","p-0","pl-2","text-lowercase"],["type","button","ngbTooltip","Desactivar usuario",1,"btn","btn-danger","w-btn-50px",3,"click"],["aria-hidden","true",1,"fa","fa-lock"],["type","button","ngbTooltip","Desactivar usuario",1,"btn","btn-warning","w-btn-50px",3,"click"],["aria-hidden","true",1,"fa","fa-unlock"],["scope","row","colspan","7",1,"text-center","text-danger"],["aria-hidden","true",1,"fa","fa-info-circle","pr-2"],[3,"collectionSize","page","pageSize","pageChange"],[1,"font-weight-bold","pl-2"]],template:function(e,t){if(1&e&&(o.yc(0,on,5,5,"ngb-alert",0),o.gc(1,"async"),o.yc(2,dn,5,4,"ngb-alert",1),o.gc(3,"async"),o.Sb(4,"form"),o.Sb(5,"div",2),o.Sb(6,"div",3),o.Sb(7,"div",4),o.Sb(8,"button",5),o.cc("click",function(){return t.service.refreshTable()}),o.Ob(9,"i",6),o.Rb(),o.Rb(),o.Sb(10,"div",7),o.Sb(11,"span",8),o.Ac(12,"Mostrar"),o.Rb(),o.Sb(13,"select",9),o.cc("ngModelChange",function(e){return t.service.pageSize=e}),o.Sb(14,"option",10),o.Ac(15,"10"),o.Rb(),o.Sb(16,"option",10),o.Ac(17,"30"),o.Rb(),o.Sb(18,"option",10),o.Ac(19,"50"),o.Rb(),o.Sb(20,"option",10),o.Ac(21,"100"),o.Rb(),o.Rb(),o.Sb(22,"span",8),o.Ac(23,"registros"),o.Rb(),o.Rb(),o.Rb(),o.Sb(24,"div",11),o.Sb(25,"div",12),o.yc(26,fn,1,0,"i",13),o.gc(27,"async"),o.Sb(28,"input",14),o.cc("ngModelChange",function(e){return t.service.searchTerm=e}),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Sb(29,"table",15),o.Sb(30,"thead"),o.Sb(31,"tr"),o.Sb(32,"th",16),o.Ac(33,"\xa0"),o.Rb(),o.Sb(34,"th",17),o.cc("sort",function(e){return t.onSort(e)}),o.Ac(35,"#"),o.Rb(),o.Sb(36,"th",18),o.cc("sort",function(e){return t.onSort(e)}),o.Ac(37,"Nombre de usuario"),o.Rb(),o.Sb(38,"th",19),o.cc("sort",function(e){return t.onSort(e)}),o.Ac(39,"Activo"),o.Rb(),o.Sb(40,"th",20),o.cc("sort",function(e){return t.onSort(e)}),o.Ac(41,"Fecha de registro"),o.Rb(),o.Sb(42,"th",21),o.cc("sort",function(e){return t.onSort(e)}),o.Ac(43,"Fecha de actualizaci\xf3n"),o.Rb(),o.Sb(44,"th",16),o.Ac(45,"\xa0"),o.Rb(),o.Rb(),o.Rb(),o.yc(46,hn,6,0,"tbody",22),o.gc(47,"async"),o.yc(48,yn,2,4,"ng-template",null,23,o.zc),o.yc(50,An,5,0,"ng-template",null,24,o.zc),o.Rb(),o.yc(52,Rn,8,14,"div",25),o.gc(53,"async"),o.gc(54,"async"),o.Rb()),2&e){var n=o.tc(49);o.lc("ngIf",o.hc(1,12,t.service.err$)),o.Ab(2),o.lc("ngIf",t.alertMsg&&!o.hc(3,14,t.service.err$)),o.Ab(11),o.lc("ngModel",t.service.pageSize),o.Ab(1),o.lc("ngValue",10),o.Ab(2),o.lc("ngValue",30),o.Ab(2),o.lc("ngValue",50),o.Ab(2),o.lc("ngValue",100),o.Ab(6),o.lc("ngIf",o.hc(27,16,t.service.loading$)),o.Ab(2),o.lc("ngModel",t.service.searchTerm),o.Ab(18),o.lc("ngIf",o.hc(47,18,t.service.loading$))("ngIfElse",n),o.Ab(6),o.lc("ngIf",0==o.hc(53,20,t.service.loading$)&&o.hc(54,22,t.total$)>0)}},directives:[b.n,x.r,x.j,x.k,M.n,x.o,x.i,x.l,x.m,x.q,x.b,rn,M.b,b.m,M.d,b.l,M.g],pipes:[b.b,b.e],styles:['.w-btn-50px[_ngcontent-%COMP%]{width:50px}th[sortable][_ngcontent-%COMP%]{cursor:pointer;-moz-user-select:none;user-select:none;-webkit-user-select:none}th[sortable].asc[_ngcontent-%COMP%]:before, th[sortable].desc[_ngcontent-%COMP%]:before{font-family:FontAwesome;font-weight:900;content:"\\f063";display:block;float:left;margin-left:-30px;color:#fff}th[sortable].desc[_ngcontent-%COMP%]:before{transform:rotate(180deg);-ms-transform:rotate(180deg)}ngbd-table-complete[_ngcontent-%COMP%]   span.ngb-highlight[_ngcontent-%COMP%], ngbd-table-filtering[_ngcontent-%COMP%]   span.ngb-highlight[_ngcontent-%COMP%]{background-color:#ff0}.inner-addon[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin:12px 0 0!important}  body:not(.om) .table.text-white{color:#333!important}  body.om .table-striped tbody tr:nth-of-type(odd){background-color:hsla(0,0%,100%,.11)}']}),wn);function On(e,t){if(1&e&&(o.Sb(0,"h2",8),o.Ob(1,"i",9),o.Ac(2),o.Rb()),2&e){var n=o.fc();o.Ab(1),o.lc("ngClass",null==n.titlePageHeader?null:n.titlePageHeader.icon),o.Ab(1),o.Cc(" ",n.titlePageHeader.title," ")}}function Mn(e,t){if(1&e){var n=o.Tb();o.Sb(0,"div"),o.Sb(1,"button",14),o.cc("click",function(){return o.uc(n),o.fc(2).newRecord()}),o.Ob(2,"i",15),o.Ac(3," Nuevo"),o.Rb(),o.Rb()}}function Cn(e,t){if(1&e&&(o.Sb(0,"div",10),o.Sb(1,"button",11),o.Sb(2,"h5"),o.Ob(3,"i",12),o.Ac(4," Formulario de registro"),o.Rb(),o.Rb(),o.yc(5,Mn,4,0,"div",13),o.gc(6,"async"),o.Rb()),2&e){var n=o.fc();o.Ab(5),o.lc("ngIf",o.hc(6,1,n.editMode))}}function kn(e,t){if(1&e){var n=o.Tb();o.Sb(0,"app-form-users",16),o.cc("onAddorEdit",function(e){return o.uc(n),o.fc().refreshControls(e)}),o.Rb()}if(2&e){var r=o.fc();o.lc("editMode",r.editMode)}}function xn(e,t){1&e&&(o.Sb(0,"h5"),o.Ob(1,"i",17),o.Ac(2," Lista de registros"),o.Rb())}function _n(e,t){if(1&e){var n=o.Tb();o.Sb(0,"app-table-users",18),o.cc("onSelected",function(e){return o.uc(n),o.fc().recordSelected(e)}),o.Rb()}if(2&e){var r=o.fc();o.lc("forceRefreshData",r.refreshData)}}var $n,En,Pn=(($n=function(){function e(t,r){var i=this;n(this,e),this.store=t,this.router=r,this._subs$=[],this.activeIds="",this.editMode=new C.a,this.refreshData=new C.a,this._subs$.push(this.store.select("currentPage").subscribe(function(e){i.titlePageHeader=e})),this.activeIds="static-2",this.store.dispatch(a.a({current:{icon:"fa-table",title:"Cat\xe1logo de Usuarios",description:"",url:this.router.url}}))}return i(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this._subs$.forEach(function(e){try{e.unsubscribe()}catch(t){}})}},{key:"newRecord",value:function(){this.store.dispatch(at.b({dataModel:null})),this.editMode.next(!1)}},{key:"recordSelected",value:function(e){this.store.dispatch(at.b({dataModel:e})),this.dtElement.expand("static-1"),this.editMode.next(!0)}},{key:"refreshControls",value:function(e){this.store.dispatch(at.b({dataModel:null})),this.dtElement.expand("static-2"),this.editMode.next(!1),this.refreshData.next(e)}}]),e}()).\u0275fac=function(e){return new(e||$n)(o.Nb(l.h),o.Nb(s.b))},$n.\u0275cmp=o.Hb({type:$n,selectors:[["app-users"]],viewQuery:function(e,t){var n;1&e&&o.Fc(M.a,1),2&e&&o.sc(n=o.dc())&&(t.dtElement=n.first)},decls:9,vars:4,consts:[[1,"extendWorkJob","d-flex","flex-column","justify-content-center","px-lg-5","px-1"],["class","pageHeader",4,"ngIf"],["ngbAccordion","",3,"closeOthers","activeIds","destroyOnHide"],["id","static-1"],["ngbPanelHeader",""],["ngbPanelContent",""],["id","static-2"],["ngbPanelTitle",""],[1,"pageHeader"],["aria-hidden","true",1,"fa",3,"ngClass"],[1,"d-flex","align-items-center","justify-content-between"],["ngbPanelToggle","",1,"btn","btn-link"],["aria-hidden","true",1,"fa","fa-newspaper-o"],[4,"ngIf"],[1,"btn","btn-sm","btn-outline-primary","ml-2",3,"click"],["aria-hidden","true",1,"fa","fa-plus"],[3,"editMode","onAddorEdit"],["aria-hidden","true",1,"fa","fa-th"],[3,"forceRefreshData","onSelected"]],template:function(e,t){1&e&&(o.Sb(0,"div",0),o.yc(1,On,3,2,"h2",1),o.Sb(2,"ngb-accordion",2),o.Sb(3,"ngb-panel",3),o.yc(4,Cn,7,3,"ng-template",4),o.yc(5,kn,1,1,"ng-template",5),o.Rb(),o.Sb(6,"ngb-panel",6),o.yc(7,xn,3,0,"ng-template",7),o.yc(8,_n,1,1,"ng-template",5),o.Rb(),o.Rb(),o.Rb()),2&e&&(o.Ab(1),o.lc("ngIf",t.titlePageHeader),o.Ab(1),o.lc("closeOthers",!0)("activeIds",t.activeIds)("destroyOnHide",!1))},directives:[b.n,M.a,M.h,M.j,M.i,M.k,b.l,M.l,Xt,In],pipes:[b.b],styles:[".card{background-color:transparent!important}  .card .card-header{background-color:hsla(0,0%,100%,.050980392156862744)}  .card .card-header button{width:100%;text-align:left}  .btn-link{color:#fff;text-decoration:none!important}  .btn-link:hover,   body:not(.om) .btn-link:hover{color:#0056b3;text-decoration:none!important}  body:not(.om) .btn-link{color:#333;text-decoration:none!important}"]}),$n),Dn=c("cKT1"),Tn=((En=function(){function e(t){n(this,e),this.http=t}return i(e,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return this.http.get("".concat(P.a.apis.recon.url,"/admin/crimes?skip=").concat(e,"&take=").concat(t,"&filter=").concat(n)).pipe(Object(_.a)(function(e){if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(E.a)(function(e){}))}},{key:"add",value:function(e){return this.http.post("".concat(P.a.apis.recon.url,"/admin/crime"),e).pipe(Object(_.a)(function(e){if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(E.a)(function(e){}))}},{key:"edit",value:function(e){return this.http.patch("".concat(P.a.apis.recon.url,"/admin/crime"),e).pipe(Object(_.a)(function(e){if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(E.a)(function(e){}))}}]),e}()).\u0275fac=function(e){return new(e||En)(o.Zb(D.b))},En.\u0275prov=o.Jb({token:En,factory:En.\u0275fac,providedIn:"root"}),En);function Ln(e,t){if(1&e&&o.Ob(0,"i",20),2&e){var n=o.fc(2);o.Db("fa ",n.alertMsg.icon," mr-2")}}function jn(e,t){if(1&e&&(o.Sb(0,"span"),o.Ac(1),o.Rb()),2&e){var n=o.fc(2);o.Ab(1),o.Bc(n.alertMsg.title)}}function Nn(e,t){if(1&e&&(o.Sb(0,"p",21),o.Ac(1),o.Rb()),2&e){var n=o.fc(2);o.Ab(1),o.Bc(n.alertMsg.message)}}function zn(e,t){if(1&e&&(o.Sb(0,"ngb-alert",15),o.Sb(1,"h5",16),o.yc(2,Ln,1,3,"i",17),o.yc(3,jn,2,1,"span",18),o.Rb(),o.yc(4,Nn,2,1,"p",19),o.Rb()),2&e){var n=o.fc();o.lc("type",n.alertMsg.type)("dismissible",!1),o.Ab(2),o.lc("ngIf",n.alertMsg.icon),o.Ab(1),o.lc("ngIf",n.alertMsg.title),o.Ab(1),o.lc("ngIf",n.alertMsg.message)}}function Hn(e,t){1&e&&o.Ob(0,"i",22)}function Bn(e,t){1&e&&o.Ob(0,"i",23)}function qn(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"Informaci\xf3n requerida"),o.Rb())}function Vn(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"La longitud m\xednima es de 4 caracteres"),o.Rb())}function Fn(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"La longitud m\xe1xima es de 100 caracteres"),o.Rb())}function Jn(e,t){if(1&e&&(o.Sb(0,"div",24),o.Ob(1,"i",25),o.yc(2,qn,2,0,"span",18),o.yc(3,Vn,2,0,"span",18),o.yc(4,Fn,2,0,"span",18),o.Rb()),2&e){var n=o.fc();o.Ab(2),o.lc("ngIf",n.f.descrip.errors.required),o.Ab(1),o.lc("ngIf",n.f.descrip.errors.minlength),o.Ab(1),o.lc("ngIf",n.f.descrip.errors.maxlength)}}function Un(e,t){1&e&&o.Ob(0,"i",26)}function Gn(e,t){1&e&&o.Ob(0,"span",27)}var Wn,Zn,Qn=function(e){return{errBorder:e}},Kn=((Zn=function(){function e(t,r,i,c){n(this,e),this.fb=t,this.store=r,this.crimesService=i,this.handlerErrorsService=c,this._subs$=[],this.onAddorEdit=new o.n,this.frmgp=this.fb.group({id:[""],descrip:["",[x.p.required,x.p.minLength(4),x.p.maxLength(100)]]}),this.formSubmitted=!1,this.withErr=!1,this.alertMsg=null}return i(e,[{key:"ngOnInit",value:function(){var e=this;this._subs$.push(this.store.select("catalogCrimes").subscribe(function(t){return e.editModel=t.selected})),this._subs$.push(this.editMode.subscribe(function(t){e._populateFormEditMode(t)}))}},{key:"ngOnDestroy",value:function(){this._subs$.forEach(function(e){try{e.unsubscribe()}catch(t){}})}},{key:"f",get:function(){return this.frmgp.controls}},{key:"_populateFormEditMode",value:function(e){var t,n;this.withErr=!1,this.formSubmitted=!1,this.alertMsg=null,this.f.id.patchValue(null===(t=this.editModel)||void 0===t?void 0:t.id),this.f.descrip.patchValue(null===(n=this.editModel)||void 0===n?void 0:n.descrip),$("form input:first").select()}},{key:"onSubmit",value:function(){this.withErr=!1,this.formSubmitted=!0,this.alertMsg=null;try{if(!this.frmgp.valid)throw new Error("Se encontraron errores de formulario");this.editModel?this.editAction():this.addAction()}catch(e){this.showAlert(e.message,"danger","fa-times-circle-o","Error"),this.withErr=!0}}},{key:"showAlert",value:function(e,t,n,r){this.alertMsg={type:t,icon:n,title:r,message:e}}},{key:"addAction",value:function(){var e=this;try{this._subs$.push(this.crimesService.add(this.frmgp.value).subscribe(function(t){e.onAddorEdit.emit({status:!0,action:"add"})},function(t){e.showAlert(e.handlerErrorsService.parseMsgError(t),"danger","fa-times-circle-o","Error"),e.withErr=!0}))}catch(t){this.showAlert(this.handlerErrorsService.parseMsgError(t),"danger","fa-times-circle-o","Error"),this.withErr=!0}}},{key:"editAction",value:function(){var e=this;try{this._subs$.push(this.crimesService.edit(this.frmgp.value).subscribe(function(t){e.onAddorEdit.emit({status:!0,action:"update"})},function(t){e.showAlert(e.handlerErrorsService.parseMsgError(t),"danger","fa-times-circle-o","Error"),e.withErr=!0}))}catch(t){this.showAlert(this.handlerErrorsService.parseMsgError(t),"danger","fa-times-circle-o","Error"),this.withErr=!0}}}]),e}()).\u0275fac=function(e){return new(e||Zn)(o.Nb(x.c),o.Nb(l.h),o.Nb(Tn),o.Nb(L.a))},Zn.\u0275cmp=o.Hb({type:Zn,selectors:[["app-form-crimes"]],inputs:{editMode:"editMode"},outputs:{onAddorEdit:"onAddorEdit"},decls:18,vars:12,consts:[["autocomplete","off",3,"formGroup","ngSubmit"],[3,"type","dismissible",4,"ngIf"],[1,"form-row"],[1,"col-12","col-md-4","py-2"],[1,"inner-addon","right-addon"],["class","fa fa-check-circle-o text-success","aria-hidden","true",4,"ngIf"],["class","fa fa-times-circle-o text-danger","aria-hidden","true",4,"ngIf"],["id","noctrl","type","text","placeholder","Descripci\xf3n","formControlName","descrip",1,"form-control",3,"ngClass"],["class","text-danger",4,"ngIf"],[1,"text-right"],["ngClass","btn-outline-success",1,"btn",3,"disabled"],["class","fa fa-pencil-square-o","aria-hidden","true","type","submit",4,"ngIf"],["class","spinner-grow spinner-grow-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"ml-2"],["type","hidden","id","id","name","id","formControlName","id"],[3,"type","dismissible"],[1,"font-weight-bold"],["aria-hidden","true",3,"class",4,"ngIf"],[4,"ngIf"],["class","m-0 p-0",4,"ngIf"],["aria-hidden","true"],[1,"m-0","p-0"],["aria-hidden","true",1,"fa","fa-check-circle-o","text-success"],["aria-hidden","true",1,"fa","fa-times-circle-o","text-danger"],[1,"text-danger"],["aria-hidden","true",1,"fa","fa-exclamation-triangle","mr-2"],["aria-hidden","true","type","submit",1,"fa","fa-pencil-square-o"],["role","status","aria-hidden","true",1,"spinner-grow","spinner-grow-sm"]],template:function(e,t){1&e&&(o.Sb(0,"form",0),o.cc("ngSubmit",function(){return t.onSubmit()}),o.yc(1,zn,5,5,"ngb-alert",1),o.Sb(2,"div",2),o.Sb(3,"div",3),o.Sb(4,"label"),o.Ac(5,"Descripci\xf3n"),o.Rb(),o.Sb(6,"div",4),o.yc(7,Hn,1,0,"i",5),o.yc(8,Bn,1,0,"i",6),o.Ob(9,"input",7),o.Rb(),o.yc(10,Jn,5,3,"div",8),o.Rb(),o.Rb(),o.Sb(11,"div",9),o.Sb(12,"button",10),o.yc(13,Un,1,0,"i",11),o.yc(14,Gn,1,0,"span",12),o.Sb(15,"span",13),o.Ac(16),o.Rb(),o.Rb(),o.Rb(),o.Ob(17,"input",14),o.Rb()),2&e&&(o.lc("formGroup",t.frmgp),o.Ab(1),o.lc("ngIf",t.alertMsg),o.Ab(6),o.lc("ngIf",t.formSubmitted&&t.f.descrip.valid),o.Ab(1),o.lc("ngIf",t.formSubmitted&&t.f.descrip.invalid),o.Ab(1),o.lc("ngClass",o.pc(10,Qn,t.formSubmitted&&t.f.descrip.invalid)),o.Ab(1),o.lc("ngIf",t.formSubmitted&&t.f.descrip.invalid),o.Ab(2),o.lc("disabled",t.formSubmitted&&!t.withErr),o.Ab(1),o.lc("ngIf",!t.formSubmitted||t.withErr),o.Ab(1),o.lc("ngIf",t.formSubmitted&&!t.withErr),o.Ab(2),o.Cc(" ",!t.formSubmitted||t.withErr?t.editModel?"Editar":"Registrar":"Procesando..."," "))},directives:[x.r,x.j,x.e,b.n,x.b,x.i,x.d,b.l,M.b],styles:[""]}),Zn),Xn=((Wn=function(){function t(e,r,i){var c=this;n(this,t),this.pipe=e,this.crimesService=r,this.store=i,this._subs$=[],this._loading$=new Ce.a(!0),this._err$=new Ce.a(null),this._search$=new C.a,this._crimes$=new Ce.a([]),this._total$=new Ce.a(0),this._state={page:1,pageSize:10,searchTerm:"",sortColumn:"",sortDirection:""},this._subs$.push(this._search$.pipe(Object(E.a)(function(){c._err$.next(null),c._loading$.next(!0)}),Object(Me.a)(500),Object(xe.a)(function(){return c._dataList()}),Object(_.a)(function(e){return c._formating(e)}),Object(E.a)(function(){return c._loading$.next(!1)})).subscribe(function(e){c._crimes$.next(e.data),c._total$.next(e.total)})),this._search$.next()}return i(t,[{key:"ngOnDestroy",value:function(){this._subs$.forEach(function(e){try{e.unsubscribe()}catch(t){}})}},{key:"crimes$",get:function(){return this._crimes$.asObservable()}},{key:"total$",get:function(){return this._total$.asObservable()}},{key:"loading$",get:function(){return this._loading$.asObservable()}},{key:"err$",get:function(){return this._err$.asObservable()}},{key:"page",get:function(){return this._state.page},set:function(e){this._set({page:e})}},{key:"pageSize",get:function(){return this._state.pageSize},set:function(e){this._set({pageSize:e})}},{key:"searchTerm",get:function(){return this._state.searchTerm},set:function(e){this._set({searchTerm:e})}},{key:"sortColumn",set:function(e){this._set({sortColumn:e})}},{key:"sortDirection",set:function(e){this._set({sortDirection:e})}},{key:"refreshTable",value:function(){this._search$.next()}},{key:"_set",value:function(e){Object.assign(this._state,e),this._search$.next()}},{key:"_dataList",value:function(){var e=this,t=this._state.searchTerm;return this.crimesService.data(null,null,t).pipe(Object(_e.a)(function(t){return e._err$.next(t),Object(ke.a)([])}))}},{key:"_formating",value:function(t){var n,r,i,c=this,s=this._state,a=s.searchTerm,o=s.sortColumn,l=s.sortDirection,b=s.pageSize,u=s.page,d=t;(o||l)&&(n=d,r=o,d=""===(i=l)||""===r?n:e(n).sort(function(e,t){var n,c,s=(n=e[r])<(c=t[r])?-1:n>c?1:0;return"asc"===i?s:-s})),a&&(d=d.filter(function(e){return function(e,t,n){return n.transform(e.id).includes(t.toLowerCase())||e.fIns.toString().includes(t.toLowerCase())||e.fAct.toString().includes(t.toLowerCase())||e.descrip.toLowerCase().includes(t.toLowerCase())}(e,a,c.pipe)}));var f=d.length;return d=d.slice((u-1)*b,(u-1)*b+b),this.store.dispatch(Dn.a({data:d})),{data:d,total:f}}}]),t}()).\u0275fac=function(e){return new(e||Wn)(o.Zb(b.f),o.Zb(Tn),o.Zb(l.h))},Wn.\u0275prov=o.Jb({token:Wn,factory:Wn.\u0275fac,providedIn:"root"}),Wn),Yn={asc:"desc",desc:"","":"asc"},er=function(){var e=function(){function e(){n(this,e),this.sortable="",this.direction="",this.sort=new o.n}return i(e,[{key:"rotate",value:function(){this.direction=Yn[this.direction],this.sort.emit({column:this.sortable,direction:this.direction})}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=o.Ib({type:e,selectors:[["th","sortable",""]],hostVars:4,hostBindings:function(e,t){1&e&&o.cc("click",function(){return t.rotate()}),2&e&&o.Fb("asc","asc"===t.direction)("desc","desc"===t.direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sort:"sort"}}),e}();function tr(e,t){if(1&e&&o.Ob(0,"i",30),2&e){var n=o.fc(2);o.Db("fa ",n.alertMsg.icon," mr-2")}}function nr(e,t){if(1&e&&(o.Sb(0,"span"),o.Ac(1),o.Rb()),2&e){var n=o.fc(2);o.Ab(1),o.Bc(n.alertMsg.title)}}function rr(e,t){if(1&e&&(o.Sb(0,"p",31),o.Ac(1),o.Rb()),2&e){var n=o.fc(2);o.Ab(1),o.Bc(n.alertMsg.message)}}function ir(e,t){if(1&e&&(o.Sb(0,"ngb-alert",25),o.Sb(1,"h5",26),o.yc(2,tr,1,3,"i",27),o.yc(3,nr,2,1,"span",28),o.Rb(),o.yc(4,rr,2,1,"p",29),o.Rb()),2&e){var n=o.fc();o.lc("type","danger")("dismissible",!1),o.Ab(2),o.lc("ngIf",n.alertMsg.icon),o.Ab(1),o.lc("ngIf",n.alertMsg.title),o.Ab(1),o.lc("ngIf",n.alertMsg.message)}}function cr(e,t){if(1&e&&o.Ob(0,"i",30),2&e){var n=o.fc(2);o.Db("fa ",n.alertMsg.icon," mr-2")}}function sr(e,t){if(1&e&&(o.Sb(0,"span"),o.Ac(1),o.Rb()),2&e){var n=o.fc(2);o.Ab(1),o.Bc(n.alertMsg.title)}}function ar(e,t){if(1&e&&(o.Sb(0,"p",31),o.Ac(1),o.Rb()),2&e){var n=o.fc(2);o.Ab(1),o.Bc(n.alertMsg.message)}}function or(e,t){if(1&e){var n=o.Tb();o.Sb(0,"ngb-alert",32),o.cc("closed",function(){return o.uc(n),o.fc().alertMsg=null}),o.Sb(1,"h5",26),o.yc(2,cr,1,3,"i",27),o.yc(3,sr,2,1,"span",28),o.Rb(),o.yc(4,ar,2,1,"p",29),o.Rb()}if(2&e){var r=o.fc();o.lc("type",r.alertMsg.type),o.Ab(2),o.lc("ngIf",r.alertMsg.icon),o.Ab(1),o.lc("ngIf",r.alertMsg.title),o.Ab(1),o.lc("ngIf",r.alertMsg.message)}}function lr(e,t){1&e&&o.Ob(0,"i",33)}function br(e,t){1&e&&(o.Sb(0,"tbody"),o.Sb(1,"tr"),o.Sb(2,"th",34),o.Ob(3,"i",35),o.Sb(4,"span"),o.Ac(5,"Actualizndo informaci\xf3n..."),o.Rb(),o.Rb(),o.Rb(),o.Rb())}function ur(e,t){if(1&e){var n=o.Tb();o.Qb(0),o.Sb(1,"tr"),o.Sb(2,"th",37),o.Ac(3),o.Rb(),o.Sb(4,"td"),o.Ob(5,"ngb-highlight",38),o.Rb(),o.Sb(6,"td"),o.Ob(7,"ngb-highlight",38),o.gc(8,"date"),o.Rb(),o.Sb(9,"td"),o.Ob(10,"ngb-highlight",38),o.gc(11,"date"),o.Rb(),o.Sb(12,"td",39),o.Sb(13,"div",40),o.Sb(14,"button",41),o.cc("click",function(){o.uc(n);var e=t.$implicit;return o.fc(3).editRecord(e)}),o.Ob(15,"i",42),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Pb()}if(2&e){var r=t.$implicit,i=o.fc(3);o.Ab(3),o.Bc(r.id),o.Ab(2),o.lc("result",r.descrip)("term",i.service.searchTerm),o.Ab(2),o.lc("result",o.ic(8,7,r.fIns,"dd/MM/yyyy HH:mm"))("term",i.service.searchTerm),o.Ab(3),o.lc("result",o.ic(11,10,r.fAct,"dd/MM/yyyy HH:mm"))("term",i.service.searchTerm)}}function dr(e,t){if(1&e&&(o.Sb(0,"tbody"),o.yc(1,ur,16,13,"ng-container",36),o.gc(2,"async"),o.Rb()),2&e){var n=o.fc(2);o.Ab(1),o.lc("ngForOf",o.hc(2,1,n.crimes$))}}function fr(e,t){if(1&e&&(o.yc(0,dr,3,3,"tbody",21),o.gc(1,"async")),2&e){var n=o.fc(),r=o.tc(47);o.lc("ngIf",o.hc(1,2,n.total$))("ngIfElse",r)}}function hr(e,t){1&e&&(o.Sb(0,"tbody"),o.Sb(1,"tr"),o.Sb(2,"th",43),o.Ob(3,"i",44),o.Ac(4," No se encontr\xf3 informaci\xf3n "),o.Rb(),o.Rb(),o.Rb())}function pr(e,t){if(1&e){var n=o.Tb();o.Sb(0,"div",2),o.Sb(1,"ngb-pagination",45),o.cc("pageChange",function(e){return o.uc(n),o.fc().service.page=e}),o.gc(2,"async"),o.Rb(),o.Sb(3,"span",46),o.Ac(4),o.gc(5,"async"),o.gc(6,"async"),o.gc(7,"async"),o.Rb(),o.Rb()}if(2&e){var r=o.fc();o.Ab(1),o.lc("collectionSize",o.hc(2,6,r.total$))("page",r.service.page)("pageSize",r.service.pageSize),o.Ab(3),o.Ec(" Mostrando ",r.service.page*r.service.pageSize-r.service.pageSize+1," al ",r.service.page*r.service.pageSize<=o.hc(5,8,r.total$)?r.service.page*r.service.pageSize:o.hc(6,10,r.total$)," de ",o.hc(7,12,r.total$)," registros")}}var gr,mr=((gr=function(){function e(t,r,i){n(this,e),this.service=t,this.store=r,this.handlerErrorsService=i,this._subs$=[],this.onSelected=new o.n,this.forceRefreshData=new C.a,this._autoCloseAlert=new C.a,this.alertMsg=null,this.crimes$=t.crimes$,this.total$=t.total$}return i(e,[{key:"ngOnInit",value:function(){var e=this;this._subs$.push(this._autoCloseAlert.pipe(Object(Me.a)(1e4)).subscribe(function(){e.alertMsg=null})),this._subs$.push(this.forceRefreshData.subscribe(function(t){return e.refreshTable(t)})),this._subs$.push(this.service.err$.subscribe(function(t){e.alertMsg=t?{type:"error",icon:"fa-info-circle",title:"Error",message:" ".concat(e.handlerErrorsService.parseMsgError(t)," </br> favor de intentarlo de nuevo. ")}:null}))}},{key:"ngOnDestroy",value:function(){this._subs$.forEach(function(e){try{e.unsubscribe()}catch(t){}})}},{key:"onSort",value:function(e){var t=e.column,n=e.direction;this.headers.forEach(function(e){e.sortable!==t&&(e.direction="")}),this.service.sortColumn=t,this.service.sortDirection=n}},{key:"toggleTableDetail",value:function(e,t){var n=$(".tableDetail.id_".concat(e)),r=$(t.currentTarget);n.hasClass("d-none")?(n.removeClass("d-none"),r.html('<i class="fa fa-minus-circle" aria-hidden="true"></i>'),r.removeClass("text-success"),r.addClass("text-warning")):(n.addClass("d-none"),r.html('<i class="fa fa-plus-circle" aria-hidden="true"></i>'),r.removeClass("text-warning"),r.addClass("text-success"))}},{key:"editRecord",value:function(e){this.store.dispatch(Dn.b({dataModel:e})),this.onSelected.emit(e)}},{key:"refreshTable",value:function(e){if(e.status){this.service.refreshTable();var t="Registro ";switch(e.action){case"add":t+="agregado";break;case"update":t+="actualizado"}t+=" correctamente",this.alertMsg={type:"success",icon:"fa-info-circle",title:"Acci\xf3n",message:t},this._autoCloseAlert.next(!0)}}}]),e}()).\u0275fac=function(e){return new(e||gr)(o.Nb(Xn),o.Nb(l.h),o.Nb(L.a))},gr.\u0275cmp=o.Hb({type:gr,selectors:[["app-table-crimes"]],viewQuery:function(e,t){var n;1&e&&o.Fc(er,1),2&e&&o.sc(n=o.dc())&&(t.headers=n)},inputs:{forceRefreshData:"forceRefreshData"},outputs:{onSelected:"onSelected"},features:[o.zb([Xn,b.f])],decls:51,vars:24,consts:[[3,"type","dismissible",4,"ngIf"],[3,"type","closed",4,"ngIf"],[1,"d-flex","justify-content-between","p-2"],[1,"row"],[1,"col-"],["type","button","ngbTooltip","Actualizar lista de registros",1,"btn","btn-outline-primary",3,"click"],["aria-hidden","true",1,"fa","fa-refresh"],[1,"col-auto","form-group","form-inline","d-none","d-sm-inline"],[1,"d-none","d-sm-inline"],["name","pageSize",1,"custom-select","mx-0","mx-sm-2",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],[1,"col-auto","form-group","form-inline"],[1,"inner-addon","right-addon"],["class","fa fa-refresh fa-spin fa-fw text-warning p-0",4,"ngIf"],["type","text","name","searchTerm","placeholder","Buscar en la lista",1,"form-control","ml-2",3,"ngModel","ngModelChange"],[1,"table","table-striped","text-white"],["scope","col","sortable","id",3,"sort"],["scope","col","sortable","noCtrl",3,"sort"],["scope","col","sortable","fIns",3,"sort"],["scope","col","sortable","fAct",3,"sort"],["scope","col"],[4,"ngIf","ngIfElse"],["renderData",""],["nodataResult",""],["class","d-flex justify-content-between p-2",4,"ngIf"],[3,"type","dismissible"],[1,"font-weight-bold"],["aria-hidden","true",3,"class",4,"ngIf"],[4,"ngIf"],["class","m-0 p-0",4,"ngIf"],["aria-hidden","true"],[1,"m-0","p-0"],[3,"type","closed"],[1,"fa","fa-refresh","fa-spin","fa-fw","text-warning","p-0"],["scope","row","colspan","4",1,"text-center"],[1,"fa","fa-cog","fa-spin","fa-3x","fa-fw",2,"vertical-align","middle"],[4,"ngFor","ngForOf"],["scope","row"],[3,"result","term"],[2,"width","1px"],["role","group","aria-label","",1,"btn-group"],["type","button","ngbTooltip","Editar registro",1,"btn","btn-secondary","w-btn-50px",3,"click"],["aria-hidden","true",1,"fa","fa-pencil-square-o"],["scope","row","colspan","4",1,"text-center","text-danger"],["aria-hidden","true",1,"fa","fa-info-circle","pr-2"],[3,"collectionSize","page","pageSize","pageChange"],[1,"font-weight-bold","pl-2"]],template:function(e,t){if(1&e&&(o.yc(0,ir,5,5,"ngb-alert",0),o.gc(1,"async"),o.yc(2,or,5,4,"ngb-alert",1),o.gc(3,"async"),o.Sb(4,"form"),o.Sb(5,"div",2),o.Sb(6,"div",3),o.Sb(7,"div",4),o.Sb(8,"button",5),o.cc("click",function(){return t.service.refreshTable()}),o.Ob(9,"i",6),o.Rb(),o.Rb(),o.Sb(10,"div",7),o.Sb(11,"span",8),o.Ac(12,"Mostrar"),o.Rb(),o.Sb(13,"select",9),o.cc("ngModelChange",function(e){return t.service.pageSize=e}),o.Sb(14,"option",10),o.Ac(15,"10"),o.Rb(),o.Sb(16,"option",10),o.Ac(17,"30"),o.Rb(),o.Sb(18,"option",10),o.Ac(19,"50"),o.Rb(),o.Sb(20,"option",10),o.Ac(21,"100"),o.Rb(),o.Rb(),o.Sb(22,"span",8),o.Ac(23,"registros"),o.Rb(),o.Rb(),o.Rb(),o.Sb(24,"div",11),o.Sb(25,"div",12),o.yc(26,lr,1,0,"i",13),o.gc(27,"async"),o.Sb(28,"input",14),o.cc("ngModelChange",function(e){return t.service.searchTerm=e}),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Sb(29,"table",15),o.Sb(30,"thead"),o.Sb(31,"tr"),o.Sb(32,"th",16),o.cc("sort",function(e){return t.onSort(e)}),o.Ac(33,"#"),o.Rb(),o.Sb(34,"th",17),o.cc("sort",function(e){return t.onSort(e)}),o.Ac(35,"Descripci\xf3n"),o.Rb(),o.Sb(36,"th",18),o.cc("sort",function(e){return t.onSort(e)}),o.Ac(37,"Fecha de registro"),o.Rb(),o.Sb(38,"th",19),o.cc("sort",function(e){return t.onSort(e)}),o.Ac(39,"Fecha de actualizaci\xf3n"),o.Rb(),o.Sb(40,"th",20),o.Ac(41,"\xa0"),o.Rb(),o.Rb(),o.Rb(),o.yc(42,br,6,0,"tbody",21),o.gc(43,"async"),o.yc(44,fr,2,4,"ng-template",null,22,o.zc),o.yc(46,hr,5,0,"ng-template",null,23,o.zc),o.Rb(),o.yc(48,pr,8,14,"div",24),o.gc(49,"async"),o.gc(50,"async"),o.Rb()),2&e){var n=o.tc(45);o.lc("ngIf",o.hc(1,12,t.service.err$)),o.Ab(2),o.lc("ngIf",t.alertMsg&&!o.hc(3,14,t.service.err$)),o.Ab(11),o.lc("ngModel",t.service.pageSize),o.Ab(1),o.lc("ngValue",10),o.Ab(2),o.lc("ngValue",30),o.Ab(2),o.lc("ngValue",50),o.Ab(2),o.lc("ngValue",100),o.Ab(6),o.lc("ngIf",o.hc(27,16,t.service.loading$)),o.Ab(2),o.lc("ngModel",t.service.searchTerm),o.Ab(14),o.lc("ngIf",o.hc(43,18,t.service.loading$))("ngIfElse",n),o.Ab(6),o.lc("ngIf",0==o.hc(49,20,t.service.loading$)&&o.hc(50,22,t.total$)>0)}},directives:[b.n,x.r,x.j,x.k,M.n,x.o,x.i,x.l,x.m,x.q,x.b,er,M.b,b.m,M.d,M.g],pipes:[b.b,b.e],styles:['th[sortable][_ngcontent-%COMP%]{cursor:pointer;-moz-user-select:none;user-select:none;-webkit-user-select:none}th[sortable].asc[_ngcontent-%COMP%]:before, th[sortable].desc[_ngcontent-%COMP%]:before{font-family:FontAwesome;font-weight:900;content:"\\f063";display:block;float:left;margin-left:-30px;color:#fff}th[sortable].desc[_ngcontent-%COMP%]:before{transform:rotate(180deg);-ms-transform:rotate(180deg)}ngbd-table-complete[_ngcontent-%COMP%]   span.ngb-highlight[_ngcontent-%COMP%], ngbd-table-filtering[_ngcontent-%COMP%]   span.ngb-highlight[_ngcontent-%COMP%]{background-color:#ff0}.inner-addon[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin:12px 0 0!important}  body:not(.om) .table.text-white{color:#333!important}  body.om .table-striped tbody tr:nth-of-type(odd){background-color:hsla(0,0%,100%,.11)}']}),gr);function vr(e,t){if(1&e&&(o.Sb(0,"h2",8),o.Ob(1,"i",9),o.Ac(2),o.Rb()),2&e){var n=o.fc();o.Ab(1),o.lc("ngClass",null==n.titlePageHeader?null:n.titlePageHeader.icon),o.Ab(1),o.Cc(" ",n.titlePageHeader.title," ")}}function Sr(e,t){if(1&e){var n=o.Tb();o.Sb(0,"div"),o.Sb(1,"button",14),o.cc("click",function(){return o.uc(n),o.fc(2).newRecord()}),o.Ob(2,"i",15),o.Ac(3," Nuevo"),o.Rb(),o.Rb()}}function yr(e,t){if(1&e&&(o.Sb(0,"div",10),o.Sb(1,"button",11),o.Sb(2,"h5"),o.Ob(3,"i",12),o.Ac(4," Formulario de registro"),o.Rb(),o.Rb(),o.yc(5,Sr,4,0,"div",13),o.gc(6,"async"),o.Rb()),2&e){var n=o.fc();o.Ab(5),o.lc("ngIf",o.hc(6,1,n.editMode))}}function Ar(e,t){if(1&e){var n=o.Tb();o.Sb(0,"app-form-crimes",16),o.cc("onAddorEdit",function(e){return o.uc(n),o.fc().refreshControls(e)}),o.Rb()}if(2&e){var r=o.fc();o.lc("editMode",r.editMode)}}function Rr(e,t){1&e&&(o.Sb(0,"h5"),o.Ob(1,"i",17),o.Ac(2," Lista de registros"),o.Rb())}function wr(e,t){if(1&e){var n=o.Tb();o.Sb(0,"app-table-crimes",18),o.cc("onSelected",function(e){return o.uc(n),o.fc().recordSelected(e)}),o.Rb()}if(2&e){var r=o.fc();o.lc("forceRefreshData",r.refreshData)}}var Ir,Or,Mr,Cr,kr,xr=((kr=function(){function e(t,r){var i=this;n(this,e),this.store=t,this.router=r,this._subs$=[],this.activeIds="",this.editMode=new C.a,this.refreshData=new C.a,this._subs$.push(this.store.select("currentPage").subscribe(function(e){i.titlePageHeader=e})),this.activeIds="static-2",this.store.dispatch(a.a({current:{icon:"fa-table",title:"Cat\xe1logo de Delitos",description:"",url:this.router.url}}))}return i(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this._subs$.forEach(function(e){try{e.unsubscribe()}catch(t){}})}},{key:"newRecord",value:function(){this.store.dispatch(Dn.b({dataModel:null})),this.editMode.next(!1)}},{key:"recordSelected",value:function(e){this.store.dispatch(Dn.b({dataModel:e})),this.dtElement.expand("static-1"),this.editMode.next(!0)}},{key:"refreshControls",value:function(e){this.store.dispatch(Dn.b({dataModel:null})),this.dtElement.expand("static-2"),this.editMode.next(!1),this.refreshData.next(e)}}]),e}()).\u0275fac=function(e){return new(e||kr)(o.Nb(l.h),o.Nb(s.b))},kr.\u0275cmp=o.Hb({type:kr,selectors:[["app-crimes"]],viewQuery:function(e,t){var n;1&e&&o.Fc(M.a,1),2&e&&o.sc(n=o.dc())&&(t.dtElement=n.first)},decls:9,vars:4,consts:[[1,"extendWorkJob","d-flex","flex-column","justify-content-center","px-lg-5","px-1"],["class","pageHeader",4,"ngIf"],["ngbAccordion","",3,"closeOthers","activeIds","destroyOnHide"],["id","static-1"],["ngbPanelHeader",""],["ngbPanelContent",""],["id","static-2"],["ngbPanelTitle",""],[1,"pageHeader"],["aria-hidden","true",1,"fa",3,"ngClass"],[1,"d-flex","align-items-center","justify-content-between"],["ngbPanelToggle","",1,"btn","btn-link"],["aria-hidden","true",1,"fa","fa-newspaper-o"],[4,"ngIf"],[1,"btn","btn-sm","btn-outline-primary","ml-2",3,"click"],["aria-hidden","true",1,"fa","fa-plus"],[3,"editMode","onAddorEdit"],["aria-hidden","true",1,"fa","fa-th"],[3,"forceRefreshData","onSelected"]],template:function(e,t){1&e&&(o.Sb(0,"div",0),o.yc(1,vr,3,2,"h2",1),o.Sb(2,"ngb-accordion",2),o.Sb(3,"ngb-panel",3),o.yc(4,yr,7,3,"ng-template",4),o.yc(5,Ar,1,1,"ng-template",5),o.Rb(),o.Sb(6,"ngb-panel",6),o.yc(7,Rr,3,0,"ng-template",7),o.yc(8,wr,1,1,"ng-template",5),o.Rb(),o.Rb(),o.Rb()),2&e&&(o.Ab(1),o.lc("ngIf",t.titlePageHeader),o.Ab(1),o.lc("closeOthers",!0)("activeIds",t.activeIds)("destroyOnHide",!1))},directives:[b.n,M.a,M.h,M.j,M.i,M.k,b.l,M.l,Kn,mr],pipes:[b.b],styles:[".card{background-color:transparent!important}  .card .card-header{background-color:hsla(0,0%,100%,.050980392156862744)}  .card .card-header button{width:100%;text-align:left}  .btn-link{color:#fff;text-decoration:none!important}  .btn-link:hover,   body:not(.om) .btn-link:hover{color:#0056b3;text-decoration:none!important}  body:not(.om) .btn-link{color:#333;text-decoration:none!important}"]}),kr),_r=((Cr=function(){function e(){n(this,e)}return i(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Cr)},Cr.\u0275cmp=o.Hb({type:Cr,selectors:[["app-court"]],decls:2,vars:0,template:function(e,t){1&e&&(o.Sb(0,"p"),o.Ac(1,"court works!"),o.Rb())},styles:[""]}),Cr),$r=((Mr=function(){function e(){n(this,e)}return i(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Mr)},Mr.\u0275cmp=o.Hb({type:Mr,selectors:[["app-freedom"]],decls:2,vars:0,template:function(e,t){1&e&&(o.Sb(0,"p"),o.Ac(1,"freedom works!"),o.Rb())},styles:[""]}),Mr),Er=((Or=function(){function e(){n(this,e)}return i(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Or)},Or.\u0275cmp=o.Hb({type:Or,selectors:[["app-rooms"]],decls:2,vars:0,template:function(e,t){1&e&&(o.Sb(0,"p"),o.Ac(1,"rooms works!"),o.Rb())},styles:[""]}),Or),Pr=((Ir=function(){function e(){n(this,e)}return i(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Ir)},Ir.\u0275cmp=o.Hb({type:Ir,selectors:[["app-binnacle"]],decls:2,vars:0,template:function(e,t){1&e&&(o.Sb(0,"p"),o.Ac(1,"binnacle works!"),o.Rb())},styles:[""]}),Ir),Dr=c("mrSG"),Tr=c("qfBg");function Lr(e,t){1&e&&(o.Sb(0,"div",2),o.Sb(1,"h1",3),o.Ob(2,"i",4),o.Ac(3," Informaci\xf3n de usuario no disponible"),o.Rb(),o.Rb())}function jr(e,t){if(1&e&&(o.Sb(0,"tr"),o.Sb(1,"th",19),o.Ac(2),o.Rb(),o.Sb(3,"td"),o.Ac(4),o.Rb(),o.Rb()),2&e){var n=t.$implicit;o.Ab(2),o.Bc(n.id),o.Ab(2),o.Bc(n.role)}}function Nr(e,t){if(1&e&&(o.Sb(0,"div",5),o.Sb(1,"div",6),o.Sb(2,"h6",7),o.Ac(3,"Informaci\xf3n de usuario"),o.Rb(),o.Sb(4,"div",8),o.Sb(5,"div",9),o.Sb(6,"h6",10),o.Ac(7,"Identificador"),o.Rb(),o.Sb(8,"p"),o.Ac(9),o.Rb(),o.Rb(),o.Sb(10,"div",9),o.Sb(11,"h6",10),o.Ac(12,"Nombre de usuario"),o.Rb(),o.Sb(13,"p",11),o.Ac(14),o.Rb(),o.Rb(),o.Ob(15,"div",12),o.Sb(16,"div",9),o.Sb(17,"h6",10),o.Ac(18,"Fecha de registro"),o.Rb(),o.Sb(19,"p"),o.Ac(20),o.gc(21,"date"),o.Rb(),o.Rb(),o.Sb(22,"div",9),o.Sb(23,"h6",10),o.Ac(24,"Fecha de actualizaci\xf3n"),o.Rb(),o.Sb(25,"p"),o.Ac(26),o.gc(27,"date"),o.Rb(),o.Rb(),o.Ob(28,"div",12),o.Sb(29,"div",9),o.Sb(30,"h6",13),o.Ac(31,"Rol(es)"),o.Rb(),o.Sb(32,"table",14),o.Sb(33,"thead"),o.Sb(34,"tr"),o.Sb(35,"th",15),o.Ac(36,"#"),o.Rb(),o.Sb(37,"th",15),o.Ac(38,"Descripci\xf3n"),o.Rb(),o.Rb(),o.Rb(),o.Sb(39,"tbody"),o.yc(40,jr,5,2,"tr",16),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Ob(41,"div",17),o.Sb(42,"div",6),o.Sb(43,"h6",7),o.Ac(44,"Informaci\xf3n de la persona"),o.Rb(),o.Sb(45,"div",8),o.Sb(46,"div",9),o.Sb(47,"h6",10),o.Ac(48,"Identificador"),o.Rb(),o.Sb(49,"p"),o.Ac(50),o.Rb(),o.Rb(),o.Sb(51,"div",9),o.Sb(52,"h6",10),o.Ac(53,"CURP"),o.Rb(),o.Sb(54,"p"),o.Ac(55),o.Rb(),o.Rb(),o.Sb(56,"div",9),o.Sb(57,"h6",10),o.Ac(58,"N\xfamero de control"),o.Rb(),o.Sb(59,"p"),o.Ac(60),o.Rb(),o.Rb(),o.Ob(61,"div",12),o.Sb(62,"div",9),o.Sb(63,"h6",10),o.Ac(64,"Nombre"),o.Rb(),o.Sb(65,"p",18),o.Ac(66),o.Rb(),o.Rb(),o.Ob(67,"div",12),o.Sb(68,"div",9),o.Sb(69,"h6",10),o.Ac(70,"Tel\xe9fono fijo"),o.Rb(),o.Sb(71,"p"),o.Ac(72),o.Rb(),o.Rb(),o.Sb(73,"div",9),o.Sb(74,"h6",10),o.Ac(75,"N\xfamero de celular"),o.Rb(),o.Sb(76,"p"),o.Ac(77),o.Rb(),o.Rb(),o.Sb(78,"div",9),o.Sb(79,"h6",10),o.Ac(80,"Correo electr\xf3nico"),o.Rb(),o.Sb(81,"p"),o.Ac(82),o.Rb(),o.Rb(),o.Ob(83,"div",12),o.Sb(84,"div",9),o.Sb(85,"h6",10),o.Ac(86,"Fecha de registro"),o.Rb(),o.Sb(87,"p"),o.Ac(88),o.gc(89,"date"),o.Rb(),o.Rb(),o.Sb(90,"div",9),o.Sb(91,"h6",10),o.Ac(92,"Fecha de actualizaci\xf3n"),o.Rb(),o.Sb(93,"p"),o.Ac(94),o.gc(95,"date"),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Rb()),2&e){var n=o.fc();o.Ab(9),o.Bc(n.userInfo.id),o.Ab(5),o.Bc(n.userInfo.username),o.Ab(6),o.Bc(o.ic(21,14,n.userInfo.fIns,"dd/MM/yyyy HH:mm")),o.Ab(6),o.Bc(o.ic(27,17,n.userInfo.fAct,"dd/MM/yyyy HH:mm")),o.Ab(14),o.lc("ngForOf",n.userInfo.roles),o.Ab(10),o.Bc(n.userInfo.person.id),o.Ab(5),o.Bc(n.userInfo.person.curp),o.Ab(5),o.Bc(n.userInfo.person.noCtrl),o.Ab(6),o.Bc(n.userInfo.person.nombres+" "+n.userInfo.person.primerApellido+" "+n.userInfo.person.segundoApellido),o.Ab(6),o.Bc(n.userInfo.person.tel),o.Ab(5),o.Bc(n.userInfo.person.cel),o.Ab(5),o.Bc(n.userInfo.person.mail),o.Ab(6),o.Bc(o.ic(89,20,n.userInfo.person.fIns,"dd/MM/yyyy HH:mm")),o.Ab(6),o.Bc(o.ic(95,23,n.userInfo.person.fAct,"dd/MM/yyyy HH:mm"))}}var zr,Hr=((zr=function(){function e(t,r){n(this,e),this.usersService=t,this.userService=r,this._subs$=[],this.userInfo=null,this.errGetInfo=!1}return i(e,[{key:"ngOnInit",value:function(){var e=this,t=this.userService.storageSessModel;t&&this._subs$.push(this.usersService.byId(t.userid).subscribe(function(t){e.userInfo=t},function(t){e.errGetInfo=!0}))}},{key:"ngOnDestroy",value:function(){this._subs$.forEach(function(e){try{e.unsubscribe()}catch(t){}})}}]),e}()).\u0275fac=function(e){return new(e||zr)(o.Nb(ot),o.Nb(Tr.a))},zr.\u0275cmp=o.Hb({type:zr,selectors:[["app-info-option"]],decls:2,vars:2,consts:[["class","extendWorkJob d-flex flex-column justify-content-center",4,"ngIf"],["class","row m-2 p-0",4,"ngIf"],[1,"extendWorkJob","d-flex","flex-column","justify-content-center"],[1,"text-center","text-danger"],["aria-hidden","true",1,"fa","fa-info-circle"],[1,"row","m-2","p-0"],[1,"col-12"],[1,"tableDetailSccionTitle","h2","mb-3"],[1,"row","ml-2"],[1,"col"],[1,"tableDetailSccionTitle"],[1,"h2","font-weight-bold"],[1,"w-100","m-1"],[1,"tableDetailSccionTitle","mb-2"],[1,"table","ml-2","text-white","roles"],["scope","col"],[4,"ngFor","ngForOf"],[1,"w-100","m-3"],[1,"font-weight-bold"],["scope","row"]],template:function(e,t){1&e&&(o.yc(0,Lr,4,0,"div",0),o.yc(1,Nr,96,26,"div",1)),2&e&&(o.lc("ngIf",!0===t.errGetInfo),o.Ab(1),o.lc("ngIf",t.userInfo&&!1===t.errGetInfo))},directives:[b.n,b.m],pipes:[b.e],styles:[".extendWorkJob[_ngcontent-%COMP%]{min-height:calc(100vh - 250px)}.table.roles[_ngcontent-%COMP%]{width:15rem;color:#212529}.table.roles[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:none}  body:not(.om) .text-white{color:#333!important}@media screen and (max-width:768px){.extendWorkJob[_ngcontent-%COMP%]{min-height:calc(100vh - 296px)}}"]}),zr);function Br(e,t){1&e&&(o.Sb(0,"div",2),o.Sb(1,"h1",3),o.Ob(2,"i",4),o.Ac(3," Informaci\xf3n de usuario no disponible"),o.Rb(),o.Sb(4,"p"),o.Ac(5,"No es posible cambiar la contrase\xf1a, favor de volver a iniciar sesi\xf3n"),o.Rb(),o.Rb())}function qr(e,t){if(1&e&&o.Ob(0,"i",28),2&e){var n=o.fc(3);o.Db("fa ",n.alertMsg.icon," mr-2")}}function Vr(e,t){if(1&e&&(o.Sb(0,"span"),o.Ac(1),o.Rb()),2&e){var n=o.fc(3);o.Ab(1),o.Bc(n.alertMsg.title)}}function Fr(e,t){if(1&e&&(o.Sb(0,"p",29),o.Ac(1),o.Rb()),2&e){var n=o.fc(3);o.Ab(1),o.Bc(n.alertMsg.message)}}function Jr(e,t){if(1&e){var n=o.Tb();o.Sb(0,"ngb-alert",23),o.cc("closed",function(){return o.uc(n),o.fc(2).alertMsg=null}),o.Sb(1,"h5",24),o.yc(2,qr,1,3,"i",25),o.yc(3,Vr,2,1,"span",26),o.Rb(),o.yc(4,Fr,2,1,"p",27),o.Rb()}if(2&e){var r=o.fc(2);o.lc("type",r.alertMsg.type)("dismissible",r.alertMsg.dismissible),o.Ab(2),o.lc("ngIf",r.alertMsg.icon),o.Ab(1),o.lc("ngIf",r.alertMsg.title),o.Ab(1),o.lc("ngIf",r.alertMsg.message)}}function Ur(e,t){1&e&&o.Ob(0,"i",30)}function Gr(e,t){1&e&&o.Ob(0,"i",31)}function Wr(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"Informaci\xf3n requerida"),o.Rb())}function Zr(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"La longitud m\xednima es de 6 caracteres"),o.Rb())}function Qr(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"La longitud m\xe1xima es de 50 caracteres"),o.Rb())}function Kr(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"Contrase\xf1a actual incorrecta"),o.Rb())}function Xr(e,t){if(1&e&&(o.Sb(0,"div",3),o.Ob(1,"i",32),o.yc(2,Wr,2,0,"span",26),o.yc(3,Zr,2,0,"span",26),o.yc(4,Qr,2,0,"span",26),o.yc(5,Kr,2,0,"span",26),o.Rb()),2&e){var n=o.fc(2);o.Ab(2),o.lc("ngIf",null==n.f.current.errors?null:n.f.current.errors.required),o.Ab(1),o.lc("ngIf",null==n.f.current.errors?null:n.f.current.errors.minlength),o.Ab(1),o.lc("ngIf",null==n.f.current.errors?null:n.f.current.errors.maxlength),o.Ab(1),o.lc("ngIf",null==n.f.current.errors?null:n.f.current.errors.currentPWD)}}function Yr(e,t){1&e&&o.Ob(0,"i",30)}function ei(e,t){1&e&&o.Ob(0,"i",31)}function ti(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"Informaci\xf3n requerida"),o.Rb())}function ni(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"La longitud m\xednima es de 6 caracteres"),o.Rb())}function ri(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"La longitud m\xe1xima es de 50 caracteres"),o.Rb())}function ii(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"La nueva contrase\xf1a debe ser distinta a la actual"),o.Rb())}function ci(e,t){if(1&e&&(o.Sb(0,"div",3),o.Ob(1,"i",32),o.yc(2,ti,2,0,"span",26),o.yc(3,ni,2,0,"span",26),o.yc(4,ri,2,0,"span",26),o.yc(5,ii,2,0,"span",26),o.Rb()),2&e){var n=o.fc(2);o.Ab(2),o.lc("ngIf",null==n.f.password.errors?null:n.f.password.errors.required),o.Ab(1),o.lc("ngIf",null==n.f.password.errors?null:n.f.password.errors.minlength),o.Ab(1),o.lc("ngIf",null==n.f.password.errors?null:n.f.password.errors.maxlength),o.Ab(1),o.lc("ngIf",(null==n.frmgp.errors?null:n.frmgp.errors.pwsDistincs)&&n.f.password.valid)}}function si(e,t){1&e&&o.Ob(0,"i",30)}function ai(e,t){1&e&&o.Ob(0,"i",31)}function oi(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"Informaci\xf3n requerida"),o.Rb())}function li(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"La longitud m\xednima es de 6 caracteres"),o.Rb())}function bi(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"La longitud m\xe1xima es de 50 caracteres"),o.Rb())}function ui(e,t){1&e&&(o.Sb(0,"span"),o.Ac(1,"La nueva contrase\xf1a contrase\xf1a y confirmaci\xf3n de la nueva contrase\xf1a no coinciden"),o.Rb())}function di(e,t){if(1&e&&(o.Sb(0,"div",3),o.Ob(1,"i",32),o.yc(2,oi,2,0,"span",26),o.yc(3,li,2,0,"span",26),o.yc(4,bi,2,0,"span",26),o.yc(5,ui,2,0,"span",26),o.Rb()),2&e){var n=o.fc(2);o.Ab(2),o.lc("ngIf",null==n.f.confPwd.errors?null:n.f.confPwd.errors.required),o.Ab(1),o.lc("ngIf",null==n.f.confPwd.errors?null:n.f.confPwd.errors.minlength),o.Ab(1),o.lc("ngIf",null==n.f.confPwd.errors?null:n.f.confPwd.errors.maxlength),o.Ab(1),o.lc("ngIf",(null==n.frmgp.errors?null:n.frmgp.errors.confirm)&&n.f.confPwd.valid)}}function fi(e,t){1&e&&o.Ob(0,"i",33)}function hi(e,t){1&e&&o.Ob(0,"span",34)}var pi=function(e){return{errBorder:e}};function gi(e,t){if(1&e){var n=o.Tb();o.Sb(0,"form",5),o.cc("ngSubmit",function(){return o.uc(n),o.fc().onSubmit()}),o.yc(1,Jr,5,5,"ngb-alert",6),o.Sb(2,"div",7),o.Sb(3,"label",8),o.Ac(4,"Contrase\xf1a actual"),o.Rb(),o.Sb(5,"div",9),o.yc(6,Ur,1,0,"i",10),o.yc(7,Gr,1,0,"i",11),o.Ob(8,"input",12),o.Rb(),o.yc(9,Xr,6,4,"div",13),o.Rb(),o.Sb(10,"div",7),o.Sb(11,"label",14),o.Ac(12,"Nueva contrase\xf1a"),o.Rb(),o.Sb(13,"div",9),o.yc(14,Yr,1,0,"i",10),o.yc(15,ei,1,0,"i",11),o.Ob(16,"input",15),o.Rb(),o.yc(17,ci,6,4,"div",13),o.Rb(),o.Sb(18,"div",7),o.Sb(19,"label",14),o.Ac(20,"Confirmar nueva contrase\xf1a"),o.Rb(),o.Sb(21,"div",9),o.yc(22,si,1,0,"i",10),o.yc(23,ai,1,0,"i",11),o.Ob(24,"input",16),o.Rb(),o.yc(25,di,6,4,"div",13),o.Rb(),o.Sb(26,"div",17),o.Sb(27,"button",18),o.yc(28,fi,1,0,"i",19),o.yc(29,hi,1,0,"span",20),o.Sb(30,"span",21),o.Ac(31),o.Rb(),o.Rb(),o.Rb(),o.Ob(32,"input",22),o.Rb()}if(2&e){var r=o.fc();o.lc("formGroup",r.frmgp),o.Ab(1),o.lc("ngIf",r.alertMsg),o.Ab(5),o.lc("ngIf",r.formSubmitted&&r.f.current.valid),o.Ab(1),o.lc("ngIf",r.formSubmitted&&r.f.current.invalid),o.Ab(1),o.lc("ngClass",o.pc(18,pi,r.formSubmitted&&r.f.current.invalid)),o.Ab(1),o.lc("ngIf",r.formSubmitted&&r.f.current.invalid),o.Ab(5),o.lc("ngIf",r.formSubmitted&&r.f.password.valid),o.Ab(1),o.lc("ngIf",r.formSubmitted&&r.f.password.invalid),o.Ab(1),o.lc("ngClass",o.pc(20,pi,r.formSubmitted&&r.f.password.invalid)),o.Ab(1),o.lc("ngIf",r.formSubmitted&&(r.f.password.invalid||(null==r.frmgp.errors?null:r.frmgp.errors.pwsDistincs))),o.Ab(5),o.lc("ngIf",r.formSubmitted&&r.f.confPwd.valid),o.Ab(1),o.lc("ngIf",r.formSubmitted&&r.f.confPwd.invalid),o.Ab(1),o.lc("ngClass",o.pc(22,pi,r.formSubmitted&&r.f.confPwd.invalid)),o.Ab(1),o.lc("ngIf",r.formSubmitted&&(r.f.confPwd.invalid||(null==r.frmgp.errors?null:r.frmgp.errors.confirm))),o.Ab(2),o.lc("disabled",r.formSubmitted&&!r.withErr),o.Ab(1),o.lc("ngIf",!r.formSubmitted||r.withErr),o.Ab(1),o.lc("ngIf",r.formSubmitted&&!r.withErr),o.Ab(2),o.Cc(" ",!r.formSubmitted||r.withErr?"Cambiar contrase\xf1a":"Procesando..."," ")}}var mi,vi,Si,yi,Ai,Ri=((yi=function(){function e(t,r,i,c){n(this,e),this.fb=t,this.usersService=r,this.userService=i,this.handlerErrorsService=c,this._subs$=[],this.errDataUser=null,this.formSubmitted=!1,this.withErr=!1,this.alertMsg=null}return i(e,[{key:"ngOnInit",value:function(){this.dataSession=this.userService.storageSessModel,this.dataSession?(this.frmgp=this.fb.group({id:["",[x.p.required]],current:["",[x.p.required,x.p.minLength(6),x.p.maxLength(50)],[this.curentPWD()]],password:["",[x.p.required,x.p.minLength(6),x.p.maxLength(50)]],confPwd:["",[x.p.required,x.p.minLength(6),x.p.maxLength(50)]]},{validator:[this.passwordConfirming,this.currAndNewPassDistinct]}),this.errDataUser=!1,this.f.id.patchValue(this.dataSession.userid)):this.errDataUser=!0,$("input:first").focus()}},{key:"ngOnDestroy",value:function(){this._subs$.forEach(function(e){try{e.unsubscribe()}catch(t){}})}},{key:"passwordConfirming",value:function(e){if(e.get("password").value!==e.get("confPwd").value)return{confirm:!0}}},{key:"currAndNewPassDistinct",value:function(e){if(e.get("password").value===e.get("current").value)return{pwsDistincs:!0}}},{key:"curentPWD",value:function(){var e=this;return function(t){return e.userService.login({Username:e.dataSession.username,Password:t.value,isSessionToken:!0},!0).pipe(Object(Me.a)(1e3),Object(_e.a)(function(e){return Object(ke.a)({err:!0})}),Object(_.a)(function(e){if(e.err)return{currentPWD:!0}}))}}},{key:"f",get:function(){return this.frmgp.controls}},{key:"onSubmit",value:function(){var e=this;this.withErr=!1,this.formSubmitted=!0,this.alertMsg=null;try{if(!this.frmgp.valid)throw new Error("Se encontraron errores de formulario");try{this._subs$.push(this.usersService.edit(this.frmgp.value).subscribe(function(t){e.frmgp.reset(),e.showAlert("Contrase\xf1a actualizada","success","fa-times-circle-o","Info",!0),e.withErr=!1,e.formSubmitted=!1,e.f.id.patchValue(e.dataSession.userid)},function(t){e.showAlert(e.handlerErrorsService.parseMsgError(t),"danger","fa-times-circle-o","Error"),e.withErr=!0}))}catch(t){this.showAlert(this.handlerErrorsService.parseMsgError(t),"danger","fa-times-circle-o","Error"),this.withErr=!0}}catch(t){this.showAlert(t.message,"danger","fa-times-circle-o","Error"),this.withErr=!0}}},{key:"showAlert",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.alertMsg={type:t,icon:n,title:r,dismissible:i,message:e}}}]),e}()).\u0275fac=function(e){return new(e||yi)(o.Nb(x.c),o.Nb(ot),o.Nb(Tr.a),o.Nb(L.a))},yi.\u0275cmp=o.Hb({type:yi,selectors:[["app-change-pwdoption"]],features:[o.zb([])],decls:2,vars:2,consts:[["class","extendWorkJob d-flex flex-column justify-content-center text-center",4,"ngIf"],["class","px-md-5 py-2","autocomplete","off",3,"formGroup","ngSubmit",4,"ngIf"],[1,"extendWorkJob","d-flex","flex-column","justify-content-center","text-center"],[1,"text-danger"],["aria-hidden","true",1,"fa","fa-info-circle"],["autocomplete","off",1,"px-md-5","py-2",3,"formGroup","ngSubmit"],[3,"type","dismissible","closed",4,"ngIf"],[1,"form-group"],["for","formGroupExampleInput"],[1,"inner-addon","right-addon"],["class","fa fa-check-circle-o text-success","aria-hidden","true",4,"ngIf"],["class","fa fa-times-circle-o text-danger","aria-hidden","true",4,"ngIf"],["id","current","type","password","placeholder","Contrase\xf1a actual","formControlName","current",1,"form-control",3,"ngClass"],["class","text-danger",4,"ngIf"],["for","formGroupExampleInput2"],["id","password","type","password","placeholder","Nueva contrase\xf1a","formControlName","password",1,"form-control",3,"ngClass"],["id","confPwd","type","password","placeholder","Confirmar nueva contrase\xf1a","formControlName","confPwd",1,"form-control",3,"ngClass"],[1,"text-right"],["ngClass","btn-outline-success",1,"btn",3,"disabled"],["class","fa fa-asterisk","aria-hidden","true","type","submit",4,"ngIf"],["class","spinner-grow spinner-grow-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"ml-2"],["type","hidden","id","id","name","id","formControlName","id"],[3,"type","dismissible","closed"],[1,"font-weight-bold"],["aria-hidden","true",3,"class",4,"ngIf"],[4,"ngIf"],["class","m-0 p-0",4,"ngIf"],["aria-hidden","true"],[1,"m-0","p-0"],["aria-hidden","true",1,"fa","fa-check-circle-o","text-success"],["aria-hidden","true",1,"fa","fa-times-circle-o","text-danger"],["aria-hidden","true",1,"fa","fa-exclamation-triangle","mr-2"],["aria-hidden","true","type","submit",1,"fa","fa-asterisk"],["role","status","aria-hidden","true",1,"spinner-grow","spinner-grow-sm"]],template:function(e,t){1&e&&(o.yc(0,Br,6,0,"div",0),o.yc(1,gi,33,24,"form",1)),2&e&&(o.lc("ngIf",!0===t.errDataUser),o.Ab(1),o.lc("ngIf",!1===t.errDataUser))},directives:[b.n,x.r,x.j,x.e,x.b,x.i,x.d,b.l,M.b],styles:[""]}),yi),wi=((Si=function(){function e(){n(this,e)}return i(e,[{key:"ngOnInit",value:function(){this.initOM()}},{key:"initOM",value:function(){$(".chkMO").bootstrapToggle(localStorage.getItem("om")?"on":"off",!0),$(".chkMO").change(function(){$(this).prop("checked")?(localStorage.setItem("om","1"),$("body").addClass("om")):(localStorage.removeItem("om"),$("body").removeClass("om"))})}}]),e}()).\u0275fac=function(e){return new(e||Si)},Si.\u0275cmp=o.Hb({type:Si,selectors:[["app-configs-option"]],decls:5,vars:0,consts:[[1,"row","align-items-center","px-lg-5","mt-3","mt-md-0"],[1,"col-auto"],[1,"col-auto","ml-auto"],["type","checkbox","checked","","data-toggle","toggle","data-on",'<i class="fa fa-sun-o" aria-hidden="true"></i> Claro',"data-off",'<i class="fa fa-moon-o" aria-hidden="true"></i> Obscuro',"data-width","120","data-height","40",1,"chkMO"]],template:function(e,t){1&e&&(o.Sb(0,"div",0),o.Sb(1,"h5",1),o.Ac(2,"Cambiar colores de entorno"),o.Rb(),o.Sb(3,"div",2),o.Ob(4,"input",3),o.Rb(),o.Rb())},styles:[".extendWorkJob[_ngcontent-%COMP%]{min-height:calc(100vh - 233px)}"]}),Si),Ii=((vi=function(){function e(t,r){n(this,e),this.store=t,this.router=r,this._subs$=[],this.sessData=null,this.store.dispatch(a.a({current:{title:"Informaci\xf3n de usuario",description:"",url:this.router.url}}))}return i(e,[{key:"ngOnInit",value:function(){return Object(Dr.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this._subs$.push(this.store.select("sess").subscribe(function(e){return t.sessData=e}));case 1:case"end":return e.stop()}},e,this)}))}},{key:"ngOnDestroy",value:function(){this._subs$.forEach(function(e){try{e.unsubscribe()}catch(t){}})}}]),e}()).\u0275fac=function(e){return new(e||vi)(o.Nb(l.h),o.Nb(s.b))},vi.\u0275cmp=o.Hb({type:vi,selectors:[["app-info"]],decls:24,vars:0,consts:[[1,"container","mt-3"],["aria-hidden","true",1,"fa","fa-user-circle-o"],[1,"row","m-0"],[1,"col-12","col-md-auto","pr-2","expandAndBorder"],["id","v-pills-tab","role","tablist","aria-orientation","vertical",1,"nav","flex-column","nav-pills","om"],["data-toggle","pill","href","#v-pills-userInfo","role","tab","aria-controls","v-pills-userInfo","aria-selected","false",1,"nav-link","active","show"],["aria-hidden","true",1,"fa","fa-info-circle","mr-2"],["data-toggle","pill","href","#v-pills-passChange","role","tab","aria-controls","v-pills-passChange","aria-selected","false",1,"nav-link"],["aria-hidden","true",1,"fa","fa-key","mr-2"],["data-toggle","pill","href","#v-pills-config","role","tab","aria-controls","v-pills-config","aria-selected","false",1,"nav-link"],["aria-hidden","true",1,"fa","fa-cogs","mr-2"],[1,"tab-content","col"],["id","v-pills-userInfo","role","tabpanel","aria-labelledby","pills-userInfo-tab",1,"tab-pane","fade","active","show"],["id","v-pills-passChange","role","tabpanel","aria-labelledby","pills-passChange-tab",1,"tab-pane","fade"],["id","v-pills-config","role","tabpanel","aria-labelledby","pills-config-tab",1,"tab-pane","fade"]],template:function(e,t){1&e&&(o.Sb(0,"div",0),o.Sb(1,"h2"),o.Ob(2,"i",1),o.Ac(3," Informaci\xf3n de usuario"),o.Rb(),o.Ob(4,"hr"),o.Sb(5,"div",2),o.Sb(6,"div",3),o.Sb(7,"div",4),o.Sb(8,"a",5),o.Ob(9,"i",6),o.Ac(10," Informaci\xf3n "),o.Rb(),o.Sb(11,"a",7),o.Ob(12,"i",8),o.Ac(13," Cambiar contrase\xf1a "),o.Rb(),o.Sb(14,"a",9),o.Ob(15,"i",10),o.Ac(16," Configuraci\xf3n "),o.Rb(),o.Rb(),o.Rb(),o.Sb(17,"div",11),o.Sb(18,"div",12),o.Ob(19,"app-info-option"),o.Rb(),o.Sb(20,"div",13),o.Ob(21,"app-change-pwdoption"),o.Rb(),o.Sb(22,"div",14),o.Ob(23,"app-configs-option"),o.Rb(),o.Rb(),o.Rb(),o.Rb())},directives:[Hr,Ri,wi],styles:[".nav-pills.om[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .nav-pills.om[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{color:#fff;background-color:#343a40}.expandAndBorder[_ngcontent-%COMP%]{min-height:calc(100vh - 260px);border-right:1px solid}  body.om .expandAndBorder{border-color:hsla(0,0%,100%,.1)}  body:not(.om) .expandAndBorder{border-color:rgba(0,0,0,.1)}@media screen and (max-width:768px){.expandAndBorder[_ngcontent-%COMP%]{min-height:auto;border-right:none}}"]}),vi),Oi=((mi=function(){function e(t,r,i){n(this,e),this.userService=t,this.handlerErrorsService=r,this.router=i}return i(e,[{key:"canActivate",value:function(e,t){var n=this.userService.storageSessModel,r=!0;switch(e.routeConfig.path){case"captura":r=n.roles.includes(1)||n.roles.includes(2)||n.roles.includes(4)||n.roles.includes(5);break;case"consultas":r=n.roles.includes(1)||n.roles.includes(2)||n.roles.includes(6);break;case"constancias":r=n.roles.includes(1)||n.roles.includes(2)||n.roles.includes(7);break;case"catalogo/usuarios":case"catalogo/delitos":case"catalogo/juzgados":case"catalogo/libertades":case"catalogo/salas":r=n.roles.includes(1)||n.roles.includes(2)||n.roles.includes(3);break;case"bitacora":r=n.roles.includes(1)||n.roles.includes(2)}return r||(this.handlerErrorsService.showErr("Restringido",{message:"Permisos insuficientes"},"error"),this.router.navigate(["/"])),r}}]),e}()).\u0275fac=function(e){return new(e||mi)(o.Zb(Tr.a),o.Zb(L.a),o.Zb(s.b))},mi.\u0275prov=o.Jb({token:mi,factory:mi.\u0275fac,providedIn:"root"}),mi),Mi=[{path:"",component:R},{path:"captura",component:w,canActivate:[Oi]},{path:"consultas",component:I,canActivate:[Oi]},{path:"constancias",component:O,canActivate:[Oi]},{path:"catalogo/personas",component:st,canActivate:[Oi]},{path:"catalogo/usuarios",component:Pn,canActivate:[Oi]},{path:"catalogo/delitos",component:xr,canActivate:[Oi]},{path:"catalogo/juzgados",component:_r,canActivate:[Oi]},{path:"catalogo/libertades",component:$r,canActivate:[Oi]},{path:"catalogo/salas",component:Er,canActivate:[Oi]},{path:"bitacora",component:Pr,canActivate:[Oi]},{path:"usuario/info",component:Ii,canActivate:[Oi]}],Ci=((Ai=function e(){n(this,e)}).\u0275mod=o.Lb({type:Ai}),Ai.\u0275inj=o.Kb({factory:function(e){return new(e||Ai)},imports:[[s.e.forChild(Mi)],s.e]}),Ai)}}])}();