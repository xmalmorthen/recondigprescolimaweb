(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{E5tf:function(e,t,i){"use strict";i.r(t),i.d(t,"ChildRoutesModule",function(){return lr});var r=i("tyNb"),s=i("Akov"),n=i("fXoL"),c=i("l7P3"),o=i("ofXK");function a(e,t){if(1&e&&(n.Rb(0,"h2",14),n.Nb(1,"i",15),n.zc(2),n.Qb()),2&e){const e=n.ec();n.zb(1),n.kc("ngClass",null==e.titlePageHeader?null:e.titlePageHeader.icon),n.zb(1),n.Bc(" ",e.titlePageHeader.title," ")}}function l(e,t){1&e&&(n.Rb(0,"div",4),n.Rb(1,"div",5),n.Rb(2,"div",6),n.Nb(3,"i",16),n.Rb(4,"span",8),n.zc(5,"CAPTURA"),n.Qb(),n.Qb(),n.Rb(6,"div",9),n.Rb(7,"a",17),n.Nb(8,"i",11),n.Qb(),n.Qb(),n.Qb(),n.Rb(9,"div",12),n.Rb(10,"p",13),n.zc(11,"Captura de expediente de ingreso."),n.Qb(),n.Qb(),n.Qb())}function b(e,t){1&e&&(n.Rb(0,"div",4),n.Rb(1,"div",5),n.Rb(2,"div",6),n.Nb(3,"i",18),n.Rb(4,"span",8),n.zc(5,"CONSULTA"),n.Qb(),n.Qb(),n.Rb(6,"div",9),n.Rb(7,"a",19),n.Nb(8,"i",11),n.Qb(),n.Qb(),n.Qb(),n.Rb(9,"div",12),n.Rb(10,"p",13),n.zc(11,"Consulta de expedientes."),n.Qb(),n.Qb(),n.Qb())}function d(e,t){1&e&&(n.Rb(0,"div",4),n.Rb(1,"div",5),n.Rb(2,"div",6),n.Nb(3,"i",20),n.Rb(4,"span",8),n.zc(5,"CONSTANCIA"),n.Qb(),n.Qb(),n.Rb(6,"div",9),n.Rb(7,"a",21),n.Nb(8,"i",11),n.Qb(),n.Qb(),n.Qb(),n.Rb(9,"div",12),n.Rb(10,"p",13),n.zc(11,"Imprimir constancia de no antecedente penal."),n.Qb(),n.Qb(),n.Qb())}function u(e,t){1&e&&(n.Rb(0,"div",4),n.Rb(1,"div",5),n.Rb(2,"div",6),n.Nb(3,"i",22),n.Rb(4,"span",8),n.zc(5,"CAT\xc1LOGOS"),n.Qb(),n.Qb(),n.Qb(),n.Rb(6,"div",12),n.Rb(7,"a",23),n.Nb(8,"i",24),n.zc(9," PERSONAS"),n.Qb(),n.Rb(10,"a",25),n.Nb(11,"i",24),n.zc(12," USUARIOS"),n.Qb(),n.Rb(13,"a",26),n.Nb(14,"i",24),n.zc(15," DELITOS"),n.Qb(),n.Rb(16,"a",27),n.Nb(17,"i",24),n.zc(18," JUZGADOS"),n.Qb(),n.Rb(19,"a",28),n.Nb(20,"i",24),n.zc(21," LIBERTAD"),n.Qb(),n.Rb(22,"a",29),n.Nb(23,"i",24),n.zc(24," SALAS"),n.Qb(),n.Qb(),n.Qb())}function f(e,t){1&e&&(n.Rb(0,"div",4),n.Rb(1,"div",5),n.Rb(2,"div",6),n.Nb(3,"i",30),n.Rb(4,"span",8),n.zc(5,"BIT\xc1CORA"),n.Qb(),n.Qb(),n.Rb(6,"div",9),n.Rb(7,"a",31),n.Nb(8,"i",11),n.Qb(),n.Qb(),n.Qb(),n.Rb(9,"div",12),n.Rb(10,"p",13),n.zc(11,"Registros de movimientos."),n.Qb(),n.Qb(),n.Qb())}let h=(()=>{class e{constructor(e,t){this.store=e,this.router=t,this._subs$=[],this.sessData=null,this._subs$.push(this.store.select("currentPage").subscribe(e=>{this.titlePageHeader=e})),this.store.dispatch(s.a({current:{icon:"fa-link",title:"Panel principal",description:"Tablero de opciones del sistema",url:this.router.url}}))}ngOnInit(){this._subs$.push(this.store.select("sess").subscribe(e=>this.sessData=e))}ngOnDestroy(){this._subs$.forEach(e=>{try{e.unsubscribe()}catch(t){}})}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(c.h),n.Mb(r.b))},e.\u0275cmp=n.Gb({type:e,selectors:[["app-dashboard"]],decls:20,vars:6,consts:[[1,"container","extendWorkJob","d-flex","flex-column","justify-content-center"],["class","pageHeader",4,"ngIf"],[1,"card-columns"],["class","card border-secondary bg-t",4,"ngIf"],[1,"card","border-secondary","bg-t"],[1,"card-header","h4","row","m-0"],[1,"col"],["aria-hidden","true",1,"fa","fa-user-circle-o","fa-fw","fa-align-center"],[1,"pl-2"],[1,"col-auto","ml-auto"],["routerLink","usuario/info","title","Captura de expedientes",1,""],["aria-hidden","true",1,"fa","fa-external-link"],[1,"card-body","text-white","text-justify"],[1,"card-text"],[1,"pageHeader"],["aria-hidden","true",1,"fa",3,"ngClass"],["aria-hidden","true",1,"fa","fa-folder-o"],["routerLink","captura","title","Captura de expedientes",1,""],["aria-hidden","true",1,"fa","fa-search"],["routerLink","consultas","title","Captura de expedientes",1,""],["aria-hidden","true",1,"fa","fa-file-text-o"],["routerLink","constancias","title","Captura de expedientes",1,""],["aria-hidden","true",1,"fa","fa-table"],["routerLink","catalogo/personas","title","Cat\xe1logo de personas",1,"dropdown-item"],["aria-hidden","true",1,"fa","fa-minus","pr-2"],["routerLink","catalogo/usuarios","title","Cat\xe1logo de usuarios",1,"dropdown-item"],["routerLink","catalogo/delitos","title","Cat\xe1logo de delitos",1,"dropdown-item"],["routerLink","catalogo/juzgados","title","Cat\xe1logo de juzgados",1,"dropdown-item"],["routerLink","catalogo/libertades","title","Cat\xe1logo de libertades",1,"dropdown-item"],["routerLink","catalogo/salas","title","Cat\xe1logo de salas",1,"dropdown-item"],["aria-hidden","true",1,"fa","fa-binoculars"],["routerLink","bitacora","title","Captura de expedientes",1,""]],template:function(e,t){1&e&&(n.Rb(0,"div",0),n.xc(1,a,3,2,"h2",1),n.Rb(2,"div",2),n.xc(3,l,12,0,"div",3),n.xc(4,b,12,0,"div",3),n.xc(5,d,12,0,"div",3),n.xc(6,u,25,0,"div",3),n.xc(7,f,12,0,"div",3),n.Rb(8,"div",4),n.Rb(9,"div",5),n.Rb(10,"div",6),n.Nb(11,"i",7),n.Rb(12,"span",8),n.zc(13,"USUARIO"),n.Qb(),n.Qb(),n.Rb(14,"div",9),n.Rb(15,"a",10),n.Nb(16,"i",11),n.Qb(),n.Qb(),n.Qb(),n.Rb(17,"div",12),n.Rb(18,"p",13),n.zc(19,"Informaci\xf3n de usuario, cambio de contrase\xf1a y configuraciones del sistema."),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb()),2&e&&(n.zb(1),n.kc("ngIf",t.titlePageHeader),n.zb(2),n.kc("ngIf",t.sessData.roles.includes(1)||t.sessData.roles.includes(2)||t.sessData.roles.includes(4)||t.sessData.roles.includes(5)),n.zb(1),n.kc("ngIf",t.sessData.roles.includes(1)||t.sessData.roles.includes(2)||t.sessData.roles.includes(6)),n.zb(1),n.kc("ngIf",t.sessData.roles.includes(1)||t.sessData.roles.includes(2)||t.sessData.roles.includes(7)),n.zb(1),n.kc("ngIf",t.sessData.roles.includes(1)||t.sessData.roles.includes(2)||t.sessData.roles.includes(3)),n.zb(1),n.kc("ngIf",t.sessData.roles.includes(1)||t.sessData.roles.includes(2)))},directives:[o.n,r.d,o.l],styles:[".dropdown-item[_ngcontent-%COMP%]{color:#fff}.dropdown-item[_ngcontent-%COMP%]:hover{color:#000}.card-header[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.050980392156862744)}"]}),e})(),p=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Gb({type:e,selectors:[["app-capture"]],decls:3,vars:0,consts:[[1,"container","extendWorkJob","d-flex","flex-column","justify-content-center"]],template:function(e,t){1&e&&(n.Rb(0,"div",0),n.Rb(1,"h1"),n.zc(2,"Ok"),n.Qb(),n.Qb())},styles:[""]}),e})(),g=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Gb({type:e,selectors:[["app-queryes"]],decls:2,vars:0,template:function(e,t){1&e&&(n.Rb(0,"p"),n.zc(1,"queryes works!"),n.Qb())},styles:[""]}),e})(),m=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Gb({type:e,selectors:[["app-proof"]],decls:2,vars:0,template:function(e,t){1&e&&(n.Rb(0,"p"),n.zc(1,"proof works!"),n.Qb())},styles:[""]}),e})();var v=i("1kSV"),R=i("XNiG"),z=i("wDfv"),Q=i("3Pt+"),x=i("lJxs"),k=i("vkgz"),w=i("AytR"),y=i("tk/3");let M=(()=>{class e{constructor(e){this.http=e}data(e="",t="",i=""){return this.http.get(`${w.a.apis.recon.url}/admin/persons?skip=${e}&take=${t}&filter=${i}`).pipe(Object(x.a)(e=>{if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(k.a)(e=>{}))}add(e){return this.http.post(`${w.a.apis.recon.url}/admin/person`,e).pipe(Object(x.a)(e=>{if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(k.a)(e=>{}))}edit(e){return this.http.patch(`${w.a.apis.recon.url}/admin/person`,e).pipe(Object(x.a)(e=>{if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(k.a)(e=>{}))}}return e.\u0275fac=function(t){return new(t||e)(n.Yb(y.b))},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var S=i("fVQW");function I(e,t){if(1&e&&n.Nb(0,"i",24),2&e){const e=n.ec(2);n.Cb("fa ",e.alertMsg.icon," mr-2")}}function C(e,t){if(1&e&&(n.Rb(0,"span"),n.zc(1),n.Qb()),2&e){const e=n.ec(2);n.zb(1),n.Ac(e.alertMsg.title)}}function _(e,t){if(1&e&&(n.Rb(0,"p",25),n.zc(1),n.Qb()),2&e){const e=n.ec(2);n.zb(1),n.Ac(e.alertMsg.message)}}function E(e,t){if(1&e&&(n.Rb(0,"ngb-alert",19),n.Rb(1,"h5",20),n.xc(2,I,1,3,"i",21),n.xc(3,C,2,1,"span",22),n.Qb(),n.xc(4,_,2,1,"p",23),n.Qb()),2&e){const e=n.ec();n.kc("type",e.alertMsg.type)("dismissible",!1),n.zb(2),n.kc("ngIf",e.alertMsg.icon),n.zb(1),n.kc("ngIf",e.alertMsg.title),n.zb(1),n.kc("ngIf",e.alertMsg.message)}}function A(e,t){if(1&e&&(n.Rb(0,"div",4),n.Rb(1,"label"),n.zc(2,"Nombre"),n.Qb(),n.Rb(3,"div",5),n.Rb(4,"h4"),n.zc(5),n.Qb(),n.Qb(),n.Qb()),2&e){const e=n.ec();n.zb(5),n.Bc(" ",e.editModel.nombres+" "+e.editModel.primerApellido+" "+e.editModel.segundoApellido," ")}}function O(e,t){1&e&&n.Nb(0,"i",26)}function N(e,t){1&e&&n.Nb(0,"i",27)}function P(e,t){1&e&&(n.Rb(0,"span"),n.zc(1,"Informaci\xf3n requerida"),n.Qb())}function D(e,t){1&e&&(n.Rb(0,"span"),n.zc(1,"La longitud m\xe1xima es de 50 caracteres"),n.Qb())}function T(e,t){if(1&e&&(n.Rb(0,"div",28),n.Nb(1,"i",29),n.xc(2,P,2,0,"span",22),n.xc(3,D,2,0,"span",22),n.Qb()),2&e){const e=n.ec();n.zb(2),n.kc("ngIf",e.f.noCtrl.errors.required),n.zb(1),n.kc("ngIf",e.f.noCtrl.errors.maxlength)}}function L(e,t){1&e&&n.Nb(0,"i",26)}function j(e,t){1&e&&n.Nb(0,"i",27)}function q(e,t){1&e&&(n.Rb(0,"span"),n.zc(1,"Informaci\xf3n requerida"),n.Qb())}function V(e,t){1&e&&(n.Rb(0,"span"),n.zc(1,"La longitud m\xednima es de 18 caracteres"),n.Qb())}function H(e,t){1&e&&(n.Rb(0,"span"),n.zc(1,"La longitud m\xe1xima es de 18 caracteres"),n.Qb())}function F(e,t){if(1&e&&(n.Rb(0,"div",28),n.Nb(1,"i",29),n.xc(2,q,2,0,"span",22),n.xc(3,V,2,0,"span",22),n.xc(4,H,2,0,"span",22),n.Qb()),2&e){const e=n.ec(2);n.zb(2),n.kc("ngIf",e.f.curp.errors.required),n.zb(1),n.kc("ngIf",e.f.curp.errors.minlength),n.zb(1),n.kc("ngIf",e.f.curp.errors.maxlength)}}const G=function(e){return{errBorder:e}};function B(e,t){if(1&e&&(n.Rb(0,"div",4),n.Rb(1,"label"),n.zc(2,"CURP"),n.Qb(),n.Rb(3,"div",5),n.xc(4,L,1,0,"i",6),n.xc(5,j,1,0,"i",7),n.Nb(6,"input",30),n.Qb(),n.xc(7,F,5,3,"div",9),n.Qb()),2&e){const e=n.ec();n.zb(4),n.kc("ngIf",e.formSubmitted&&e.f.curp.valid),n.zb(1),n.kc("ngIf",e.formSubmitted&&e.f.curp.invalid),n.zb(1),n.kc("ngClass",n.oc(4,G,e.formSubmitted&&e.f.curp.invalid)),n.zb(1),n.kc("ngIf",e.formSubmitted&&e.f.curp.invalid)}}function Y(e,t){1&e&&n.Nb(0,"i",26)}function U(e,t){1&e&&n.Nb(0,"i",27)}function J(e,t){1&e&&(n.Rb(0,"span"),n.zc(1,"Informaci\xf3n requerida"),n.Qb())}function W(e,t){1&e&&(n.Rb(0,"span"),n.zc(1,"La longitud m\xednima es de 10 caracteres"),n.Qb())}function K(e,t){1&e&&(n.Rb(0,"span"),n.zc(1,"La longitud m\xe1xima es de 100 caracteres"),n.Qb())}function X(e,t){if(1&e&&(n.Rb(0,"div",28),n.Nb(1,"i",29),n.xc(2,J,2,0,"span",22),n.xc(3,W,2,0,"span",22),n.xc(4,K,2,0,"span",22),n.Qb()),2&e){const e=n.ec();n.zb(2),n.kc("ngIf",e.f.tel.errors.required),n.zb(1),n.kc("ngIf",e.f.tel.errors.minlength),n.zb(1),n.kc("ngIf",e.f.tel.errors.maxlength)}}function Z(e,t){1&e&&n.Nb(0,"i",26)}function ee(e,t){1&e&&n.Nb(0,"i",27)}function te(e,t){1&e&&(n.Rb(0,"span"),n.zc(1,"Informaci\xf3n requerida"),n.Qb())}function ie(e,t){1&e&&(n.Rb(0,"span"),n.zc(1,"La longitud m\xednima es de 10 caracteres"),n.Qb())}function re(e,t){1&e&&(n.Rb(0,"span"),n.zc(1,"La longitud m\xe1xima es de 100 caracteres"),n.Qb())}function se(e,t){if(1&e&&(n.Rb(0,"div",28),n.Nb(1,"i",29),n.xc(2,te,2,0,"span",22),n.xc(3,ie,2,0,"span",22),n.xc(4,re,2,0,"span",22),n.Qb()),2&e){const e=n.ec();n.zb(2),n.kc("ngIf",e.f.cel.errors.required),n.zb(1),n.kc("ngIf",e.f.cel.errors.minlength),n.zb(1),n.kc("ngIf",e.f.cel.errors.maxlength)}}function ne(e,t){1&e&&n.Nb(0,"i",26)}function ce(e,t){1&e&&n.Nb(0,"i",27)}function oe(e,t){1&e&&(n.Rb(0,"span"),n.zc(1,"Informaci\xf3n requerida"),n.Qb())}function ae(e,t){1&e&&(n.Rb(0,"span"),n.zc(1,"La longitud m\xednima es de 3 caracteres"),n.Qb())}function le(e,t){1&e&&(n.Rb(0,"span"),n.zc(1,"La longitud m\xe1xima es de 50 caracteres"),n.Qb())}function be(e,t){1&e&&(n.Rb(0,"span"),n.zc(1,"Formato de correo electr\xf3nico inv\xe1lido"),n.Qb())}function de(e,t){if(1&e&&(n.Rb(0,"div",28),n.Nb(1,"i",29),n.xc(2,oe,2,0,"span",22),n.xc(3,ae,2,0,"span",22),n.xc(4,le,2,0,"span",22),n.xc(5,be,2,0,"span",22),n.Qb()),2&e){const e=n.ec();n.zb(2),n.kc("ngIf",e.f.mail.errors.required),n.zb(1),n.kc("ngIf",e.f.mail.errors.minlength),n.zb(1),n.kc("ngIf",e.f.mail.errors.maxlength),n.zb(1),n.kc("ngIf",e.f.mail.errors.pattern)}}function ue(e,t){1&e&&n.Nb(0,"i",31)}function fe(e,t){1&e&&n.Nb(0,"span",32)}let he=(()=>{class e{constructor(e,t,i,r){this.fb=e,this.store=t,this.personsService=i,this.handlerErrorsService=r,this._subs$=[],this.onAddorEdit=new n.n,this.frmgp=this.fb.group({id:[""],noCtrl:["",[Q.p.required,Q.p.maxLength(50)]],curp:["",[Q.p.required,Q.p.minLength(18),Q.p.maxLength(18)]],tel:["",[Q.p.minLength(10),Q.p.maxLength(100)]],cel:["",[Q.p.minLength(10),Q.p.maxLength(100)]],mail:["",[Q.p.required,Q.p.minLength(3),Q.p.maxLength(50),Q.p.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]]}),this.formSubmitted=!1,this.withErr=!1,this.alertMsg=null}ngOnInit(){this._subs$.push(this.store.select("catalogPersons").subscribe(e=>this.editModel=e.selected)),this._subs$.push(this.editMode.subscribe(e=>{this._populateFormEditMode(e)}))}ngOnDestroy(){this._subs$.forEach(e=>{try{e.unsubscribe()}catch(t){}})}get f(){return this.frmgp.controls}_populateFormEditMode(e){var t,i,r,s,n,c;this.withErr=!1,this.formSubmitted=!1,this.alertMsg=null,this.f.id.patchValue(null===(t=this.editModel)||void 0===t?void 0:t.id),this.f.noCtrl.patchValue(null===(i=this.editModel)||void 0===i?void 0:i.noCtrl),this.f.curp.patchValue(null===(r=this.editModel)||void 0===r?void 0:r.curp),this.f.tel.patchValue(null===(s=this.editModel)||void 0===s?void 0:s.tel),this.f.cel.patchValue(null===(n=this.editModel)||void 0===n?void 0:n.cel),this.f.mail.patchValue(null===(c=this.editModel)||void 0===c?void 0:c.mail),$("form input:first").select()}onSubmit(){this.withErr=!1,this.formSubmitted=!0,this.alertMsg=null;try{if(!this.frmgp.valid)throw new Error("Se encontraron errores de formulario");this.editModel?this.editAction():this.addAction()}catch(e){this.showAlert(e.message,"danger","fa-times-circle-o","Error"),this.withErr=!0}}showAlert(e,t,i,r){this.alertMsg={type:t,icon:i,title:r,message:e}}addAction(){try{this._subs$.push(this.personsService.add(this.frmgp.value).subscribe(e=>{this.onAddorEdit.emit({status:!0,action:"add"})},e=>{this.showAlert(this.handlerErrorsService.parseMsgError(e),"danger","fa-times-circle-o","Error"),this.withErr=!0}))}catch(e){this.showAlert(this.handlerErrorsService.parseMsgError(e),"danger","fa-times-circle-o","Error"),this.withErr=!0}}editAction(){try{this._subs$.push(this.personsService.edit(this.frmgp.value).subscribe(e=>{this.onAddorEdit.emit({status:!0,action:"update"})},e=>{this.showAlert(this.handlerErrorsService.parseMsgError(e),"danger","fa-times-circle-o","Error"),this.withErr=!0}))}catch(e){this.showAlert(this.handlerErrorsService.parseMsgError(e),"danger","fa-times-circle-o","Error"),this.withErr=!0}}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(Q.c),n.Mb(c.h),n.Mb(M),n.Mb(S.a))},e.\u0275cmp=n.Gb({type:e,selectors:[["app-form-persons"]],inputs:{editMode:"editMode"},outputs:{onAddorEdit:"onAddorEdit"},decls:46,vars:36,consts:[["autocomplete","off",3,"formGroup","ngSubmit"],[3,"type","dismissible",4,"ngIf"],[1,"form-row"],["class","col-12 col-md-4 py-2",4,"ngIf"],[1,"col-12","col-md-4","py-2"],[1,"inner-addon","right-addon"],["class","fa fa-check-circle-o text-success","aria-hidden","true",4,"ngIf"],["class","fa fa-times-circle-o text-danger","aria-hidden","true",4,"ngIf"],["id","noctrl","type","text","placeholder","N\xfamero de control","formControlName","noCtrl",1,"form-control",3,"ngClass"],["class","text-danger",4,"ngIf"],["id","tel","type","text","placeholder","Tel\xe9fono fijo","formControlName","tel",1,"form-control",3,"ngClass"],["id","cel","type","text","placeholder","Celular","formControlName","cel",1,"form-control",3,"ngClass"],["id","mail","type","text","placeholder","Correo electr\xf3nico","formControlName","mail",1,"form-control",3,"ngClass"],[1,"text-right"],["ngClass","btn-outline-success",1,"btn",3,"disabled"],["class","fa fa-pencil-square-o","aria-hidden","true","type","submit",4,"ngIf"],["class","spinner-grow spinner-grow-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"ml-2"],["type","hidden","id","id","name","id","formControlName","id"],[3,"type","dismissible"],[1,"font-weight-bold"],["aria-hidden","true",3,"class",4,"ngIf"],[4,"ngIf"],["class","m-0 p-0",4,"ngIf"],["aria-hidden","true"],[1,"m-0","p-0"],["aria-hidden","true",1,"fa","fa-check-circle-o","text-success"],["aria-hidden","true",1,"fa","fa-times-circle-o","text-danger"],[1,"text-danger"],["aria-hidden","true",1,"fa","fa-exclamation-triangle","mr-2"],["id","curp","type","text","placeholder","CURP","formControlName","curp",1,"form-control",3,"ngClass"],["aria-hidden","true","type","submit",1,"fa","fa-pencil-square-o"],["role","status","aria-hidden","true",1,"spinner-grow","spinner-grow-sm"]],template:function(e,t){1&e&&(n.Rb(0,"form",0),n.bc("ngSubmit",function(){return t.onSubmit()}),n.xc(1,E,5,5,"ngb-alert",1),n.Rb(2,"div",2),n.xc(3,A,6,1,"div",3),n.fc(4,"async"),n.Rb(5,"div",4),n.Rb(6,"label"),n.zc(7,"N\xfamero de control"),n.Qb(),n.Rb(8,"div",5),n.xc(9,O,1,0,"i",6),n.xc(10,N,1,0,"i",7),n.Nb(11,"input",8),n.Qb(),n.xc(12,T,4,2,"div",9),n.Qb(),n.xc(13,B,8,6,"div",3),n.fc(14,"async"),n.Rb(15,"div",4),n.Rb(16,"label"),n.zc(17,"Tel\xe9fono fijo"),n.Qb(),n.Rb(18,"div",5),n.xc(19,Y,1,0,"i",6),n.xc(20,U,1,0,"i",7),n.Nb(21,"input",10),n.Qb(),n.xc(22,X,5,3,"div",9),n.Qb(),n.Rb(23,"div",4),n.Rb(24,"label"),n.zc(25,"Celular"),n.Qb(),n.Rb(26,"div",5),n.xc(27,Z,1,0,"i",6),n.xc(28,ee,1,0,"i",7),n.Nb(29,"input",11),n.Qb(),n.xc(30,se,5,3,"div",9),n.Qb(),n.Rb(31,"div",4),n.Rb(32,"label"),n.zc(33,"Correo electr\xf3nico"),n.Qb(),n.Rb(34,"div",5),n.xc(35,ne,1,0,"i",6),n.xc(36,ce,1,0,"i",7),n.Nb(37,"input",12),n.Qb(),n.xc(38,de,6,4,"div",9),n.Qb(),n.Qb(),n.Rb(39,"div",13),n.Rb(40,"button",14),n.xc(41,ue,1,0,"i",15),n.xc(42,fe,1,0,"span",16),n.Rb(43,"span",17),n.zc(44),n.Qb(),n.Qb(),n.Qb(),n.Nb(45,"input",18),n.Qb()),2&e&&(n.kc("formGroup",t.frmgp),n.zb(1),n.kc("ngIf",t.alertMsg),n.zb(2),n.kc("ngIf",1==n.gc(4,24,t.editMode)),n.zb(6),n.kc("ngIf",t.formSubmitted&&t.f.noCtrl.valid),n.zb(1),n.kc("ngIf",t.formSubmitted&&t.f.noCtrl.invalid),n.zb(1),n.kc("ngClass",n.oc(28,G,t.formSubmitted&&t.f.noCtrl.invalid)),n.zb(1),n.kc("ngIf",t.formSubmitted&&t.f.noCtrl.invalid),n.zb(1),n.kc("ngIf",1!=n.gc(14,26,t.editMode)),n.zb(6),n.kc("ngIf",t.formSubmitted&&t.f.tel.valid),n.zb(1),n.kc("ngIf",t.formSubmitted&&t.f.tel.invalid),n.zb(1),n.kc("ngClass",n.oc(30,G,t.formSubmitted&&t.f.tel.invalid)),n.zb(1),n.kc("ngIf",t.formSubmitted&&t.f.tel.invalid),n.zb(5),n.kc("ngIf",t.formSubmitted&&t.f.cel.valid),n.zb(1),n.kc("ngIf",t.formSubmitted&&t.f.cel.invalid),n.zb(1),n.kc("ngClass",n.oc(32,G,t.formSubmitted&&t.f.cel.invalid)),n.zb(1),n.kc("ngIf",t.formSubmitted&&t.f.cel.invalid),n.zb(5),n.kc("ngIf",t.formSubmitted&&t.f.mail.valid),n.zb(1),n.kc("ngIf",t.formSubmitted&&t.f.mail.invalid),n.zb(1),n.kc("ngClass",n.oc(34,G,t.formSubmitted&&t.f.mail.invalid)),n.zb(1),n.kc("ngIf",t.formSubmitted&&t.f.mail.invalid),n.zb(2),n.kc("disabled",t.formSubmitted&&!t.withErr),n.zb(1),n.kc("ngIf",!t.formSubmitted||t.withErr),n.zb(1),n.kc("ngIf",t.formSubmitted&&!t.withErr),n.zb(2),n.Bc(" ",!t.formSubmitted||t.withErr?t.editModel?"Editar":"Registrar":"Procesando..."," "))},directives:[Q.r,Q.j,Q.e,o.n,Q.b,Q.i,Q.d,o.l,v.b],pipes:[o.b],styles:[""]}),e})();var pe=i("Kj3r"),ge=i("2Vo4"),me=i("LRne"),ve=i("eIep"),Re=i("JIr8");let ze=(()=>{class e{constructor(e,t,i){this.pipe=e,this.personsService=t,this.store=i,this._subs$=[],this._loading$=new ge.a(!0),this._err$=new ge.a(null),this._search$=new R.a,this._persons$=new ge.a([]),this._total$=new ge.a(0),this._state={page:1,pageSize:10,searchTerm:"",sortColumn:"",sortDirection:""},this._subs$.push(this._search$.pipe(Object(k.a)(()=>{this._err$.next(null),this._loading$.next(!0)}),Object(pe.a)(500),Object(ve.a)(()=>this._dataList()),Object(x.a)(e=>this._formating(e)),Object(k.a)(()=>this._loading$.next(!1))).subscribe(e=>{this._persons$.next(e.data),this._total$.next(e.total)})),this._search$.next()}ngOnDestroy(){this._subs$.forEach(e=>{try{e.unsubscribe()}catch(t){}})}get persons$(){return this._persons$.asObservable()}get total$(){return this._total$.asObservable()}get loading$(){return this._loading$.asObservable()}get err$(){return this._err$.asObservable()}get page(){return this._state.page}get pageSize(){return this._state.pageSize}get searchTerm(){return this._state.searchTerm}set page(e){this._set({page:e})}set pageSize(e){this._set({pageSize:e})}set searchTerm(e){this._set({searchTerm:e})}set sortColumn(e){this._set({sortColumn:e})}set sortDirection(e){this._set({sortDirection:e})}refreshTable(){this._search$.next()}_set(e){Object.assign(this._state,e),this._search$.next()}_dataList(){const{searchTerm:e}=this._state;return this.personsService.data(null,null,e).pipe(Object(Re.a)(e=>(this._err$.next(e),Object(me.a)([]))))}_formating(e){const{searchTerm:t,sortColumn:i,sortDirection:r,pageSize:s,page:n}=this._state;let c=e;var o,a,l;(i||r)&&(o=c,a=i,c=""===(l=r)||""===a?o:[...o].sort((e,t)=>{const i=(r=e[a])<(s=t[a])?-1:r>s?1:0;var r,s;return"asc"===l?i:-i})),t&&(c=c.filter(e=>function(e,t,i){return e.noCtrl.toLowerCase().includes(t.toLowerCase())||e.curp.toLowerCase().includes(t.toLowerCase())||e.primerApellido.toLowerCase().includes(t.toLowerCase())||e.segundoApellido.toLowerCase().includes(t.toLowerCase())||e.nombres.toLowerCase().includes(t.toLowerCase())||e.tel.toLowerCase().includes(t.toLowerCase())||e.cel.toLowerCase().includes(t.toLowerCase())||e.mail.toLowerCase().includes(t.toLowerCase())}(e,t)));const b=c.length;return c=c.slice((n-1)*s,(n-1)*s+s),this.store.dispatch(z.a({data:c})),{data:c,total:b}}}return e.\u0275fac=function(t){return new(t||e)(n.Yb(o.f),n.Yb(M),n.Yb(c.h))},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Qe={asc:"desc",desc:"","":"asc"};let xe=(()=>{class e{constructor(){this.sortable="",this.direction="",this.sort=new n.n}rotate(){this.direction=Qe[this.direction],this.sort.emit({column:this.sortable,direction:this.direction})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Hb({type:e,selectors:[["th","sortable",""]],hostVars:4,hostBindings:function(e,t){1&e&&n.bc("click",function(){return t.rotate()}),2&e&&n.Eb("asc","asc"===t.direction)("desc","desc"===t.direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sort:"sort"}}),e})();function ke(e,t){if(1&e&&n.Nb(0,"i",31),2&e){const e=n.ec(2);n.Cb("fa ",e.alertMsg.icon," mr-2")}}function we(e,t){if(1&e&&(n.Rb(0,"span"),n.zc(1),n.Qb()),2&e){const e=n.ec(2);n.zb(1),n.Ac(e.alertMsg.title)}}function ye(e,t){if(1&e&&(n.Rb(0,"p",32),n.zc(1),n.Qb()),2&e){const e=n.ec(2);n.zb(1),n.Ac(e.alertMsg.message)}}function Me(e,t){if(1&e&&(n.Rb(0,"ngb-alert",26),n.Rb(1,"h5",27),n.xc(2,ke,1,3,"i",28),n.xc(3,we,2,1,"span",29),n.Qb(),n.xc(4,ye,2,1,"p",30),n.Qb()),2&e){const e=n.ec();n.kc("type","danger")("dismissible",!1),n.zb(2),n.kc("ngIf",e.alertMsg.icon),n.zb(1),n.kc("ngIf",e.alertMsg.title),n.zb(1),n.kc("ngIf",e.alertMsg.message)}}function Se(e,t){if(1&e&&n.Nb(0,"i",31),2&e){const e=n.ec(2);n.Cb("fa ",e.alertMsg.icon," mr-2")}}function Ie(e,t){if(1&e&&(n.Rb(0,"span"),n.zc(1),n.Qb()),2&e){const e=n.ec(2);n.zb(1),n.Ac(e.alertMsg.title)}}function Ce(e,t){if(1&e&&(n.Rb(0,"p",32),n.zc(1),n.Qb()),2&e){const e=n.ec(2);n.zb(1),n.Ac(e.alertMsg.message)}}function $e(e,t){if(1&e){const e=n.Sb();n.Rb(0,"ngb-alert",33),n.bc("closed",function(){return n.tc(e),n.ec().alertMsg=null}),n.Rb(1,"h5",27),n.xc(2,Se,1,3,"i",28),n.xc(3,Ie,2,1,"span",29),n.Qb(),n.xc(4,Ce,2,1,"p",30),n.Qb()}if(2&e){const e=n.ec();n.kc("type",e.alertMsg.type),n.zb(2),n.kc("ngIf",e.alertMsg.icon),n.zb(1),n.kc("ngIf",e.alertMsg.title),n.zb(1),n.kc("ngIf",e.alertMsg.message)}}function _e(e,t){1&e&&n.Nb(0,"i",34)}function Ee(e,t){1&e&&(n.Rb(0,"tbody"),n.Rb(1,"tr"),n.Rb(2,"th",35),n.Nb(3,"i",36),n.Rb(4,"span"),n.zc(5,"Actualizndo informaci\xf3n..."),n.Qb(),n.Qb(),n.Qb(),n.Qb())}function Ae(e,t){if(1&e){const e=n.Sb();n.Pb(0),n.Rb(1,"tr"),n.Rb(2,"td",38),n.Rb(3,"button",39),n.bc("click",function(i){n.tc(e);const r=t.$implicit;return n.ec(3).toggleTableDetail(r.id,i)}),n.Nb(4,"i",40),n.Qb(),n.Qb(),n.Rb(5,"th",41),n.zc(6),n.Qb(),n.Rb(7,"td"),n.Nb(8,"ngb-highlight",42),n.Qb(),n.Rb(9,"td"),n.Nb(10,"ngb-highlight",42),n.Qb(),n.Rb(11,"td"),n.Nb(12,"ngb-highlight",42),n.Qb(),n.Rb(13,"td"),n.Nb(14,"ngb-highlight",42),n.Qb(),n.Rb(15,"td"),n.Nb(16,"ngb-highlight",42),n.Qb(),n.Rb(17,"td",38),n.Rb(18,"div",43),n.Rb(19,"button",44),n.bc("click",function(){n.tc(e);const i=t.$implicit;return n.ec(3).editRecord(i)}),n.Nb(20,"i",45),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Rb(21,"tr",46),n.Rb(22,"td",47),n.Rb(23,"div",3),n.Rb(24,"div",48),n.Rb(25,"h6",49),n.zc(26,"Tel\xe9fono"),n.Qb(),n.Rb(27,"p",50),n.zc(28),n.Qb(),n.Qb(),n.Rb(29,"div",48),n.Rb(30,"h6",49),n.zc(31,"Celular"),n.Qb(),n.Rb(32,"p",50),n.zc(33),n.Qb(),n.Qb(),n.Rb(34,"div",48),n.Rb(35,"h6",49),n.zc(36,"Correo electr\xf3nico"),n.Qb(),n.Rb(37,"p",51),n.zc(38),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Ob()}if(2&e){const e=t.$implicit,i=n.ec(3);n.zb(6),n.Ac(e.id),n.zb(2),n.kc("result",e.noCtrl)("term",i.service.searchTerm),n.zb(2),n.kc("result",e.curp)("term",i.service.searchTerm),n.zb(2),n.kc("result",e.primerApellido)("term",i.service.searchTerm),n.zb(2),n.kc("result",e.segundoApellido)("term",i.service.searchTerm),n.zb(2),n.kc("result",e.nombres)("term",i.service.searchTerm),n.zb(5),n.kc("ngClass","id_"+e.id),n.zb(7),n.Ac(e.tel),n.zb(5),n.Ac(e.cel),n.zb(5),n.Ac(e.mail)}}function Oe(e,t){if(1&e&&(n.Rb(0,"tbody"),n.xc(1,Ae,39,15,"ng-container",37),n.fc(2,"async"),n.Qb()),2&e){const e=n.ec(2);n.zb(1),n.kc("ngForOf",n.gc(2,1,e.persons$))}}function Ne(e,t){if(1&e&&(n.xc(0,Oe,3,3,"tbody",22),n.fc(1,"async")),2&e){const e=n.ec(),t=n.sc(54);n.kc("ngIf",n.gc(1,2,e.total$))("ngIfElse",t)}}function Pe(e,t){1&e&&(n.Rb(0,"tbody"),n.Rb(1,"tr"),n.Rb(2,"th",52),n.Nb(3,"i",53),n.zc(4," No se encontr\xf3 informaci\xf3n "),n.Qb(),n.Qb(),n.Qb())}function De(e,t){if(1&e){const e=n.Sb();n.Rb(0,"div",2),n.Rb(1,"ngb-pagination",54),n.bc("pageChange",function(t){return n.tc(e),n.ec().service.page=t}),n.fc(2,"async"),n.Qb(),n.Rb(3,"span",27),n.zc(4),n.fc(5,"async"),n.fc(6,"async"),n.fc(7,"async"),n.Qb(),n.Qb()}if(2&e){const e=n.ec();n.zb(1),n.kc("collectionSize",n.gc(2,6,e.total$))("page",e.service.page)("pageSize",e.service.pageSize),n.zb(3),n.Dc(" Mostrando ",e.service.page*e.service.pageSize-e.service.pageSize+1," al ",e.service.page*e.service.pageSize<=n.gc(5,8,e.total$)?e.service.page*e.service.pageSize:n.gc(6,10,e.total$)," de ",n.gc(7,12,e.total$)," registros")}}let Te=(()=>{class e{constructor(e,t,i){this.service=e,this.store=t,this.handlerErrorsService=i,this._subs$=[],this.onSelected=new n.n,this.forceRefreshData=new R.a,this._autoCloseAlert=new R.a,this.alertMsg=null,this.persons$=e.persons$,this.total$=e.total$}ngOnInit(){this._subs$.push(this._autoCloseAlert.pipe(Object(pe.a)(1e4)).subscribe(()=>{this.alertMsg=null})),this._subs$.push(this.forceRefreshData.subscribe(e=>this.refreshTable(e))),this._subs$.push(this.service.err$.subscribe(e=>{this.alertMsg=e?{type:"error",icon:"fa-info-circle",title:"Error",message:` ${this.handlerErrorsService.parseMsgError(e)} </br> favor de intentarlo de nuevo. `}:null}))}ngOnDestroy(){this._subs$.forEach(e=>{try{e.unsubscribe()}catch(t){}})}onSort({column:e,direction:t}){this.headers.forEach(t=>{t.sortable!==e&&(t.direction="")}),this.service.sortColumn=e,this.service.sortDirection=t}toggleTableDetail(e,t){const i=$(`.tableDetail.id_${e}`),r=$(t.currentTarget);i.hasClass("d-none")?(i.removeClass("d-none"),r.html('<i class="fa fa-minus-circle" aria-hidden="true"></i>'),r.removeClass("text-success"),r.addClass("text-warning")):(i.addClass("d-none"),r.html('<i class="fa fa-plus-circle" aria-hidden="true"></i>'),r.removeClass("text-warning"),r.addClass("text-success"))}editRecord(e){this.store.dispatch(z.b({dataModel:e})),this.onSelected.emit(e)}refreshTable(e){if(e.status){this.service.refreshTable();let t="Registro ";switch(e.action){case"add":t+="agregado";break;case"update":t+="actualizado"}t+=" correctamente",this.alertMsg={type:"success",icon:"fa-info-circle",title:"Acci\xf3n",message:t},this._autoCloseAlert.next(!0)}}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(ze),n.Mb(c.h),n.Mb(S.a))},e.\u0275cmp=n.Gb({type:e,selectors:[["app-table-persons"]],viewQuery:function(e,t){if(1&e&&n.Ec(xe,1),2&e){let e;n.rc(e=n.cc())&&(t.headers=e)}},inputs:{forceRefreshData:"forceRefreshData"},outputs:{onSelected:"onSelected"},features:[n.yb([ze,o.f])],decls:58,vars:24,consts:[[3,"type","dismissible",4,"ngIf"],[3,"type","closed",4,"ngIf"],[1,"d-flex","justify-content-between","p-2"],[1,"row"],[1,"col-"],["type","button","ngbTooltip","Actualizar lista de registros",1,"btn","btn-outline-primary",3,"click"],["aria-hidden","true",1,"fa","fa-refresh"],[1,"col-auto","form-group","form-inline"],["name","pageSize",1,"custom-select","mx-2",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],[1,"form-group","form-inline"],[1,"inner-addon","right-addon"],["class","fa fa-refresh fa-spin fa-fw text-warning p-0",4,"ngIf"],["type","text","name","searchTerm",1,"form-control","ml-2",3,"ngModel","ngModelChange"],[1,"table","table-striped","text-white"],["scope","col"],["scope","col","sortable","id",3,"sort"],["scope","col","sortable","noCtrl",3,"sort"],["scope","col","sortable","curp",3,"sort"],["scope","col","sortable","primerApellido",3,"sort"],["scope","col","sortable","segundoApellido",3,"sort"],["scope","col","sortable","nombres",3,"sort"],[4,"ngIf","ngIfElse"],["renderData",""],["nodataResult",""],["class","d-flex justify-content-between p-2",4,"ngIf"],[3,"type","dismissible"],[1,"font-weight-bold"],["aria-hidden","true",3,"class",4,"ngIf"],[4,"ngIf"],["class","m-0 p-0",4,"ngIf"],["aria-hidden","true"],[1,"m-0","p-0"],[3,"type","closed"],[1,"fa","fa-refresh","fa-spin","fa-fw","text-warning","p-0"],["scope","row","colspan","8",1,"text-center"],[1,"fa","fa-cog","fa-spin","fa-3x","fa-fw",2,"vertical-align","middle"],[4,"ngFor","ngForOf"],[2,"width","1px"],["type","button","ngbTooltip","Mostrar detalle del registro",1,"btn","btn-link","text-success",3,"click"],["aria-hidden","true",1,"fa","fa-plus-circle"],["scope","row"],[3,"result","term"],["role","group","aria-label","",1,"btn-group"],["type","button","ngbTooltip","Editar registro",1,"btn","btn-secondary",3,"click"],["aria-hidden","true",1,"fa","fa-pencil-square-o"],[1,"tableDetail","d-none",3,"ngClass"],["colspan","8",1,"_d-none"],[1,"col-12","col-md-4"],[1,"tableDetailSccionTitle"],[1,"m-0","p-0","pl-2"],[1,"m-0","p-0","pl-2","text-lowercase"],["scope","row","colspan","8",1,"text-center","text-danger"],["aria-hidden","true",1,"fa","fa-info-circle","pr-2"],[3,"collectionSize","page","pageSize","pageChange"]],template:function(e,t){if(1&e&&(n.xc(0,Me,5,5,"ngb-alert",0),n.fc(1,"async"),n.xc(2,$e,5,4,"ngb-alert",1),n.fc(3,"async"),n.Rb(4,"form"),n.Rb(5,"div",2),n.Rb(6,"div",3),n.Rb(7,"div",4),n.Rb(8,"button",5),n.bc("click",function(){return t.service.refreshTable()}),n.Nb(9,"i",6),n.Qb(),n.Qb(),n.Rb(10,"div",7),n.Rb(11,"span"),n.zc(12,"Mostrar"),n.Qb(),n.Rb(13,"select",8),n.bc("ngModelChange",function(e){return t.service.pageSize=e}),n.Rb(14,"option",9),n.zc(15,"10"),n.Qb(),n.Rb(16,"option",9),n.zc(17,"30"),n.Qb(),n.Rb(18,"option",9),n.zc(19,"50"),n.Qb(),n.Rb(20,"option",9),n.zc(21,"100"),n.Qb(),n.Qb(),n.Rb(22,"span"),n.zc(23,"registros"),n.Qb(),n.Qb(),n.Qb(),n.Rb(24,"div",10),n.zc(25," Buscar: "),n.Rb(26,"div",11),n.xc(27,_e,1,0,"i",12),n.fc(28,"async"),n.Rb(29,"input",13),n.bc("ngModelChange",function(e){return t.service.searchTerm=e}),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Rb(30,"table",14),n.Rb(31,"thead"),n.Rb(32,"tr"),n.Rb(33,"th",15),n.zc(34,"\xa0"),n.Qb(),n.Rb(35,"th",16),n.bc("sort",function(e){return t.onSort(e)}),n.zc(36,"#"),n.Qb(),n.Rb(37,"th",17),n.bc("sort",function(e){return t.onSort(e)}),n.zc(38,"N\xfamero de control"),n.Qb(),n.Rb(39,"th",18),n.bc("sort",function(e){return t.onSort(e)}),n.zc(40,"CURP"),n.Qb(),n.Rb(41,"th",19),n.bc("sort",function(e){return t.onSort(e)}),n.zc(42,"Primer apellido"),n.Qb(),n.Rb(43,"th",20),n.bc("sort",function(e){return t.onSort(e)}),n.zc(44,"Segundo apellido"),n.Qb(),n.Rb(45,"th",21),n.bc("sort",function(e){return t.onSort(e)}),n.zc(46,"Nombre(s)"),n.Qb(),n.Rb(47,"th",15),n.zc(48,"\xa0"),n.Qb(),n.Qb(),n.Qb(),n.xc(49,Ee,6,0,"tbody",22),n.fc(50,"async"),n.xc(51,Ne,2,4,"ng-template",null,23,n.yc),n.xc(53,Pe,5,0,"ng-template",null,24,n.yc),n.Qb(),n.xc(55,De,8,14,"div",25),n.fc(56,"async"),n.fc(57,"async"),n.Qb()),2&e){const e=n.sc(52);n.kc("ngIf",n.gc(1,12,t.service.err$)),n.zb(2),n.kc("ngIf",t.alertMsg&&!n.gc(3,14,t.service.err$)),n.zb(11),n.kc("ngModel",t.service.pageSize),n.zb(1),n.kc("ngValue",10),n.zb(2),n.kc("ngValue",30),n.zb(2),n.kc("ngValue",50),n.zb(2),n.kc("ngValue",100),n.zb(7),n.kc("ngIf",n.gc(28,16,t.service.loading$)),n.zb(2),n.kc("ngModel",t.service.searchTerm),n.zb(20),n.kc("ngIf",n.gc(50,18,t.service.loading$))("ngIfElse",e),n.zb(6),n.kc("ngIf",0==n.gc(56,20,t.service.loading$)&&n.gc(57,22,t.total$)>0)}},directives:[o.n,Q.r,Q.j,Q.k,v.n,Q.o,Q.i,Q.l,Q.m,Q.q,Q.b,xe,v.b,o.m,v.d,o.l,v.g],pipes:[o.b],styles:['th[sortable][_ngcontent-%COMP%]{cursor:pointer;-moz-user-select:none;user-select:none;-webkit-user-select:none}th[sortable].asc[_ngcontent-%COMP%]:before, th[sortable].desc[_ngcontent-%COMP%]:before{font-family:FontAwesome;font-weight:900;content:"\\f063";display:block;float:left;margin-left:-30px;color:#fff}th[sortable].desc[_ngcontent-%COMP%]:before{transform:rotate(180deg);-ms-transform:rotate(180deg)}ngbd-table-complete[_ngcontent-%COMP%]   span.ngb-highlight[_ngcontent-%COMP%], ngbd-table-filtering[_ngcontent-%COMP%]   span.ngb-highlight[_ngcontent-%COMP%]{background-color:#ff0}.inner-addon[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin:12px 0 0!important}  body:not(.om) .table.text-white{color:#333!important}  body.om .table-striped tbody tr:nth-of-type(odd){background-color:hsla(0,0%,100%,.11)}']}),e})();function Le(e,t){if(1&e&&(n.Rb(0,"h2",8),n.Nb(1,"i",9),n.zc(2),n.Qb()),2&e){const e=n.ec();n.zb(1),n.kc("ngClass",null==e.titlePageHeader?null:e.titlePageHeader.icon),n.zb(1),n.Bc(" ",e.titlePageHeader.title," ")}}function je(e,t){if(1&e){const e=n.Sb();n.Rb(0,"div"),n.Rb(1,"button",14),n.bc("click",function(){return n.tc(e),n.ec(2).newRecord()}),n.Nb(2,"i",15),n.zc(3," Nuevo"),n.Qb(),n.Qb()}}function qe(e,t){if(1&e&&(n.Rb(0,"div",10),n.Rb(1,"button",11),n.Rb(2,"h5"),n.Nb(3,"i",12),n.zc(4," Formulario de registro"),n.Qb(),n.Qb(),n.xc(5,je,4,0,"div",13),n.fc(6,"async"),n.Qb()),2&e){const e=n.ec();n.zb(5),n.kc("ngIf",n.gc(6,1,e.editMode))}}function Ve(e,t){if(1&e){const e=n.Sb();n.Rb(0,"app-form-persons",16),n.bc("onAddorEdit",function(t){return n.tc(e),n.ec().refreshControls(t)}),n.Qb()}if(2&e){const e=n.ec();n.kc("editMode",e.editMode)}}function He(e,t){1&e&&(n.Rb(0,"h5"),n.Nb(1,"i",17),n.zc(2," Lista de registros"),n.Qb())}function Fe(e,t){if(1&e){const e=n.Sb();n.Rb(0,"app-table-persons",18),n.bc("onSelected",function(t){return n.tc(e),n.ec().recordSelected(t)}),n.Qb()}if(2&e){const e=n.ec();n.kc("forceRefreshData",e.refreshData)}}let Ge=(()=>{class e{constructor(e,t){this.store=e,this.router=t,this._subs$=[],this.activeIds="",this.editMode=new R.a,this.refreshData=new R.a,this._subs$.push(this.store.select("currentPage").subscribe(e=>{this.titlePageHeader=e})),this.activeIds="static-2",this.store.dispatch(s.a({current:{icon:"fa-table",title:"Cat\xe1logo de Personas",description:"",url:this.router.url}}))}ngOnInit(){}ngOnDestroy(){this._subs$.forEach(e=>{try{e.unsubscribe()}catch(t){}})}newRecord(){this.store.dispatch(z.b({dataModel:null})),this.editMode.next(!1)}recordSelected(e){this.store.dispatch(z.b({dataModel:e})),this.dtElement.expand("static-1"),this.editMode.next(!0)}refreshControls(e){this.store.dispatch(z.b({dataModel:null})),this.dtElement.expand("static-2"),this.editMode.next(!1),this.refreshData.next(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(c.h),n.Mb(r.b))},e.\u0275cmp=n.Gb({type:e,selectors:[["app-persons"]],viewQuery:function(e,t){if(1&e&&n.Ec(v.a,1),2&e){let e;n.rc(e=n.cc())&&(t.dtElement=e.first)}},decls:9,vars:4,consts:[[1,"extendWorkJob","d-flex","flex-column","justify-content-center","px-5"],["class","pageHeader",4,"ngIf"],["ngbAccordion","",3,"closeOthers","activeIds","destroyOnHide"],["id","static-1"],["ngbPanelHeader",""],["ngbPanelContent",""],["id","static-2"],["ngbPanelTitle",""],[1,"pageHeader"],["aria-hidden","true",1,"fa",3,"ngClass"],[1,"d-flex","align-items-center","justify-content-between"],["ngbPanelToggle","",1,"btn","btn-link"],["aria-hidden","true",1,"fa","fa-newspaper-o"],[4,"ngIf"],[1,"btn","btn-sm","btn-outline-primary","ml-2",3,"click"],["aria-hidden","true",1,"fa","fa-plus"],[3,"editMode","onAddorEdit"],["aria-hidden","true",1,"fa","fa-th"],[3,"forceRefreshData","onSelected"]],template:function(e,t){1&e&&(n.Rb(0,"div",0),n.xc(1,Le,3,2,"h2",1),n.Rb(2,"ngb-accordion",2),n.Rb(3,"ngb-panel",3),n.xc(4,qe,7,3,"ng-template",4),n.xc(5,Ve,1,1,"ng-template",5),n.Qb(),n.Rb(6,"ngb-panel",6),n.xc(7,He,3,0,"ng-template",7),n.xc(8,Fe,1,1,"ng-template",5),n.Qb(),n.Qb(),n.Qb()),2&e&&(n.zb(1),n.kc("ngIf",t.titlePageHeader),n.zb(1),n.kc("closeOthers",!0)("activeIds",t.activeIds)("destroyOnHide",!1))},directives:[o.n,v.a,v.h,v.j,v.i,v.k,o.l,v.l,he,Te],pipes:[o.b],styles:[".card{background-color:transparent!important}  .card .card-header{background-color:hsla(0,0%,100%,.050980392156862744)}  .card .card-header button{width:100%;text-align:left}  .btn-link{color:#fff;text-decoration:none!important}  .btn-link:hover,   body:not(.om) .btn-link:hover{color:#0056b3;text-decoration:none!important}  body:not(.om) .btn-link{color:#333;text-decoration:none!important}"]}),e})();var Be=i("qvEf");let Ye=(()=>{class e{constructor(e){this.http=e}data(e=null,t=null,i=null){return this.http.get(`${w.a.apis.recon.url}/admin/users?skip=${e}&take=${t}&filter=${i}`).pipe(Object(x.a)(e=>{if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(k.a)(e=>{}))}add(e){return this.http.post(`${w.a.apis.recon.url}/admin/user`,e).pipe(Object(x.a)(e=>{if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(k.a)(e=>{}))}edit(e){return this.http.patch(`${w.a.apis.recon.url}/admin/user`,e).pipe(Object(x.a)(e=>{if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(k.a)(e=>{}))}}return e.\u0275fac=function(t){return new(t||e)(n.Yb(y.b))},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ue=(()=>{class e{constructor(e){this.http=e}data(e="",t="",i=""){return this.http.get(`${w.a.apis.recon.url}/admin/roles?skip=${e}&take=${t}&filter=${i}`).pipe(Object(x.a)(e=>{if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(k.a)(e=>{}))}}return e.\u0275fac=function(t){return new(t||e)(n.Yb(y.b))},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Je=i("eACs");function We(e,t){if(1&e&&n.Nb(0,"i",22),2&e){const e=n.ec(2);n.Cb("fa ",e.alertMsg.icon," mr-2")}}function Ke(e,t){if(1&e&&(n.Rb(0,"span"),n.zc(1),n.Qb()),2&e){const e=n.ec(2);n.zb(1),n.Ac(e.alertMsg.title)}}function Xe(e,t){if(1&e&&(n.Rb(0,"p",23),n.zc(1),n.Qb()),2&e){const e=n.ec(2);n.zb(1),n.Ac(e.alertMsg.message)}}function Ze(e,t){if(1&e&&(n.Rb(0,"ngb-alert",17),n.Rb(1,"h5",18),n.xc(2,We,1,3,"i",19),n.xc(3,Ke,2,1,"span",20),n.Qb(),n.xc(4,Xe,2,1,"p",21),n.Qb()),2&e){const e=n.ec();n.kc("type",e.alertMsg.type)("dismissible",!1),n.zb(2),n.kc("ngIf",e.alertMsg.icon),n.zb(1),n.kc("ngIf",e.alertMsg.title),n.zb(1),n.kc("ngIf",e.alertMsg.message)}}function et(e,t){1&e&&n.Nb(0,"i",25)}function tt(e,t){1&e&&n.Nb(0,"i",26)}function it(e,t){1&e&&(n.Rb(0,"span"),n.zc(1,"Informaci\xf3n requerida"),n.Qb())}function rt(e,t){1&e&&(n.Rb(0,"span"),n.zc(1,"La longitud m\xednima es de 4 caracteres"),n.Qb())}function st(e,t){1&e&&(n.Rb(0,"span"),n.zc(1,"La longitud m\xe1xima es de 50 caracteres"),n.Qb())}function nt(e,t){if(1&e&&(n.Rb(0,"div",27),n.Nb(1,"i",28),n.xc(2,it,2,0,"span",20),n.xc(3,rt,2,0,"span",20),n.xc(4,st,2,0,"span",20),n.Qb()),2&e){const e=n.ec(2);n.zb(2),n.kc("ngIf",e.f.username.errors.required),n.zb(1),n.kc("ngIf",e.f.username.errors.minlength),n.zb(1),n.kc("ngIf",e.f.username.errors.maxlength)}}const ct=function(e){return{errBorder:e}};function ot(e,t){if(1&e&&(n.Rb(0,"div",4),n.Rb(1,"label"),n.zc(2,"Nombre de usuario"),n.Qb(),n.Rb(3,"div",5),n.xc(4,et,1,0,"i",6),n.xc(5,tt,1,0,"i",7),n.Nb(6,"input",24),n.Qb(),n.xc(7,nt,5,3,"div",9),n.Qb()),2&e){const e=n.ec();n.zb(4),n.kc("ngIf",e.formSubmitted&&e.f.username.valid),n.zb(1),n.kc("ngIf",e.formSubmitted&&e.f.username.invalid),n.zb(1),n.kc("ngClass",n.oc(4,ct,e.formSubmitted&&e.f.username.invalid)),n.zb(1),n.kc("ngIf",e.formSubmitted&&e.f.username.invalid)}}function at(e,t){if(1&e&&(n.Rb(0,"div",4),n.Rb(1,"label"),n.zc(2,"Nombre de usuario"),n.Qb(),n.Rb(3,"div",29),n.Rb(4,"h4"),n.zc(5),n.Qb(),n.Qb(),n.Qb()),2&e){const e=n.ec();n.zb(5),n.Ac(e.f.username.value)}}function lt(e,t){1&e&&n.Nb(0,"i",25)}function bt(e,t){1&e&&n.Nb(0,"i",26)}function dt(e,t){1&e&&(n.Rb(0,"span"),n.zc(1,"Informaci\xf3n requerida"),n.Qb())}function ut(e,t){1&e&&(n.Rb(0,"span"),n.zc(1,"La longitud m\xednima es de 6 caracteres"),n.Qb())}function ft(e,t){1&e&&(n.Rb(0,"span"),n.zc(1,"La longitud m\xe1xima es de 50 caracteres"),n.Qb())}function ht(e,t){if(1&e&&(n.Rb(0,"div",27),n.Nb(1,"i",28),n.xc(2,dt,2,0,"span",20),n.xc(3,ut,2,0,"span",20),n.xc(4,ft,2,0,"span",20),n.Qb()),2&e){const e=n.ec(2);n.zb(2),n.kc("ngIf",e.f.password.errors.required),n.zb(1),n.kc("ngIf",e.f.password.errors.minlength),n.zb(1),n.kc("ngIf",e.f.password.errors.maxlength)}}function pt(e,t){if(1&e&&(n.Rb(0,"div",4),n.Rb(1,"label"),n.zc(2,"Contrase\xf1a"),n.Qb(),n.Rb(3,"div",5),n.xc(4,lt,1,0,"i",6),n.xc(5,bt,1,0,"i",7),n.Nb(6,"input",30),n.Qb(),n.xc(7,ht,5,3,"div",9),n.Qb()),2&e){const e=n.ec();n.zb(4),n.kc("ngIf",e.formSubmitted&&e.f.password.valid),n.zb(1),n.kc("ngIf",e.formSubmitted&&e.f.password.invalid),n.zb(1),n.kc("ngClass",n.oc(4,ct,e.formSubmitted&&e.f.password.invalid)),n.zb(1),n.kc("ngIf",e.formSubmitted&&e.f.password.invalid)}}function gt(e,t){1&e&&n.Nb(0,"i",25)}function mt(e,t){1&e&&n.Nb(0,"i",26)}function vt(e,t){1&e&&(n.Rb(0,"span"),n.zc(1,"Informaci\xf3n requerida"),n.Qb())}function Rt(e,t){1&e&&(n.Rb(0,"span"),n.zc(1,"La longitud m\xednima es de 6 caracteres"),n.Qb())}function zt(e,t){1&e&&(n.Rb(0,"span"),n.zc(1,"La longitud m\xe1xima es de 50 caracteres"),n.Qb())}function Qt(e,t){1&e&&(n.Rb(0,"span"),n.zc(1,"La contrase\xf1a y confirmaci\xf2n no coinciden"),n.Qb())}function xt(e,t){if(1&e&&(n.Rb(0,"div",27),n.Nb(1,"i",28),n.xc(2,vt,2,0,"span",20),n.xc(3,Rt,2,0,"span",20),n.xc(4,zt,2,0,"span",20),n.xc(5,Qt,2,0,"span",20),n.Qb()),2&e){const e=n.ec(2);n.zb(2),n.kc("ngIf",null==e.f.confPwd.errors?null:e.f.confPwd.errors.required),n.zb(1),n.kc("ngIf",null==e.f.confPwd.errors?null:e.f.confPwd.errors.minlength),n.zb(1),n.kc("ngIf",null==e.f.confPwd.errors?null:e.f.confPwd.errors.maxlength),n.zb(1),n.kc("ngIf",(null==e.frmgp.errors?null:e.frmgp.errors.confirm)&&e.f.confPwd.valid)}}function kt(e,t){if(1&e&&(n.Rb(0,"div",4),n.Rb(1,"label"),n.zc(2,"Confirmar contrase\xf1a"),n.Qb(),n.Rb(3,"div",5),n.xc(4,gt,1,0,"i",6),n.xc(5,mt,1,0,"i",7),n.Nb(6,"input",31),n.Qb(),n.xc(7,xt,6,4,"div",9),n.Qb()),2&e){const e=n.ec();n.zb(4),n.kc("ngIf",e.formSubmitted&&e.f.confPwd.valid),n.zb(1),n.kc("ngIf",e.formSubmitted&&e.f.confPwd.invalid),n.zb(1),n.kc("ngClass",n.oc(4,ct,e.formSubmitted&&e.f.confPwd.invalid)),n.zb(1),n.kc("ngIf",e.formSubmitted&&(e.f.confPwd.invalid||(null==e.frmgp.errors?null:e.frmgp.errors.confirm)))}}function wt(e,t){1&e&&n.Nb(0,"i",25)}function yt(e,t){1&e&&n.Nb(0,"i",26)}function Mt(e,t){1&e&&(n.Rb(0,"span"),n.zc(1,"Informaci\xf3n requerida"),n.Qb())}function St(e,t){if(1&e&&(n.Rb(0,"div",27),n.Nb(1,"i",28),n.xc(2,Mt,2,0,"span",20),n.Qb()),2&e){const e=n.ec();n.zb(2),n.kc("ngIf",e.f.idPerson.errors.required)}}function It(e,t){1&e&&n.Nb(0,"i",25)}function Ct(e,t){1&e&&n.Nb(0,"i",26)}function $t(e,t){1&e&&(n.Rb(0,"span"),n.zc(1,"Debe seleccionar al menos un rol"),n.Qb())}function _t(e,t){if(1&e&&(n.Rb(0,"div",27),n.Nb(1,"i",28),n.xc(2,$t,2,0,"span",20),n.Qb()),2&e){const e=n.ec();n.zb(2),n.kc("ngIf",e.f.idRoles.errors.required)}}function Et(e,t){1&e&&n.Nb(0,"i",32)}function At(e,t){1&e&&n.Nb(0,"span",33)}const Ot=function(){return{width:"100%",multiple:!0}};let Nt=(()=>{class e{constructor(e,t,i,r,s,c){this.fb=e,this.store=t,this.usersService=i,this.handlerErrorsService=r,this.rolesService=s,this.personsService=c,this._subs$=[],this.onAddorEdit=new n.n,this.select2Language={noResults:()=>"No se encontraron resultado",searching:()=>"Buscando.."},this.persons=[],this.personsSelect=[],this.roles=[],this.rolesSelect=[],this.frmgp=this.fb.group({id:[""],idPerson:["",[Q.p.required]],idDepto:[0,[Q.p.required]],username:["",[Q.p.required,Q.p.minLength(4),Q.p.maxLength(50)]],password:["",[Q.p.required,Q.p.minLength(6),Q.p.maxLength(50)]],confPwd:["",[Q.p.required,Q.p.minLength(6),Q.p.maxLength(50)]],idRoles:[null,[Q.p.required]]},{validator:this.passwordConfirming}),this.formSubmitted=!1,this.withErr=!1,this.alertMsg=null}ngOnInit(){this._subs$.push(this.store.select("catalogUsers").subscribe(e=>this.editModel=e.selected)),this._subs$.push(this.editMode.subscribe(e=>{this._populateFormEditMode(e)})),this._subs$.push(this.personsService.data().subscribe(e=>{this.persons=e,this.personsSelect=this.persons.sort((e,t)=>{const i=`${e.nombres} ${e.primerApellido} ${e.segundoApellido}`,r=`${t.nombres} ${t.primerApellido} ${t.segundoApellido}`;return i>r?1:i<r?-1:0}).map(e=>({id:e.id.toString(),text:`${e.nombres} ${e.primerApellido} ${e.segundoApellido}`}))})),this._subs$.push(this.rolesService.data().subscribe(e=>{this.roles=e,this.rolesSelect=this.roles.sort((e,t)=>e.role>t.role?1:e.role<t.role?-1:0).map(e=>({id:e.id.toString(),text:e.role}))})),this.personsSelectValue="",this.rolesSelectValue=[],this.personsSelectOptions={width:"100%",multiple:!1,language:this.select2Language},this.rolesSelectOptions={width:"100%",multiple:!0,language:this.select2Language}}ngOnDestroy(){this._subs$.forEach(e=>{try{e.unsubscribe()}catch(t){}})}get f(){return this.frmgp.controls}passwordConfirming(e){if(e.get("password").value!==e.get("confPwd").value)return{confirm:!0}}_populateFormEditMode(e){var t,i,r,s,n,c;this.withErr=!1,this.formSubmitted=!1,this.alertMsg=null,this.f.id.patchValue(null===(t=this.editModel)||void 0===t?void 0:t.id),this.f.idDepto.patchValue(null===(i=this.editModel)||void 0===i?void 0:i.idDepto),this.f.username.patchValue(null===(r=this.editModel)||void 0===r?void 0:r.username),this.personsSelectValue=null===(n=null===(s=this.editModel)||void 0===s?void 0:s.person)||void 0===n?void 0:n.id.toString(),this.f.idPerson.patchValue(this.personsSelectValue),this.rolesSelectValue=null===(c=this.editModel)||void 0===c?void 0:c.roles.map(e=>e.id.toString()),this.f.idRoles.patchValue(this.rolesSelectValue),this.f.password.patchValue("dataPatched"),this.f.confPwd.patchValue("dataPatched"),$("form input:first").select()}changedPersonsSelect(e){this.f.idPerson.patchValue(e)}changedRolesSelect(e){this.f.idRoles.patchValue(e)}onSubmit(){this.withErr=!1,this.formSubmitted=!0,this.alertMsg=null;try{if(!this.frmgp.valid)throw new Error("Se encontraron errores de formulario");this.editModel?this.editAction():this.addAction()}catch(e){this.showAlert(e.message,"danger","fa-times-circle-o","Error"),this.withErr=!0}}showAlert(e,t,i,r){this.alertMsg={type:t,icon:i,title:r,message:e}}addAction(){try{this._subs$.push(this.usersService.add(this.frmgp.value).subscribe(e=>{this.onAddorEdit.emit({status:!0,action:"add"})},e=>{this.showAlert(this.handlerErrorsService.parseMsgError(e),"danger","fa-times-circle-o","Error"),this.withErr=!0}))}catch(e){this.showAlert(this.handlerErrorsService.parseMsgError(e),"danger","fa-times-circle-o","Error"),this.withErr=!0}}editAction(){try{this.f.password.patchValue(null),this.f.confPwd.patchValue(null),this._subs$.push(this.usersService.edit(this.frmgp.value).subscribe(e=>{this.onAddorEdit.emit({status:!0,action:"update"})},e=>{this.showAlert(this.handlerErrorsService.parseMsgError(e),"danger","fa-times-circle-o","Error"),this.withErr=!0}))}catch(e){this.showAlert(this.handlerErrorsService.parseMsgError(e),"danger","fa-times-circle-o","Error"),this.withErr=!0}}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(Q.c),n.Mb(c.h),n.Mb(Ye),n.Mb(S.a),n.Mb(Ue),n.Mb(M))},e.\u0275cmp=n.Gb({type:e,selectors:[["app-form-users"]],inputs:{editMode:"editMode"},outputs:{onAddorEdit:"onAddorEdit"},decls:34,vars:31,consts:[["autocomplete","off",3,"formGroup","ngSubmit"],[3,"type","dismissible",4,"ngIf"],[1,"form-row"],["class","col-12 col-md-4 py-2",4,"ngIf"],[1,"col-12","col-md-4","py-2"],[1,"inner-addon","right-addon"],["class","fa fa-check-circle-o text-success","aria-hidden","true",4,"ngIf"],["class","fa fa-times-circle-o text-danger","aria-hidden","true",4,"ngIf"],["placeholder","Persona",3,"data","options","value","valueChanged"],["class","text-danger",4,"ngIf"],["placeholder","Selecciona al menos 1 rol",3,"data","options","value","valueChanged"],[1,"text-right"],["ngClass","btn-outline-success",1,"btn",3,"disabled"],["class","fa fa-pencil-square-o","aria-hidden","true","type","submit",4,"ngIf"],["class","spinner-grow spinner-grow-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"ml-2"],["type","hidden","id","id","name","id","formControlName","id"],[3,"type","dismissible"],[1,"font-weight-bold"],["aria-hidden","true",3,"class",4,"ngIf"],[4,"ngIf"],["class","m-0 p-0",4,"ngIf"],["aria-hidden","true"],[1,"m-0","p-0"],["id","noctrl","type","text","placeholder","Nombre de usuario","formControlName","username",1,"form-control",3,"ngClass"],["aria-hidden","true",1,"fa","fa-check-circle-o","text-success"],["aria-hidden","true",1,"fa","fa-times-circle-o","text-danger"],[1,"text-danger"],["aria-hidden","true",1,"fa","fa-exclamation-triangle","mr-2"],[1,"inner-addon","right-addon","text-center"],["id","password","type","password","placeholder","Contrase\xf1a","formControlName","password",1,"form-control",3,"ngClass"],["id","confPwd","type","password","placeholder","Confirmar contrase\xf1a","formControlName","confPwd",1,"form-control",3,"ngClass"],["aria-hidden","true","type","submit",1,"fa","fa-pencil-square-o"],["role","status","aria-hidden","true",1,"spinner-grow","spinner-grow-sm"]],template:function(e,t){1&e&&(n.Rb(0,"form",0),n.bc("ngSubmit",function(){return t.onSubmit()}),n.xc(1,Ze,5,5,"ngb-alert",1),n.Rb(2,"div",2),n.xc(3,ot,8,6,"div",3),n.fc(4,"async"),n.xc(5,at,6,1,"div",3),n.fc(6,"async"),n.xc(7,pt,8,6,"div",3),n.fc(8,"async"),n.xc(9,kt,8,6,"div",3),n.fc(10,"async"),n.Rb(11,"div",4),n.Rb(12,"label"),n.zc(13,"Persona"),n.Qb(),n.Rb(14,"div",5),n.xc(15,wt,1,0,"i",6),n.xc(16,yt,1,0,"i",7),n.Rb(17,"ng-select2",8),n.bc("valueChanged",function(e){return t.changedPersonsSelect(e)}),n.Qb(),n.Qb(),n.xc(18,St,3,1,"div",9),n.Qb(),n.Rb(19,"div",4),n.Rb(20,"label"),n.zc(21,"Rol(es)"),n.Qb(),n.Rb(22,"div",5),n.xc(23,It,1,0,"i",6),n.xc(24,Ct,1,0,"i",7),n.Rb(25,"ng-select2",10),n.bc("valueChanged",function(e){return t.changedRolesSelect(e)}),n.Qb(),n.Qb(),n.xc(26,_t,3,1,"div",9),n.Qb(),n.Qb(),n.Rb(27,"div",11),n.Rb(28,"button",12),n.xc(29,Et,1,0,"i",13),n.xc(30,At,1,0,"span",14),n.Rb(31,"span",15),n.zc(32),n.Qb(),n.Qb(),n.Qb(),n.Nb(33,"input",16),n.Qb()),2&e&&(n.kc("formGroup",t.frmgp),n.zb(1),n.kc("ngIf",t.alertMsg),n.zb(2),n.kc("ngIf",1!=n.gc(4,22,t.editMode)),n.zb(2),n.kc("ngIf",1==n.gc(6,24,t.editMode)),n.zb(2),n.kc("ngIf",1!=n.gc(8,26,t.editMode)),n.zb(2),n.kc("ngIf",1!=n.gc(10,28,t.editMode)),n.zb(6),n.kc("ngIf",t.formSubmitted&&t.f.idPerson.valid),n.zb(1),n.kc("ngIf",t.formSubmitted&&t.f.idPerson.invalid),n.zb(1),n.kc("data",t.personsSelect)("options",t.personsSelectOptions)("value",t.personsSelectValue),n.zb(1),n.kc("ngIf",t.formSubmitted&&t.f.idPerson.invalid),n.zb(5),n.kc("ngIf",t.formSubmitted&&t.f.idRoles.valid),n.zb(1),n.kc("ngIf",t.formSubmitted&&t.f.idRoles.invalid),n.zb(1),n.kc("data",t.rolesSelect)("options",n.nc(30,Ot))("value",t.rolesSelectValue),n.zb(1),n.kc("ngIf",t.formSubmitted&&t.f.idRoles.invalid),n.zb(2),n.kc("disabled",t.formSubmitted&&!t.withErr),n.zb(1),n.kc("ngIf",!t.formSubmitted||t.withErr),n.zb(1),n.kc("ngIf",t.formSubmitted&&!t.withErr),n.zb(2),n.Bc(" ",!t.formSubmitted||t.withErr?t.editModel?"Editar":"Registrar":"Procesando..."," "))},directives:[Q.r,Q.j,Q.e,o.n,Je.a,o.l,Q.b,Q.i,Q.d,v.b],pipes:[o.b],styles:[".select2-selection{min-height:38px!important}  .select2,   .select2-container{color:#333}  .select2-selection--single .select2-selection__rendered{line-height:36px!important}  .select2-selection--single .select2-selection__arrow{height:36px!important}"]}),e})();var Pt=i("PSD3"),Dt=i.n(Pt);let Tt=(()=>{class e{constructor(e,t,i){this.pipe=e,this.usersService=t,this.store=i,this._subs$=[],this._loading$=new ge.a(!0),this._err$=new ge.a(null),this._search$=new R.a,this._users$=new ge.a([]),this._total$=new ge.a(0),this._state={page:1,pageSize:10,searchTerm:"",sortColumn:"",sortDirection:""},this._subs$.push(this._search$.pipe(Object(k.a)(()=>{this._err$.next(null),this._loading$.next(!0)}),Object(pe.a)(500),Object(ve.a)(()=>this._dataList()),Object(x.a)(e=>this._formating(e)),Object(k.a)(()=>this._loading$.next(!1))).subscribe(e=>{this._users$.next(e.data),this._total$.next(e.total)})),this._search$.next()}ngOnDestroy(){this._subs$.forEach(e=>{try{e.unsubscribe()}catch(t){}})}get users$(){return this._users$.asObservable()}get total$(){return this._total$.asObservable()}get loading$(){return this._loading$.asObservable()}get err$(){return this._err$.asObservable()}get page(){return this._state.page}get pageSize(){return this._state.pageSize}get searchTerm(){return this._state.searchTerm}set page(e){this._set({page:e})}set pageSize(e){this._set({pageSize:e})}set searchTerm(e){this._set({searchTerm:e})}set sortColumn(e){this._set({sortColumn:e})}set sortDirection(e){this._set({sortDirection:e})}refreshTable(){this._search$.next()}_set(e){Object.assign(this._state,e),this._search$.next()}_dataList(){const{searchTerm:e}=this._state;return this.usersService.data(null,null,e).pipe(Object(Re.a)(e=>(this._err$.next(e),Object(me.a)([]))))}_formating(e){const{searchTerm:t,sortColumn:i,sortDirection:r,pageSize:s,page:n}=this._state;let c=e;var o,a,l;(i||r)&&(o=c,a=i,c=""===(l=r)||""===a?o:[...o].sort((e,t)=>{const i=(r=e[a])<(s=t[a])?-1:r>s?1:0;var r,s;return"asc"===l?i:-i})),t&&(c=c.filter(e=>function(e,t,i){return e.username.toLowerCase().includes(t.toLowerCase())||(e.active?"activo":"inactivo").includes(t)||e.fIns.toString().includes(t)||e.fAct.toString().includes(t)}(e,t)));const b=c.length;return c=c.slice((n-1)*s,(n-1)*s+s),this.store.dispatch(Be.a({data:c})),{data:c,total:b}}}return e.\u0275fac=function(t){return new(t||e)(n.Yb(o.f),n.Yb(Ye),n.Yb(c.h))},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Lt={asc:"desc",desc:"","":"asc"};let jt=(()=>{class e{constructor(){this.sortable="",this.direction="",this.sort=new n.n}rotate(){this.direction=Lt[this.direction],this.sort.emit({column:this.sortable,direction:this.direction})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Hb({type:e,selectors:[["th","sortable",""]],hostVars:4,hostBindings:function(e,t){1&e&&n.bc("click",function(){return t.rotate()}),2&e&&n.Eb("asc","asc"===t.direction)("desc","desc"===t.direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sort:"sort"}}),e})();function qt(e,t){if(1&e&&n.Nb(0,"i",30),2&e){const e=n.ec(2);n.Cb("fa ",e.alertMsg.icon," mr-2")}}function Vt(e,t){if(1&e&&(n.Rb(0,"span"),n.zc(1),n.Qb()),2&e){const e=n.ec(2);n.zb(1),n.Ac(e.alertMsg.title)}}function Ht(e,t){if(1&e&&(n.Rb(0,"p",31),n.zc(1),n.Qb()),2&e){const e=n.ec(2);n.zb(1),n.Ac(e.alertMsg.message)}}function Ft(e,t){if(1&e&&(n.Rb(0,"ngb-alert",25),n.Rb(1,"h5",26),n.xc(2,qt,1,3,"i",27),n.xc(3,Vt,2,1,"span",28),n.Qb(),n.xc(4,Ht,2,1,"p",29),n.Qb()),2&e){const e=n.ec();n.kc("type","danger")("dismissible",!1),n.zb(2),n.kc("ngIf",e.alertMsg.icon),n.zb(1),n.kc("ngIf",e.alertMsg.title),n.zb(1),n.kc("ngIf",e.alertMsg.message)}}function Gt(e,t){if(1&e&&n.Nb(0,"i",30),2&e){const e=n.ec(2);n.Cb("fa ",e.alertMsg.icon," mr-2")}}function Bt(e,t){if(1&e&&(n.Rb(0,"span"),n.zc(1),n.Qb()),2&e){const e=n.ec(2);n.zb(1),n.Ac(e.alertMsg.title)}}function Yt(e,t){if(1&e&&(n.Rb(0,"p",31),n.zc(1),n.Qb()),2&e){const e=n.ec(2);n.zb(1),n.Ac(e.alertMsg.message)}}function Ut(e,t){if(1&e){const e=n.Sb();n.Rb(0,"ngb-alert",32),n.bc("closed",function(){return n.tc(e),n.ec().alertMsg=null}),n.Rb(1,"h5",26),n.xc(2,Gt,1,3,"i",27),n.xc(3,Bt,2,1,"span",28),n.Qb(),n.xc(4,Yt,2,1,"p",29),n.Qb()}if(2&e){const e=n.ec();n.kc("type",e.alertMsg.type),n.zb(2),n.kc("ngIf",e.alertMsg.icon),n.zb(1),n.kc("ngIf",e.alertMsg.title),n.zb(1),n.kc("ngIf",e.alertMsg.message)}}function Jt(e,t){1&e&&n.Nb(0,"i",33)}function Wt(e,t){1&e&&(n.Rb(0,"tbody"),n.Rb(1,"tr"),n.Rb(2,"th",34),n.Nb(3,"i",35),n.Rb(4,"span"),n.zc(5,"Actualizndo informaci\xf3n..."),n.Qb(),n.Qb(),n.Qb(),n.Qb())}function Kt(e,t){if(1&e){const e=n.Sb();n.Rb(0,"button",53),n.bc("click",function(){n.tc(e);const t=n.ec().$implicit;return n.ec(3).activeInactiveRecord(t.id,!1)}),n.Nb(1,"i",54),n.Qb()}}function Xt(e,t){if(1&e){const e=n.Sb();n.Rb(0,"button",55),n.bc("click",function(){n.tc(e);const t=n.ec().$implicit;return n.ec(3).activeInactiveRecord(t.id,!0)}),n.Nb(1,"i",56),n.Qb()}}function Zt(e,t){if(1&e&&(n.Rb(0,"li"),n.zc(1),n.Qb()),2&e){const e=t.$implicit;n.zb(1),n.Ac(e.role)}}function ei(e,t){if(1&e){const e=n.Sb();n.Pb(0),n.Rb(1,"tr"),n.Rb(2,"td",37),n.Rb(3,"button",38),n.bc("click",function(i){n.tc(e);const r=t.$implicit;return n.ec(3).toggleTableDetail(r.id,i)}),n.Nb(4,"i",39),n.Qb(),n.Qb(),n.Rb(5,"th",40),n.zc(6),n.Qb(),n.Rb(7,"td"),n.Nb(8,"ngb-highlight",41),n.Qb(),n.Rb(9,"td"),n.Nb(10,"ngb-highlight",41),n.Qb(),n.Rb(11,"td"),n.Nb(12,"ngb-highlight",41),n.fc(13,"date"),n.Qb(),n.Rb(14,"td"),n.Nb(15,"ngb-highlight",41),n.fc(16,"date"),n.Qb(),n.Rb(17,"td",37),n.Rb(18,"div",42),n.Rb(19,"button",43),n.bc("click",function(){n.tc(e);const i=t.$implicit;return n.ec(3).editRecord(i)}),n.Nb(20,"i",44),n.Qb(),n.xc(21,Kt,2,0,"button",45),n.xc(22,Xt,2,0,"button",46),n.Qb(),n.Qb(),n.Qb(),n.Rb(23,"tr",47),n.Rb(24,"td",48),n.Rb(25,"div",3),n.Rb(26,"div",49),n.Rb(27,"h6",50),n.zc(28,"N\xfamero de control"),n.Qb(),n.Rb(29,"p",51),n.zc(30),n.Qb(),n.Qb(),n.Rb(31,"div",49),n.Rb(32,"h6",50),n.zc(33,"Nombre"),n.Qb(),n.Rb(34,"p",51),n.zc(35),n.Qb(),n.Qb(),n.Rb(36,"div",49),n.Rb(37,"h6",50),n.zc(38,"CURP"),n.Qb(),n.Rb(39,"p",51),n.zc(40),n.Qb(),n.Qb(),n.Rb(41,"div",49),n.Rb(42,"h6",50),n.zc(43,"Correo electr\xf3nico"),n.Qb(),n.Rb(44,"p",52),n.zc(45),n.Qb(),n.Qb(),n.Rb(46,"div",49),n.Rb(47,"h6",50),n.zc(48,"Tel\xe9fono fijo"),n.Qb(),n.Rb(49,"p",52),n.zc(50),n.Qb(),n.Qb(),n.Rb(51,"div",49),n.Rb(52,"h6",50),n.zc(53,"Celular"),n.Qb(),n.Rb(54,"p",52),n.zc(55),n.Qb(),n.Qb(),n.Rb(56,"div",49),n.Rb(57,"h6",50),n.zc(58,"Roles"),n.Qb(),n.Rb(59,"ul"),n.xc(60,Zt,2,1,"li",36),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Ob()}if(2&e){const e=t.$implicit,i=n.ec(3);n.zb(6),n.Ac(e.id),n.zb(2),n.kc("result",e.username)("term",i.service.searchTerm),n.zb(2),n.kc("result",e.active?"Activo":"Inactivo")("term",i.service.searchTerm),n.zb(2),n.kc("result",n.hc(13,19,e.fIns,"dd/MM/yyyy HH:mm"))("term",i.service.searchTerm),n.zb(3),n.kc("result",n.hc(16,22,e.fAct,"dd/MM/yyyy HH:mm"))("term",i.service.searchTerm),n.zb(6),n.kc("ngIf",e.active),n.zb(1),n.kc("ngIf",!e.active),n.zb(1),n.kc("ngClass","id_"+e.id),n.zb(7),n.Ac(e.person.noCtrl),n.zb(5),n.Ac(e.person.nombres+" "+e.person.primerApellido+" "+e.person.segundoApellido),n.zb(5),n.Ac(e.person.curp),n.zb(5),n.Ac(e.person.mail),n.zb(5),n.Ac(e.person.tel),n.zb(5),n.Ac(e.person.cel),n.zb(5),n.kc("ngForOf",e.roles)}}function ti(e,t){if(1&e&&(n.Rb(0,"tbody"),n.xc(1,ei,61,25,"ng-container",36),n.fc(2,"async"),n.Qb()),2&e){const e=n.ec(2);n.zb(1),n.kc("ngForOf",n.gc(2,1,e.users$))}}function ii(e,t){if(1&e&&(n.xc(0,ti,3,3,"tbody",21),n.fc(1,"async")),2&e){const e=n.ec(),t=n.sc(52);n.kc("ngIf",n.gc(1,2,e.total$))("ngIfElse",t)}}function ri(e,t){1&e&&(n.Rb(0,"tbody"),n.Rb(1,"tr"),n.Rb(2,"th",57),n.Nb(3,"i",58),n.zc(4," No se encontr\xf3 informaci\xf3n "),n.Qb(),n.Qb(),n.Qb())}function si(e,t){if(1&e){const e=n.Sb();n.Rb(0,"div",2),n.Rb(1,"ngb-pagination",59),n.bc("pageChange",function(t){return n.tc(e),n.ec().service.page=t}),n.fc(2,"async"),n.Qb(),n.Rb(3,"span",26),n.zc(4),n.fc(5,"async"),n.fc(6,"async"),n.fc(7,"async"),n.Qb(),n.Qb()}if(2&e){const e=n.ec();n.zb(1),n.kc("collectionSize",n.gc(2,6,e.total$))("page",e.service.page)("pageSize",e.service.pageSize),n.zb(3),n.Dc(" Mostrando ",e.service.page*e.service.pageSize-e.service.pageSize+1," al ",e.service.page*e.service.pageSize<=n.gc(5,8,e.total$)?e.service.page*e.service.pageSize:n.gc(6,10,e.total$)," de ",n.gc(7,12,e.total$)," registros")}}let ni=(()=>{class e{constructor(e,t,i,r){this.service=e,this.store=t,this.handlerErrorsService=i,this.usersService=r,this._subs$=[],this.onSelected=new n.n,this.forceRefreshData=new R.a,this._autoCloseAlert=new R.a,this.alertMsg=null,this.users$=e.users$,this.total$=e.total$}ngOnInit(){this._subs$.push(this._autoCloseAlert.pipe(Object(pe.a)(1e4)).subscribe(()=>{this.alertMsg=null})),this._subs$.push(this.forceRefreshData.subscribe(e=>this.refreshTable(e))),this._subs$.push(this.service.err$.subscribe(e=>{this.alertMsg=e?{type:"error",icon:"fa-info-circle",title:"Error",message:` ${this.handlerErrorsService.parseMsgError(e)} </br> favor de intentarlo de nuevo. `}:null}))}ngOnDestroy(){this._subs$.forEach(e=>{try{e.unsubscribe()}catch(t){}})}onSort({column:e,direction:t}){this.headers.forEach(t=>{t.sortable!==e&&(t.direction="")}),this.service.sortColumn=e,this.service.sortDirection=t}toggleTableDetail(e,t){const i=$(`.tableDetail.id_${e}`),r=$(t.currentTarget);i.hasClass("d-none")?(i.removeClass("d-none"),r.html('<i class="fa fa-minus-circle" aria-hidden="true"></i>'),r.removeClass("text-success"),r.addClass("text-warning")):(i.addClass("d-none"),r.html('<i class="fa fa-plus-circle" aria-hidden="true"></i>'),r.removeClass("text-warning"),r.addClass("text-success"))}editRecord(e){this.store.dispatch(Be.b({dataModel:e})),this.onSelected.emit(e)}refreshTable(e){if(e.status){this.service.refreshTable();let t="Registro ";switch(e.action){case"add":t+="agregado";break;case"update":t+="actualizado"}t+=" correctamente",this.alertMsg={type:"success",icon:"fa-info-circle",title:"Acci\xf3n",message:t},this._autoCloseAlert.next(!0)}}activeInactiveRecord(e,t){this.alertMsg=null,Dt.a.fire({title:"Confirmar",text:(t?"Activar":"Desactivar")+" usuario",icon:"question",showCancelButton:!0,confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&this.activeInactiveAction({id:e,active:t})})}activeInactiveAction(e){try{this._subs$.push(this.usersService.edit(e).subscribe(e=>{this.refreshTable({status:!0,action:"update"})},e=>{this.alertMsg={type:"error",icon:"fa-info-circle",title:"Acci\xf3n",message:this.handlerErrorsService.parseMsgError(e)}}))}catch(t){this.alertMsg={type:"error",icon:"fa-info-circle",title:"Acci\xf3n",message:this.handlerErrorsService.parseMsgError(t)}}}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(Tt),n.Mb(c.h),n.Mb(S.a),n.Mb(Ye))},e.\u0275cmp=n.Gb({type:e,selectors:[["app-table-users"]],viewQuery:function(e,t){if(1&e&&n.Ec(jt,1),2&e){let e;n.rc(e=n.cc())&&(t.headers=e)}},inputs:{forceRefreshData:"forceRefreshData"},outputs:{onSelected:"onSelected"},features:[n.yb([Tt,o.f])],decls:56,vars:24,consts:[[3,"type","dismissible",4,"ngIf"],[3,"type","closed",4,"ngIf"],[1,"d-flex","justify-content-between","p-2"],[1,"row"],[1,"col-"],["type","button","ngbTooltip","Actualizar lista de registros",1,"btn","btn-outline-primary",3,"click"],["aria-hidden","true",1,"fa","fa-refresh"],[1,"col-auto","form-group","form-inline"],["name","pageSize",1,"custom-select","mx-2",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],[1,"form-group","form-inline"],[1,"inner-addon","right-addon"],["class","fa fa-refresh fa-spin fa-fw text-warning p-0",4,"ngIf"],["type","text","name","searchTerm",1,"form-control","ml-2",3,"ngModel","ngModelChange"],[1,"table","table-striped","text-white"],["scope","col"],["scope","col","sortable","id",3,"sort"],["scope","col","sortable","username",3,"sort"],["scope","col","sortable","active",3,"sort"],["scope","col","sortable","fIns",3,"sort"],["scope","col","sortable","fAct",3,"sort"],[4,"ngIf","ngIfElse"],["renderData",""],["nodataResult",""],["class","d-flex justify-content-between p-2",4,"ngIf"],[3,"type","dismissible"],[1,"font-weight-bold"],["aria-hidden","true",3,"class",4,"ngIf"],[4,"ngIf"],["class","m-0 p-0",4,"ngIf"],["aria-hidden","true"],[1,"m-0","p-0"],[3,"type","closed"],[1,"fa","fa-refresh","fa-spin","fa-fw","text-warning","p-0"],["scope","row","colspan","7",1,"text-center"],[1,"fa","fa-cog","fa-spin","fa-3x","fa-fw",2,"vertical-align","middle"],[4,"ngFor","ngForOf"],[2,"width","1px"],["type","button","ngbTooltip","Mostrar detalle del registro",1,"btn","btn-link","text-success",3,"click"],["aria-hidden","true",1,"fa","fa-plus-circle"],["scope","row"],[3,"result","term"],["role","group","aria-label","",1,"btn-group"],["type","button","ngbTooltip","Editar registro",1,"btn","btn-secondary","w-btn-50px",3,"click"],["aria-hidden","true",1,"fa","fa-pencil-square-o"],["type","button","class","btn btn-danger w-btn-50px","ngbTooltip","Desactivar usuario",3,"click",4,"ngIf"],["type","button","class","btn btn-warning w-btn-50px","ngbTooltip","Desactivar usuario",3,"click",4,"ngIf"],[1,"tableDetail","d-none",3,"ngClass"],["colspan","7",1,"_d-none"],[1,"col-12","col-md-4","py-2"],[1,"tableDetailSccionTitle"],[1,"m-0","p-0","pl-2"],[1,"m-0","p-0","pl-2","text-lowercase"],["type","button","ngbTooltip","Desactivar usuario",1,"btn","btn-danger","w-btn-50px",3,"click"],["aria-hidden","true",1,"fa","fa-lock"],["type","button","ngbTooltip","Desactivar usuario",1,"btn","btn-warning","w-btn-50px",3,"click"],["aria-hidden","true",1,"fa","fa-unlock"],["scope","row","colspan","7",1,"text-center","text-danger"],["aria-hidden","true",1,"fa","fa-info-circle","pr-2"],[3,"collectionSize","page","pageSize","pageChange"]],template:function(e,t){if(1&e&&(n.xc(0,Ft,5,5,"ngb-alert",0),n.fc(1,"async"),n.xc(2,Ut,5,4,"ngb-alert",1),n.fc(3,"async"),n.Rb(4,"form"),n.Rb(5,"div",2),n.Rb(6,"div",3),n.Rb(7,"div",4),n.Rb(8,"button",5),n.bc("click",function(){return t.service.refreshTable()}),n.Nb(9,"i",6),n.Qb(),n.Qb(),n.Rb(10,"div",7),n.Rb(11,"span"),n.zc(12,"Mostrar"),n.Qb(),n.Rb(13,"select",8),n.bc("ngModelChange",function(e){return t.service.pageSize=e}),n.Rb(14,"option",9),n.zc(15,"10"),n.Qb(),n.Rb(16,"option",9),n.zc(17,"30"),n.Qb(),n.Rb(18,"option",9),n.zc(19,"50"),n.Qb(),n.Rb(20,"option",9),n.zc(21,"100"),n.Qb(),n.Qb(),n.Rb(22,"span"),n.zc(23,"registros"),n.Qb(),n.Qb(),n.Qb(),n.Rb(24,"div",10),n.zc(25," Buscar: "),n.Rb(26,"div",11),n.xc(27,Jt,1,0,"i",12),n.fc(28,"async"),n.Rb(29,"input",13),n.bc("ngModelChange",function(e){return t.service.searchTerm=e}),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Rb(30,"table",14),n.Rb(31,"thead"),n.Rb(32,"tr"),n.Rb(33,"th",15),n.zc(34,"\xa0"),n.Qb(),n.Rb(35,"th",16),n.bc("sort",function(e){return t.onSort(e)}),n.zc(36,"#"),n.Qb(),n.Rb(37,"th",17),n.bc("sort",function(e){return t.onSort(e)}),n.zc(38,"Nombre de usuario"),n.Qb(),n.Rb(39,"th",18),n.bc("sort",function(e){return t.onSort(e)}),n.zc(40,"Activo"),n.Qb(),n.Rb(41,"th",19),n.bc("sort",function(e){return t.onSort(e)}),n.zc(42,"Fecha de registro"),n.Qb(),n.Rb(43,"th",20),n.bc("sort",function(e){return t.onSort(e)}),n.zc(44,"Fecha de actualizaci\xf3n"),n.Qb(),n.Rb(45,"th",15),n.zc(46,"\xa0"),n.Qb(),n.Qb(),n.Qb(),n.xc(47,Wt,6,0,"tbody",21),n.fc(48,"async"),n.xc(49,ii,2,4,"ng-template",null,22,n.yc),n.xc(51,ri,5,0,"ng-template",null,23,n.yc),n.Qb(),n.xc(53,si,8,14,"div",24),n.fc(54,"async"),n.fc(55,"async"),n.Qb()),2&e){const e=n.sc(50);n.kc("ngIf",n.gc(1,12,t.service.err$)),n.zb(2),n.kc("ngIf",t.alertMsg&&!n.gc(3,14,t.service.err$)),n.zb(11),n.kc("ngModel",t.service.pageSize),n.zb(1),n.kc("ngValue",10),n.zb(2),n.kc("ngValue",30),n.zb(2),n.kc("ngValue",50),n.zb(2),n.kc("ngValue",100),n.zb(7),n.kc("ngIf",n.gc(28,16,t.service.loading$)),n.zb(2),n.kc("ngModel",t.service.searchTerm),n.zb(18),n.kc("ngIf",n.gc(48,18,t.service.loading$))("ngIfElse",e),n.zb(6),n.kc("ngIf",0==n.gc(54,20,t.service.loading$)&&n.gc(55,22,t.total$)>0)}},directives:[o.n,Q.r,Q.j,Q.k,v.n,Q.o,Q.i,Q.l,Q.m,Q.q,Q.b,jt,v.b,o.m,v.d,o.l,v.g],pipes:[o.b,o.e],styles:['.w-btn-50px[_ngcontent-%COMP%]{width:50px}th[sortable][_ngcontent-%COMP%]{cursor:pointer;-moz-user-select:none;user-select:none;-webkit-user-select:none}th[sortable].asc[_ngcontent-%COMP%]:before, th[sortable].desc[_ngcontent-%COMP%]:before{font-family:FontAwesome;font-weight:900;content:"\\f063";display:block;float:left;margin-left:-30px;color:#fff}th[sortable].desc[_ngcontent-%COMP%]:before{transform:rotate(180deg);-ms-transform:rotate(180deg)}ngbd-table-complete[_ngcontent-%COMP%]   span.ngb-highlight[_ngcontent-%COMP%], ngbd-table-filtering[_ngcontent-%COMP%]   span.ngb-highlight[_ngcontent-%COMP%]{background-color:#ff0}.inner-addon[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin:12px 0 0!important}  body:not(.om) .table.text-white{color:#333!important}  body.om .table-striped tbody tr:nth-of-type(odd){background-color:hsla(0,0%,100%,.11)}']}),e})();function ci(e,t){if(1&e&&(n.Rb(0,"h2",8),n.Nb(1,"i",9),n.zc(2),n.Qb()),2&e){const e=n.ec();n.zb(1),n.kc("ngClass",null==e.titlePageHeader?null:e.titlePageHeader.icon),n.zb(1),n.Bc(" ",e.titlePageHeader.title," ")}}function oi(e,t){if(1&e){const e=n.Sb();n.Rb(0,"div"),n.Rb(1,"button",14),n.bc("click",function(){return n.tc(e),n.ec(2).newRecord()}),n.Nb(2,"i",15),n.zc(3," Nuevo"),n.Qb(),n.Qb()}}function ai(e,t){if(1&e&&(n.Rb(0,"div",10),n.Rb(1,"button",11),n.Rb(2,"h5"),n.Nb(3,"i",12),n.zc(4," Formulario de registro"),n.Qb(),n.Qb(),n.xc(5,oi,4,0,"div",13),n.fc(6,"async"),n.Qb()),2&e){const e=n.ec();n.zb(5),n.kc("ngIf",n.gc(6,1,e.editMode))}}function li(e,t){if(1&e){const e=n.Sb();n.Rb(0,"app-form-users",16),n.bc("onAddorEdit",function(t){return n.tc(e),n.ec().refreshControls(t)}),n.Qb()}if(2&e){const e=n.ec();n.kc("editMode",e.editMode)}}function bi(e,t){1&e&&(n.Rb(0,"h5"),n.Nb(1,"i",17),n.zc(2," Lista de registros"),n.Qb())}function di(e,t){if(1&e){const e=n.Sb();n.Rb(0,"app-table-users",18),n.bc("onSelected",function(t){return n.tc(e),n.ec().recordSelected(t)}),n.Qb()}if(2&e){const e=n.ec();n.kc("forceRefreshData",e.refreshData)}}let ui=(()=>{class e{constructor(e,t){this.store=e,this.router=t,this._subs$=[],this.activeIds="",this.editMode=new R.a,this.refreshData=new R.a,this._subs$.push(this.store.select("currentPage").subscribe(e=>{this.titlePageHeader=e})),this.activeIds="static-2",this.store.dispatch(s.a({current:{icon:"fa-table",title:"Cat\xe1logo de Usuarios",description:"",url:this.router.url}}))}ngOnInit(){}ngOnDestroy(){this._subs$.forEach(e=>{try{e.unsubscribe()}catch(t){}})}newRecord(){this.store.dispatch(Be.b({dataModel:null})),this.editMode.next(!1)}recordSelected(e){this.store.dispatch(Be.b({dataModel:e})),this.dtElement.expand("static-1"),this.editMode.next(!0)}refreshControls(e){this.store.dispatch(Be.b({dataModel:null})),this.dtElement.expand("static-2"),this.editMode.next(!1),this.refreshData.next(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(c.h),n.Mb(r.b))},e.\u0275cmp=n.Gb({type:e,selectors:[["app-users"]],viewQuery:function(e,t){if(1&e&&n.Ec(v.a,1),2&e){let e;n.rc(e=n.cc())&&(t.dtElement=e.first)}},decls:9,vars:4,consts:[[1,"extendWorkJob","d-flex","flex-column","justify-content-center","px-5"],["class","pageHeader",4,"ngIf"],["ngbAccordion","",3,"closeOthers","activeIds","destroyOnHide"],["id","static-1"],["ngbPanelHeader",""],["ngbPanelContent",""],["id","static-2"],["ngbPanelTitle",""],[1,"pageHeader"],["aria-hidden","true",1,"fa",3,"ngClass"],[1,"d-flex","align-items-center","justify-content-between"],["ngbPanelToggle","",1,"btn","btn-link"],["aria-hidden","true",1,"fa","fa-newspaper-o"],[4,"ngIf"],[1,"btn","btn-sm","btn-outline-primary","ml-2",3,"click"],["aria-hidden","true",1,"fa","fa-plus"],[3,"editMode","onAddorEdit"],["aria-hidden","true",1,"fa","fa-th"],[3,"forceRefreshData","onSelected"]],template:function(e,t){1&e&&(n.Rb(0,"div",0),n.xc(1,ci,3,2,"h2",1),n.Rb(2,"ngb-accordion",2),n.Rb(3,"ngb-panel",3),n.xc(4,ai,7,3,"ng-template",4),n.xc(5,li,1,1,"ng-template",5),n.Qb(),n.Rb(6,"ngb-panel",6),n.xc(7,bi,3,0,"ng-template",7),n.xc(8,di,1,1,"ng-template",5),n.Qb(),n.Qb(),n.Qb()),2&e&&(n.zb(1),n.kc("ngIf",t.titlePageHeader),n.zb(1),n.kc("closeOthers",!0)("activeIds",t.activeIds)("destroyOnHide",!1))},directives:[o.n,v.a,v.h,v.j,v.i,v.k,o.l,v.l,Nt,ni],pipes:[o.b],styles:[".card{background-color:transparent!important}  .card .card-header{background-color:hsla(0,0%,100%,.050980392156862744)}  .card .card-header button{width:100%;text-align:left}  .btn-link{color:#fff;text-decoration:none!important}  .btn-link:hover,   body:not(.om) .btn-link:hover{color:#0056b3;text-decoration:none!important}  body:not(.om) .btn-link{color:#333;text-decoration:none!important}"]}),e})();var fi=i("cKT1");let hi=(()=>{class e{constructor(e){this.http=e}data(e="",t="",i=""){return this.http.get(`${w.a.apis.recon.url}/admin/crimes?skip=${e}&take=${t}&filter=${i}`).pipe(Object(x.a)(e=>{if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(k.a)(e=>{}))}add(e){return this.http.post(`${w.a.apis.recon.url}/admin/crime`,e).pipe(Object(x.a)(e=>{if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(k.a)(e=>{}))}edit(e){return this.http.patch(`${w.a.apis.recon.url}/admin/crime`,e).pipe(Object(x.a)(e=>{if(200!=e.Api.Status.Code)throw new Error(e.Api.Status.Message);return e.Response}),Object(k.a)(e=>{}))}}return e.\u0275fac=function(t){return new(t||e)(n.Yb(y.b))},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function pi(e,t){if(1&e&&n.Nb(0,"i",20),2&e){const e=n.ec(2);n.Cb("fa ",e.alertMsg.icon," mr-2")}}function gi(e,t){if(1&e&&(n.Rb(0,"span"),n.zc(1),n.Qb()),2&e){const e=n.ec(2);n.zb(1),n.Ac(e.alertMsg.title)}}function mi(e,t){if(1&e&&(n.Rb(0,"p",21),n.zc(1),n.Qb()),2&e){const e=n.ec(2);n.zb(1),n.Ac(e.alertMsg.message)}}function vi(e,t){if(1&e&&(n.Rb(0,"ngb-alert",15),n.Rb(1,"h5",16),n.xc(2,pi,1,3,"i",17),n.xc(3,gi,2,1,"span",18),n.Qb(),n.xc(4,mi,2,1,"p",19),n.Qb()),2&e){const e=n.ec();n.kc("type",e.alertMsg.type)("dismissible",!1),n.zb(2),n.kc("ngIf",e.alertMsg.icon),n.zb(1),n.kc("ngIf",e.alertMsg.title),n.zb(1),n.kc("ngIf",e.alertMsg.message)}}function Ri(e,t){1&e&&n.Nb(0,"i",22)}function zi(e,t){1&e&&n.Nb(0,"i",23)}function Qi(e,t){1&e&&(n.Rb(0,"span"),n.zc(1,"Informaci\xf3n requerida"),n.Qb())}function xi(e,t){1&e&&(n.Rb(0,"span"),n.zc(1,"La longitud m\xednima es de 4 caracteres"),n.Qb())}function ki(e,t){1&e&&(n.Rb(0,"span"),n.zc(1,"La longitud m\xe1xima es de 100 caracteres"),n.Qb())}function wi(e,t){if(1&e&&(n.Rb(0,"div",24),n.Nb(1,"i",25),n.xc(2,Qi,2,0,"span",18),n.xc(3,xi,2,0,"span",18),n.xc(4,ki,2,0,"span",18),n.Qb()),2&e){const e=n.ec();n.zb(2),n.kc("ngIf",e.f.descrip.errors.required),n.zb(1),n.kc("ngIf",e.f.descrip.errors.minlength),n.zb(1),n.kc("ngIf",e.f.descrip.errors.maxlength)}}function yi(e,t){1&e&&n.Nb(0,"i",26)}function Mi(e,t){1&e&&n.Nb(0,"span",27)}const Si=function(e){return{errBorder:e}};let Ii=(()=>{class e{constructor(e,t,i,r){this.fb=e,this.store=t,this.crimesService=i,this.handlerErrorsService=r,this._subs$=[],this.onAddorEdit=new n.n,this.frmgp=this.fb.group({id:[""],descrip:["",[Q.p.required,Q.p.minLength(4),Q.p.maxLength(100)]]}),this.formSubmitted=!1,this.withErr=!1,this.alertMsg=null}ngOnInit(){this._subs$.push(this.store.select("catalogCrimes").subscribe(e=>this.editModel=e.selected)),this._subs$.push(this.editMode.subscribe(e=>{this._populateFormEditMode(e)}))}ngOnDestroy(){this._subs$.forEach(e=>{try{e.unsubscribe()}catch(t){}})}get f(){return this.frmgp.controls}_populateFormEditMode(e){var t,i;this.withErr=!1,this.formSubmitted=!1,this.alertMsg=null,this.f.id.patchValue(null===(t=this.editModel)||void 0===t?void 0:t.id),this.f.descrip.patchValue(null===(i=this.editModel)||void 0===i?void 0:i.descrip),$("form input:first").select()}onSubmit(){this.withErr=!1,this.formSubmitted=!0,this.alertMsg=null;try{if(!this.frmgp.valid)throw new Error("Se encontraron errores de formulario");this.editModel?this.editAction():this.addAction()}catch(e){this.showAlert(e.message,"danger","fa-times-circle-o","Error"),this.withErr=!0}}showAlert(e,t,i,r){this.alertMsg={type:t,icon:i,title:r,message:e}}addAction(){try{this._subs$.push(this.crimesService.add(this.frmgp.value).subscribe(e=>{this.onAddorEdit.emit({status:!0,action:"add"})},e=>{this.showAlert(this.handlerErrorsService.parseMsgError(e),"danger","fa-times-circle-o","Error"),this.withErr=!0}))}catch(e){this.showAlert(this.handlerErrorsService.parseMsgError(e),"danger","fa-times-circle-o","Error"),this.withErr=!0}}editAction(){try{this._subs$.push(this.crimesService.edit(this.frmgp.value).subscribe(e=>{this.onAddorEdit.emit({status:!0,action:"update"})},e=>{this.showAlert(this.handlerErrorsService.parseMsgError(e),"danger","fa-times-circle-o","Error"),this.withErr=!0}))}catch(e){this.showAlert(this.handlerErrorsService.parseMsgError(e),"danger","fa-times-circle-o","Error"),this.withErr=!0}}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(Q.c),n.Mb(c.h),n.Mb(hi),n.Mb(S.a))},e.\u0275cmp=n.Gb({type:e,selectors:[["app-form-crimes"]],inputs:{editMode:"editMode"},outputs:{onAddorEdit:"onAddorEdit"},decls:18,vars:12,consts:[["autocomplete","off",3,"formGroup","ngSubmit"],[3,"type","dismissible",4,"ngIf"],[1,"form-row"],[1,"col-12","col-md-4","py-2"],[1,"inner-addon","right-addon"],["class","fa fa-check-circle-o text-success","aria-hidden","true",4,"ngIf"],["class","fa fa-times-circle-o text-danger","aria-hidden","true",4,"ngIf"],["id","noctrl","type","text","placeholder","Descripci\xf3n","formControlName","descrip",1,"form-control",3,"ngClass"],["class","text-danger",4,"ngIf"],[1,"text-right"],["ngClass","btn-outline-success",1,"btn",3,"disabled"],["class","fa fa-pencil-square-o","aria-hidden","true","type","submit",4,"ngIf"],["class","spinner-grow spinner-grow-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"ml-2"],["type","hidden","id","id","name","id","formControlName","id"],[3,"type","dismissible"],[1,"font-weight-bold"],["aria-hidden","true",3,"class",4,"ngIf"],[4,"ngIf"],["class","m-0 p-0",4,"ngIf"],["aria-hidden","true"],[1,"m-0","p-0"],["aria-hidden","true",1,"fa","fa-check-circle-o","text-success"],["aria-hidden","true",1,"fa","fa-times-circle-o","text-danger"],[1,"text-danger"],["aria-hidden","true",1,"fa","fa-exclamation-triangle","mr-2"],["aria-hidden","true","type","submit",1,"fa","fa-pencil-square-o"],["role","status","aria-hidden","true",1,"spinner-grow","spinner-grow-sm"]],template:function(e,t){1&e&&(n.Rb(0,"form",0),n.bc("ngSubmit",function(){return t.onSubmit()}),n.xc(1,vi,5,5,"ngb-alert",1),n.Rb(2,"div",2),n.Rb(3,"div",3),n.Rb(4,"label"),n.zc(5,"Descripci\xf3n"),n.Qb(),n.Rb(6,"div",4),n.xc(7,Ri,1,0,"i",5),n.xc(8,zi,1,0,"i",6),n.Nb(9,"input",7),n.Qb(),n.xc(10,wi,5,3,"div",8),n.Qb(),n.Qb(),n.Rb(11,"div",9),n.Rb(12,"button",10),n.xc(13,yi,1,0,"i",11),n.xc(14,Mi,1,0,"span",12),n.Rb(15,"span",13),n.zc(16),n.Qb(),n.Qb(),n.Qb(),n.Nb(17,"input",14),n.Qb()),2&e&&(n.kc("formGroup",t.frmgp),n.zb(1),n.kc("ngIf",t.alertMsg),n.zb(6),n.kc("ngIf",t.formSubmitted&&t.f.descrip.valid),n.zb(1),n.kc("ngIf",t.formSubmitted&&t.f.descrip.invalid),n.zb(1),n.kc("ngClass",n.oc(10,Si,t.formSubmitted&&t.f.descrip.invalid)),n.zb(1),n.kc("ngIf",t.formSubmitted&&t.f.descrip.invalid),n.zb(2),n.kc("disabled",t.formSubmitted&&!t.withErr),n.zb(1),n.kc("ngIf",!t.formSubmitted||t.withErr),n.zb(1),n.kc("ngIf",t.formSubmitted&&!t.withErr),n.zb(2),n.Bc(" ",!t.formSubmitted||t.withErr?t.editModel?"Editar":"Registrar":"Procesando..."," "))},directives:[Q.r,Q.j,Q.e,o.n,Q.b,Q.i,Q.d,o.l,v.b],styles:[""]}),e})(),Ci=(()=>{class e{constructor(e,t,i){this.pipe=e,this.crimesService=t,this.store=i,this._subs$=[],this._loading$=new ge.a(!0),this._err$=new ge.a(null),this._search$=new R.a,this._crimes$=new ge.a([]),this._total$=new ge.a(0),this._state={page:1,pageSize:10,searchTerm:"",sortColumn:"",sortDirection:""},this._subs$.push(this._search$.pipe(Object(k.a)(()=>{this._err$.next(null),this._loading$.next(!0)}),Object(pe.a)(500),Object(ve.a)(()=>this._dataList()),Object(x.a)(e=>this._formating(e)),Object(k.a)(()=>this._loading$.next(!1))).subscribe(e=>{this._crimes$.next(e.data),this._total$.next(e.total)})),this._search$.next()}ngOnDestroy(){this._subs$.forEach(e=>{try{e.unsubscribe()}catch(t){}})}get crimes$(){return this._crimes$.asObservable()}get total$(){return this._total$.asObservable()}get loading$(){return this._loading$.asObservable()}get err$(){return this._err$.asObservable()}get page(){return this._state.page}get pageSize(){return this._state.pageSize}get searchTerm(){return this._state.searchTerm}set page(e){this._set({page:e})}set pageSize(e){this._set({pageSize:e})}set searchTerm(e){this._set({searchTerm:e})}set sortColumn(e){this._set({sortColumn:e})}set sortDirection(e){this._set({sortDirection:e})}refreshTable(){this._search$.next()}_set(e){Object.assign(this._state,e),this._search$.next()}_dataList(){const{searchTerm:e}=this._state;return this.crimesService.data(null,null,e).pipe(Object(Re.a)(e=>(this._err$.next(e),Object(me.a)([]))))}_formating(e){const{searchTerm:t,sortColumn:i,sortDirection:r,pageSize:s,page:n}=this._state;let c=e;var o,a,l;(i||r)&&(o=c,a=i,c=""===(l=r)||""===a?o:[...o].sort((e,t)=>{const i=(r=e[a])<(s=t[a])?-1:r>s?1:0;var r,s;return"asc"===l?i:-i})),t&&(c=c.filter(e=>function(e,t,i){return i.transform(e.id).includes(t.toLowerCase())||e.fIns.toString().includes(t.toLowerCase())||e.fAct.toString().includes(t.toLowerCase())||e.descrip.toLowerCase().includes(t.toLowerCase())}(e,t,this.pipe)));const b=c.length;return c=c.slice((n-1)*s,(n-1)*s+s),this.store.dispatch(fi.a({data:c})),{data:c,total:b}}}return e.\u0275fac=function(t){return new(t||e)(n.Yb(o.f),n.Yb(hi),n.Yb(c.h))},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const $i={asc:"desc",desc:"","":"asc"};let _i=(()=>{class e{constructor(){this.sortable="",this.direction="",this.sort=new n.n}rotate(){this.direction=$i[this.direction],this.sort.emit({column:this.sortable,direction:this.direction})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Hb({type:e,selectors:[["th","sortable",""]],hostVars:4,hostBindings:function(e,t){1&e&&n.bc("click",function(){return t.rotate()}),2&e&&n.Eb("asc","asc"===t.direction)("desc","desc"===t.direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sort:"sort"}}),e})();function Ei(e,t){if(1&e&&n.Nb(0,"i",29),2&e){const e=n.ec(2);n.Cb("fa ",e.alertMsg.icon," mr-2")}}function Ai(e,t){if(1&e&&(n.Rb(0,"span"),n.zc(1),n.Qb()),2&e){const e=n.ec(2);n.zb(1),n.Ac(e.alertMsg.title)}}function Oi(e,t){if(1&e&&(n.Rb(0,"p",30),n.zc(1),n.Qb()),2&e){const e=n.ec(2);n.zb(1),n.Ac(e.alertMsg.message)}}function Ni(e,t){if(1&e&&(n.Rb(0,"ngb-alert",24),n.Rb(1,"h5",25),n.xc(2,Ei,1,3,"i",26),n.xc(3,Ai,2,1,"span",27),n.Qb(),n.xc(4,Oi,2,1,"p",28),n.Qb()),2&e){const e=n.ec();n.kc("type","danger")("dismissible",!1),n.zb(2),n.kc("ngIf",e.alertMsg.icon),n.zb(1),n.kc("ngIf",e.alertMsg.title),n.zb(1),n.kc("ngIf",e.alertMsg.message)}}function Pi(e,t){if(1&e&&n.Nb(0,"i",29),2&e){const e=n.ec(2);n.Cb("fa ",e.alertMsg.icon," mr-2")}}function Di(e,t){if(1&e&&(n.Rb(0,"span"),n.zc(1),n.Qb()),2&e){const e=n.ec(2);n.zb(1),n.Ac(e.alertMsg.title)}}function Ti(e,t){if(1&e&&(n.Rb(0,"p",30),n.zc(1),n.Qb()),2&e){const e=n.ec(2);n.zb(1),n.Ac(e.alertMsg.message)}}function Li(e,t){if(1&e){const e=n.Sb();n.Rb(0,"ngb-alert",31),n.bc("closed",function(){return n.tc(e),n.ec().alertMsg=null}),n.Rb(1,"h5",25),n.xc(2,Pi,1,3,"i",26),n.xc(3,Di,2,1,"span",27),n.Qb(),n.xc(4,Ti,2,1,"p",28),n.Qb()}if(2&e){const e=n.ec();n.kc("type",e.alertMsg.type),n.zb(2),n.kc("ngIf",e.alertMsg.icon),n.zb(1),n.kc("ngIf",e.alertMsg.title),n.zb(1),n.kc("ngIf",e.alertMsg.message)}}function ji(e,t){1&e&&n.Nb(0,"i",32)}function qi(e,t){1&e&&(n.Rb(0,"tbody"),n.Rb(1,"tr"),n.Rb(2,"th",33),n.Nb(3,"i",34),n.Rb(4,"span"),n.zc(5,"Actualizndo informaci\xf3n..."),n.Qb(),n.Qb(),n.Qb(),n.Qb())}function Vi(e,t){if(1&e){const e=n.Sb();n.Pb(0),n.Rb(1,"tr"),n.Rb(2,"th",36),n.zc(3),n.Qb(),n.Rb(4,"td"),n.Nb(5,"ngb-highlight",37),n.Qb(),n.Rb(6,"td"),n.Nb(7,"ngb-highlight",37),n.fc(8,"date"),n.Qb(),n.Rb(9,"td"),n.Nb(10,"ngb-highlight",37),n.fc(11,"date"),n.Qb(),n.Rb(12,"td",38),n.Rb(13,"div",39),n.Rb(14,"button",40),n.bc("click",function(){n.tc(e);const i=t.$implicit;return n.ec(3).editRecord(i)}),n.Nb(15,"i",41),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Ob()}if(2&e){const e=t.$implicit,i=n.ec(3);n.zb(3),n.Ac(e.id),n.zb(2),n.kc("result",e.descrip)("term",i.service.searchTerm),n.zb(2),n.kc("result",n.hc(8,7,e.fIns,"dd/MM/yyyy HH:mm"))("term",i.service.searchTerm),n.zb(3),n.kc("result",n.hc(11,10,e.fAct,"dd/MM/yyyy HH:mm"))("term",i.service.searchTerm)}}function Hi(e,t){if(1&e&&(n.Rb(0,"tbody"),n.xc(1,Vi,16,13,"ng-container",35),n.fc(2,"async"),n.Qb()),2&e){const e=n.ec(2);n.zb(1),n.kc("ngForOf",n.gc(2,1,e.crimes$))}}function Fi(e,t){if(1&e&&(n.xc(0,Hi,3,3,"tbody",20),n.fc(1,"async")),2&e){const e=n.ec(),t=n.sc(48);n.kc("ngIf",n.gc(1,2,e.total$))("ngIfElse",t)}}function Gi(e,t){1&e&&(n.Rb(0,"tbody"),n.Rb(1,"tr"),n.Rb(2,"th",42),n.Nb(3,"i",43),n.zc(4," No se encontr\xf3 informaci\xf3n "),n.Qb(),n.Qb(),n.Qb())}function Bi(e,t){if(1&e){const e=n.Sb();n.Rb(0,"div",2),n.Rb(1,"ngb-pagination",44),n.bc("pageChange",function(t){return n.tc(e),n.ec().service.page=t}),n.fc(2,"async"),n.Qb(),n.Rb(3,"span",25),n.zc(4),n.fc(5,"async"),n.fc(6,"async"),n.fc(7,"async"),n.Qb(),n.Qb()}if(2&e){const e=n.ec();n.zb(1),n.kc("collectionSize",n.gc(2,6,e.total$))("page",e.service.page)("pageSize",e.service.pageSize),n.zb(3),n.Dc(" Mostrando ",e.service.page*e.service.pageSize-e.service.pageSize+1," al ",e.service.page*e.service.pageSize<=n.gc(5,8,e.total$)?e.service.page*e.service.pageSize:n.gc(6,10,e.total$)," de ",n.gc(7,12,e.total$)," registros")}}let Yi=(()=>{class e{constructor(e,t,i){this.service=e,this.store=t,this.handlerErrorsService=i,this._subs$=[],this.onSelected=new n.n,this.forceRefreshData=new R.a,this._autoCloseAlert=new R.a,this.alertMsg=null,this.crimes$=e.crimes$,this.total$=e.total$}ngOnInit(){this._subs$.push(this._autoCloseAlert.pipe(Object(pe.a)(1e4)).subscribe(()=>{this.alertMsg=null})),this._subs$.push(this.forceRefreshData.subscribe(e=>this.refreshTable(e))),this._subs$.push(this.service.err$.subscribe(e=>{this.alertMsg=e?{type:"error",icon:"fa-info-circle",title:"Error",message:` ${this.handlerErrorsService.parseMsgError(e)} </br> favor de intentarlo de nuevo. `}:null}))}ngOnDestroy(){this._subs$.forEach(e=>{try{e.unsubscribe()}catch(t){}})}onSort({column:e,direction:t}){this.headers.forEach(t=>{t.sortable!==e&&(t.direction="")}),this.service.sortColumn=e,this.service.sortDirection=t}toggleTableDetail(e,t){const i=$(`.tableDetail.id_${e}`),r=$(t.currentTarget);i.hasClass("d-none")?(i.removeClass("d-none"),r.html('<i class="fa fa-minus-circle" aria-hidden="true"></i>'),r.removeClass("text-success"),r.addClass("text-warning")):(i.addClass("d-none"),r.html('<i class="fa fa-plus-circle" aria-hidden="true"></i>'),r.removeClass("text-warning"),r.addClass("text-success"))}editRecord(e){this.store.dispatch(fi.b({dataModel:e})),this.onSelected.emit(e)}refreshTable(e){if(e.status){this.service.refreshTable();let t="Registro ";switch(e.action){case"add":t+="agregado";break;case"update":t+="actualizado"}t+=" correctamente",this.alertMsg={type:"success",icon:"fa-info-circle",title:"Acci\xf3n",message:t},this._autoCloseAlert.next(!0)}}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(Ci),n.Mb(c.h),n.Mb(S.a))},e.\u0275cmp=n.Gb({type:e,selectors:[["app-table-crimes"]],viewQuery:function(e,t){if(1&e&&n.Ec(_i,1),2&e){let e;n.rc(e=n.cc())&&(t.headers=e)}},inputs:{forceRefreshData:"forceRefreshData"},outputs:{onSelected:"onSelected"},features:[n.yb([Ci,o.f])],decls:52,vars:24,consts:[[3,"type","dismissible",4,"ngIf"],[3,"type","closed",4,"ngIf"],[1,"d-flex","justify-content-between","p-2"],[1,"row"],[1,"col-"],["type","button","ngbTooltip","Actualizar lista de registros",1,"btn","btn-outline-primary",3,"click"],["aria-hidden","true",1,"fa","fa-refresh"],[1,"col-auto","form-group","form-inline"],["name","pageSize",1,"custom-select","mx-2",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],[1,"form-group","form-inline"],[1,"inner-addon","right-addon"],["class","fa fa-refresh fa-spin fa-fw text-warning p-0",4,"ngIf"],["type","text","name","searchTerm",1,"form-control","ml-2",3,"ngModel","ngModelChange"],[1,"table","table-striped","text-white"],["scope","col","sortable","id",3,"sort"],["scope","col","sortable","noCtrl",3,"sort"],["scope","col","sortable","fIns",3,"sort"],["scope","col","sortable","fAct",3,"sort"],["scope","col"],[4,"ngIf","ngIfElse"],["renderData",""],["nodataResult",""],["class","d-flex justify-content-between p-2",4,"ngIf"],[3,"type","dismissible"],[1,"font-weight-bold"],["aria-hidden","true",3,"class",4,"ngIf"],[4,"ngIf"],["class","m-0 p-0",4,"ngIf"],["aria-hidden","true"],[1,"m-0","p-0"],[3,"type","closed"],[1,"fa","fa-refresh","fa-spin","fa-fw","text-warning","p-0"],["scope","row","colspan","4",1,"text-center"],[1,"fa","fa-cog","fa-spin","fa-3x","fa-fw",2,"vertical-align","middle"],[4,"ngFor","ngForOf"],["scope","row"],[3,"result","term"],[2,"width","1px"],["role","group","aria-label","",1,"btn-group"],["type","button","ngbTooltip","Editar registro",1,"btn","btn-secondary","w-btn-50px",3,"click"],["aria-hidden","true",1,"fa","fa-pencil-square-o"],["scope","row","colspan","4",1,"text-center","text-danger"],["aria-hidden","true",1,"fa","fa-info-circle","pr-2"],[3,"collectionSize","page","pageSize","pageChange"]],template:function(e,t){if(1&e&&(n.xc(0,Ni,5,5,"ngb-alert",0),n.fc(1,"async"),n.xc(2,Li,5,4,"ngb-alert",1),n.fc(3,"async"),n.Rb(4,"form"),n.Rb(5,"div",2),n.Rb(6,"div",3),n.Rb(7,"div",4),n.Rb(8,"button",5),n.bc("click",function(){return t.service.refreshTable()}),n.Nb(9,"i",6),n.Qb(),n.Qb(),n.Rb(10,"div",7),n.Rb(11,"span"),n.zc(12,"Mostrar"),n.Qb(),n.Rb(13,"select",8),n.bc("ngModelChange",function(e){return t.service.pageSize=e}),n.Rb(14,"option",9),n.zc(15,"10"),n.Qb(),n.Rb(16,"option",9),n.zc(17,"30"),n.Qb(),n.Rb(18,"option",9),n.zc(19,"50"),n.Qb(),n.Rb(20,"option",9),n.zc(21,"100"),n.Qb(),n.Qb(),n.Rb(22,"span"),n.zc(23,"registros"),n.Qb(),n.Qb(),n.Qb(),n.Rb(24,"div",10),n.zc(25," Buscar: "),n.Rb(26,"div",11),n.xc(27,ji,1,0,"i",12),n.fc(28,"async"),n.Rb(29,"input",13),n.bc("ngModelChange",function(e){return t.service.searchTerm=e}),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Rb(30,"table",14),n.Rb(31,"thead"),n.Rb(32,"tr"),n.Rb(33,"th",15),n.bc("sort",function(e){return t.onSort(e)}),n.zc(34,"#"),n.Qb(),n.Rb(35,"th",16),n.bc("sort",function(e){return t.onSort(e)}),n.zc(36,"Descripci\xf3n"),n.Qb(),n.Rb(37,"th",17),n.bc("sort",function(e){return t.onSort(e)}),n.zc(38,"Fecha de registro"),n.Qb(),n.Rb(39,"th",18),n.bc("sort",function(e){return t.onSort(e)}),n.zc(40,"Fecha de actualizaci\xf3n"),n.Qb(),n.Rb(41,"th",19),n.zc(42,"\xa0"),n.Qb(),n.Qb(),n.Qb(),n.xc(43,qi,6,0,"tbody",20),n.fc(44,"async"),n.xc(45,Fi,2,4,"ng-template",null,21,n.yc),n.xc(47,Gi,5,0,"ng-template",null,22,n.yc),n.Qb(),n.xc(49,Bi,8,14,"div",23),n.fc(50,"async"),n.fc(51,"async"),n.Qb()),2&e){const e=n.sc(46);n.kc("ngIf",n.gc(1,12,t.service.err$)),n.zb(2),n.kc("ngIf",t.alertMsg&&!n.gc(3,14,t.service.err$)),n.zb(11),n.kc("ngModel",t.service.pageSize),n.zb(1),n.kc("ngValue",10),n.zb(2),n.kc("ngValue",30),n.zb(2),n.kc("ngValue",50),n.zb(2),n.kc("ngValue",100),n.zb(7),n.kc("ngIf",n.gc(28,16,t.service.loading$)),n.zb(2),n.kc("ngModel",t.service.searchTerm),n.zb(14),n.kc("ngIf",n.gc(44,18,t.service.loading$))("ngIfElse",e),n.zb(6),n.kc("ngIf",0==n.gc(50,20,t.service.loading$)&&n.gc(51,22,t.total$)>0)}},directives:[o.n,Q.r,Q.j,Q.k,v.n,Q.o,Q.i,Q.l,Q.m,Q.q,Q.b,_i,v.b,o.m,v.d,v.g],pipes:[o.b,o.e],styles:['th[sortable][_ngcontent-%COMP%]{cursor:pointer;-moz-user-select:none;user-select:none;-webkit-user-select:none}th[sortable].asc[_ngcontent-%COMP%]:before, th[sortable].desc[_ngcontent-%COMP%]:before{font-family:FontAwesome;font-weight:900;content:"\\f063";display:block;float:left;margin-left:-30px;color:#fff}th[sortable].desc[_ngcontent-%COMP%]:before{transform:rotate(180deg);-ms-transform:rotate(180deg)}ngbd-table-complete[_ngcontent-%COMP%]   span.ngb-highlight[_ngcontent-%COMP%], ngbd-table-filtering[_ngcontent-%COMP%]   span.ngb-highlight[_ngcontent-%COMP%]{background-color:#ff0}.inner-addon[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin:12px 0 0!important}  body:not(.om) .table.text-white{color:#333!important}  body.om .table-striped tbody tr:nth-of-type(odd){background-color:hsla(0,0%,100%,.11)}']}),e})();function Ui(e,t){if(1&e&&(n.Rb(0,"h2",8),n.Nb(1,"i",9),n.zc(2),n.Qb()),2&e){const e=n.ec();n.zb(1),n.kc("ngClass",null==e.titlePageHeader?null:e.titlePageHeader.icon),n.zb(1),n.Bc(" ",e.titlePageHeader.title," ")}}function Ji(e,t){if(1&e){const e=n.Sb();n.Rb(0,"div"),n.Rb(1,"button",14),n.bc("click",function(){return n.tc(e),n.ec(2).newRecord()}),n.Nb(2,"i",15),n.zc(3," Nuevo"),n.Qb(),n.Qb()}}function Wi(e,t){if(1&e&&(n.Rb(0,"div",10),n.Rb(1,"button",11),n.Rb(2,"h5"),n.Nb(3,"i",12),n.zc(4," Formulario de registro"),n.Qb(),n.Qb(),n.xc(5,Ji,4,0,"div",13),n.fc(6,"async"),n.Qb()),2&e){const e=n.ec();n.zb(5),n.kc("ngIf",n.gc(6,1,e.editMode))}}function Ki(e,t){if(1&e){const e=n.Sb();n.Rb(0,"app-form-crimes",16),n.bc("onAddorEdit",function(t){return n.tc(e),n.ec().refreshControls(t)}),n.Qb()}if(2&e){const e=n.ec();n.kc("editMode",e.editMode)}}function Xi(e,t){1&e&&(n.Rb(0,"h5"),n.Nb(1,"i",17),n.zc(2," Lista de registros"),n.Qb())}function Zi(e,t){if(1&e){const e=n.Sb();n.Rb(0,"app-table-crimes",18),n.bc("onSelected",function(t){return n.tc(e),n.ec().recordSelected(t)}),n.Qb()}if(2&e){const e=n.ec();n.kc("forceRefreshData",e.refreshData)}}let er=(()=>{class e{constructor(e,t){this.store=e,this.router=t,this._subs$=[],this.activeIds="",this.editMode=new R.a,this.refreshData=new R.a,this._subs$.push(this.store.select("currentPage").subscribe(e=>{this.titlePageHeader=e})),this.activeIds="static-2",this.store.dispatch(s.a({current:{icon:"fa-table",title:"Cat\xe1logo de Delitos",description:"",url:this.router.url}}))}ngOnInit(){}ngOnDestroy(){this._subs$.forEach(e=>{try{e.unsubscribe()}catch(t){}})}newRecord(){this.store.dispatch(fi.b({dataModel:null})),this.editMode.next(!1)}recordSelected(e){this.store.dispatch(fi.b({dataModel:e})),this.dtElement.expand("static-1"),this.editMode.next(!0)}refreshControls(e){this.store.dispatch(fi.b({dataModel:null})),this.dtElement.expand("static-2"),this.editMode.next(!1),this.refreshData.next(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(c.h),n.Mb(r.b))},e.\u0275cmp=n.Gb({type:e,selectors:[["app-crimes"]],viewQuery:function(e,t){if(1&e&&n.Ec(v.a,1),2&e){let e;n.rc(e=n.cc())&&(t.dtElement=e.first)}},decls:9,vars:4,consts:[[1,"extendWorkJob","d-flex","flex-column","justify-content-center","px-5"],["class","pageHeader",4,"ngIf"],["ngbAccordion","",3,"closeOthers","activeIds","destroyOnHide"],["id","static-1"],["ngbPanelHeader",""],["ngbPanelContent",""],["id","static-2"],["ngbPanelTitle",""],[1,"pageHeader"],["aria-hidden","true",1,"fa",3,"ngClass"],[1,"d-flex","align-items-center","justify-content-between"],["ngbPanelToggle","",1,"btn","btn-link"],["aria-hidden","true",1,"fa","fa-newspaper-o"],[4,"ngIf"],[1,"btn","btn-sm","btn-outline-primary","ml-2",3,"click"],["aria-hidden","true",1,"fa","fa-plus"],[3,"editMode","onAddorEdit"],["aria-hidden","true",1,"fa","fa-th"],[3,"forceRefreshData","onSelected"]],template:function(e,t){1&e&&(n.Rb(0,"div",0),n.xc(1,Ui,3,2,"h2",1),n.Rb(2,"ngb-accordion",2),n.Rb(3,"ngb-panel",3),n.xc(4,Wi,7,3,"ng-template",4),n.xc(5,Ki,1,1,"ng-template",5),n.Qb(),n.Rb(6,"ngb-panel",6),n.xc(7,Xi,3,0,"ng-template",7),n.xc(8,Zi,1,1,"ng-template",5),n.Qb(),n.Qb(),n.Qb()),2&e&&(n.zb(1),n.kc("ngIf",t.titlePageHeader),n.zb(1),n.kc("closeOthers",!0)("activeIds",t.activeIds)("destroyOnHide",!1))},directives:[o.n,v.a,v.h,v.j,v.i,v.k,o.l,v.l,Ii,Yi],pipes:[o.b],styles:[".card{background-color:transparent!important}  .card .card-header{background-color:hsla(0,0%,100%,.050980392156862744)}  .card .card-header button{width:100%;text-align:left}  .btn-link{color:#fff;text-decoration:none!important}  .btn-link:hover,   body:not(.om) .btn-link:hover{color:#0056b3;text-decoration:none!important}  body:not(.om) .btn-link{color:#333;text-decoration:none!important}"]}),e})(),tr=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Gb({type:e,selectors:[["app-court"]],decls:2,vars:0,template:function(e,t){1&e&&(n.Rb(0,"p"),n.zc(1,"court works!"),n.Qb())},styles:[""]}),e})(),ir=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Gb({type:e,selectors:[["app-freedom"]],decls:2,vars:0,template:function(e,t){1&e&&(n.Rb(0,"p"),n.zc(1,"freedom works!"),n.Qb())},styles:[""]}),e})(),rr=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Gb({type:e,selectors:[["app-rooms"]],decls:2,vars:0,template:function(e,t){1&e&&(n.Rb(0,"p"),n.zc(1,"rooms works!"),n.Qb())},styles:[""]}),e})(),sr=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Gb({type:e,selectors:[["app-binnacle"]],decls:2,vars:0,template:function(e,t){1&e&&(n.Rb(0,"p"),n.zc(1,"binnacle works!"),n.Qb())},styles:[""]}),e})(),nr=(()=>{class e{constructor(e,t){this.store=e,this.router=t,this._subs$=[],this.sessData=null,this.store.dispatch(s.a({current:{title:"Informaci\xf3n de usuario",description:"",url:this.router.url}}))}ngOnInit(){this._subs$.push(this.store.select("sess").subscribe(e=>this.sessData=e)),this.initOM()}ngOnDestroy(){this._subs$.forEach(e=>{try{e.unsubscribe()}catch(t){}})}initOM(){$("#chkMO").bootstrapToggle(localStorage.getItem("om")?"on":"off",!0),$("#chkMO").change(function(){$(this).prop("checked")?(localStorage.setItem("om","1"),$("body").addClass("om")):(localStorage.removeItem("om"),$("body").removeClass("om"))})}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(c.h),n.Mb(r.b))},e.\u0275cmp=n.Gb({type:e,selectors:[["app-info"]],decls:31,vars:0,consts:[[1,"container","mt-3"],["aria-hidden","true",1,"fa","fa-user-circle-o"],[1,"row","m-0"],[1,"col-*","pr-2"],["id","v-pills-tab","role","tablist","aria-orientation","vertical",1,"nav","flex-column","nav-pills","om"],["id","v-pills-userInfo-tab","data-toggle","pill","href","#v-pills-userInfo","role","tab","aria-controls","v-pills-userInfo","aria-selected","false",1,"nav-link","active","show"],["aria-hidden","true",1,"fa","fa-info-circle","mr-2"],["id","v-pills-passChange-tab","data-toggle","pill","href","#v-pills-passChange","role","tab","aria-controls","v-pills-passChange","aria-selected","false",1,"nav-link"],["aria-hidden","true",1,"fa","fa-key","mr-2"],["id","v-pills-config-tab","data-toggle","pill","href","#v-pills-config","role","tab","aria-controls","v-pills-config","aria-selected","false",1,"nav-link"],["aria-hidden","true",1,"fa","fa-cogs","mr-2"],[1,"col"],["id","v-pills-tabContent",1,"tab-content"],["id","v-pills-userInfo","role","tabpanel","aria-labelledby","v-pills-userInfo-tab",1,"tab-pane","fade","active","show"],["id","v-pills-passChange","role","tabpanel","aria-labelledby","v-pills-passChange-tab",1,"tab-pane","fade"],["id","v-pills-config","role","tabpanel","aria-labelledby","v-pills-config-tab",1,"tab-pane","fade"],[1,"row","align-items-center","px-5"],[1,"col-auto"],[1,"col-auto","ml-auto"],["id","chkMO","type","checkbox","checked","","data-toggle","toggle","data-on",'<i class="fa fa-sun-o" aria-hidden="true"></i> Claro',"data-off",'<i class="fa fa-moon-o" aria-hidden="true"></i> Obscuro',"data-width","120","data-height","40"]],template:function(e,t){1&e&&(n.Rb(0,"div",0),n.Rb(1,"h2"),n.Nb(2,"i",1),n.zc(3," Informaci\xf3n de usuario"),n.Qb(),n.Nb(4,"hr"),n.Rb(5,"div",2),n.Rb(6,"div",3),n.Rb(7,"div",4),n.Rb(8,"a",5),n.Nb(9,"i",6),n.zc(10," Informaci\xf3n "),n.Qb(),n.Rb(11,"a",7),n.Nb(12,"i",8),n.zc(13," Cambiar contrase\xf1a "),n.Qb(),n.Rb(14,"a",9),n.Nb(15,"i",10),n.zc(16," Configuraci\xf3n "),n.Qb(),n.Qb(),n.Qb(),n.Rb(17,"div",11),n.Rb(18,"div",12),n.Rb(19,"div",13),n.Rb(20,"p"),n.zc(21,"Cillum ad ut irure tempor velit nostrud occaecat ullamco aliqua anim Lorem sint. Veniam sint duis incididunt do esse magna mollit excepteur laborum qui. Id id reprehenderit sit est eu aliqua occaecat quis et velit excepteur laborum mollit dolore eiusmod. Ipsum dolor in occaecat commodo et voluptate minim reprehenderit mollit pariatur. Deserunt non laborum enim et cillum eu deserunt excepteur ea incididunt minim occaecat."),n.Qb(),n.Qb(),n.Rb(22,"div",14),n.Rb(23,"p"),n.zc(24,"Culpa dolor voluptate do laboris laboris irure reprehenderit id incididunt duis pariatur mollit aute magna pariatur consectetur. Eu veniam duis non ut dolor deserunt commodo et minim in quis laboris ipsum velit id veniam. Quis ut consectetur adipisicing officia excepteur non sit. Ut et elit aliquip labore Lorem enim eu. Ullamco mollit occaecat dolore ipsum id officia mollit qui esse anim eiusmod do sint minim consectetur qui."),n.Qb(),n.Qb(),n.Rb(25,"div",15),n.Rb(26,"div",16),n.Rb(27,"h5",17),n.zc(28,"Cambiar colores de entorno"),n.Qb(),n.Rb(29,"div",18),n.Nb(30,"input",19),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb())},styles:[".nav-pills.om[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .nav-pills.om[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{color:#fff;background-color:#343a40}"]}),e})();var cr=i("qfBg");let or=(()=>{class e{constructor(e,t,i){this.userService=e,this.handlerErrorsService=t,this.router=i}canActivate(e,t){const i=this.userService.storageSessModel;let r=!0;switch(e.routeConfig.path){case"captura":r=i.roles.includes(1)||i.roles.includes(2)||i.roles.includes(4)||i.roles.includes(5);break;case"consultas":r=i.roles.includes(1)||i.roles.includes(2)||i.roles.includes(6);break;case"constancias":r=i.roles.includes(1)||i.roles.includes(2)||i.roles.includes(7);break;case"catalogo/usuarios":case"catalogo/delitos":case"catalogo/juzgados":case"catalogo/libertades":case"catalogo/salas":r=i.roles.includes(1)||i.roles.includes(2)||i.roles.includes(3);break;case"bitacora":r=i.roles.includes(1)||i.roles.includes(2)}return r||(this.handlerErrorsService.showErr("Restringido",{message:"Permisos insuficientes"},"error"),this.router.navigate(["/"])),r}}return e.\u0275fac=function(t){return new(t||e)(n.Yb(cr.a),n.Yb(S.a),n.Yb(r.b))},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ar=[{path:"",component:h},{path:"captura",component:p,canActivate:[or]},{path:"consultas",component:g,canActivate:[or]},{path:"constancias",component:m,canActivate:[or]},{path:"catalogo/personas",component:Ge,canActivate:[or]},{path:"catalogo/usuarios",component:ui,canActivate:[or]},{path:"catalogo/delitos",component:er,canActivate:[or]},{path:"catalogo/juzgados",component:tr,canActivate:[or]},{path:"catalogo/libertades",component:ir,canActivate:[or]},{path:"catalogo/salas",component:rr,canActivate:[or]},{path:"bitacora",component:sr,canActivate:[or]},{path:"usuario/info",component:nr,canActivate:[or]}];let lr=(()=>{class e{}return e.\u0275mod=n.Kb({type:e}),e.\u0275inj=n.Jb({factory:function(t){return new(t||e)},imports:[[r.e.forChild(ar)],r.e]}),e})()}}]);